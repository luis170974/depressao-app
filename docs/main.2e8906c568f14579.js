"use strict";(self.webpackChunkdepressao_app=self.webpackChunkdepressao_app||[]).push([[179],{6217:(un,et,j)=>{j.d(et,{nm:()=>di});var a=j(2122);j(4650),j(259);var Ye=j(5861),ge=j(9681),We=j(4859),yt=j(2090),Tt=j(1877);const ae=new Map,at={activated:!1,tokenObservers:[]},pt={initialized:!1,enabled:!1};function Vt(xe){return ae.get(xe)||Object.assign({},at)}function Kt(){return pt}class Yt{constructor(Fe,Xe,Lt,en,Nn){if(this.operation=Fe,this.retryPolicy=Xe,this.getWaitDuration=Lt,this.lowerBound=en,this.upperBound=Nn,this.pending=null,this.nextErrorWaitInterval=en,en>Nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Fe){var Xe=this;return(0,Ye.Z)(function*(){Xe.stop();try{Xe.pending=new yt.BH,yield function Ue(xe){return new Promise(Fe=>{setTimeout(Fe,xe)})}(Xe.getNextRun(Fe)),Xe.pending.resolve(),yield Xe.pending.promise,Xe.pending=new yt.BH,yield Xe.operation(),Xe.pending.resolve(),yield Xe.pending.promise,Xe.process(!0).catch(()=>{})}catch(Lt){Xe.retryPolicy(Lt)?Xe.process(!1).catch(()=>{}):Xe.stop()}})()}getNextRun(Fe){if(Fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Xe}}}const Te=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ke(xe){if(!Vt(xe).activated)throw Te.create("use-before-activation",{appName:xe.name})}function Qn(xe,Fe){return fr.apply(this,arguments)}function fr(){return(fr=(0,Ye.Z)(function*({url:xe,body:Fe},Xe){const Lt={"Content-Type":"application/json"},en=Xe.getImmediate({optional:!0});if(en){const Xi=yield en.getHeartbeatsHeader();Xi&&(Lt["X-Firebase-Client"]=Xi)}const Nn={method:"POST",body:JSON.stringify(Fe),headers:Lt};let Kn,Dr;try{Kn=yield fetch(xe,Nn)}catch(Xi){throw Te.create("fetch-network-error",{originalErrorMessage:Xi?.message})}if(200!==Kn.status)throw Te.create("fetch-status-error",{httpStatus:Kn.status});try{Dr=yield Kn.json()}catch(Xi){throw Te.create("fetch-parse-error",{originalErrorMessage:Xi?.message})}const jr=Dr.ttl.match(/^([\d.]+)(s)$/);if(!jr||!jr[2]||isNaN(Number(jr[1])))throw Te.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Dr.ttl}`});const Di=1e3*Number(jr[1]),Oi=Date.now();return{token:Dr.token,expireTimeMillis:Oi+Di,issuedAtTimeMillis:Oi}})).apply(this,arguments)}function Xn(xe,Fe){const{projectId:Xe,appId:Lt,apiKey:en}=xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Xe}/apps/${Lt}:exchangeDebugToken?key=${en}`,body:{debug_token:Fe}}}const He="firebase-app-check-store";let dt=null;function ot(){return dt||(dt=new Promise((xe,Fe)=>{try{const Xe=indexedDB.open("firebase-app-check-database",1);Xe.onsuccess=Lt=>{xe(Lt.target.result)},Xe.onerror=Lt=>{var en;Fe(Te.create("storage-open",{originalErrorMessage:null===(en=Lt.target.error)||void 0===en?void 0:en.message}))},Xe.onupgradeneeded=Lt=>{0===Lt.oldVersion&&Lt.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(Xe){Fe(Te.create("storage-open",{originalErrorMessage:Xe?.message}))}}),dt)}function kn(){return(kn=(0,Ye.Z)(function*(xe,Fe){const Lt=(yield ot()).transaction(He,"readwrite"),Nn=Lt.objectStore(He).put({compositeKey:xe,value:Fe});return new Promise((Kn,Dr)=>{Nn.onsuccess=jr=>{Kn()},Lt.onerror=jr=>{var Di;Dr(Te.create("storage-set",{originalErrorMessage:null===(Di=jr.target.error)||void 0===Di?void 0:Di.message}))}})})).apply(this,arguments)}const zn=new Tt.Yd("@firebase/app-check");function Yr(xe,Fe){return(0,yt.hl)()?function gr(xe,Fe){return function Pr(xe,Fe){return kn.apply(this,arguments)}(function Ai(xe){return`${xe.options.appId}-${xe.name}`}(xe),Fe)}(xe,Fe).catch(Xe=>{zn.warn(`Failed to write token to IndexedDB. Error: ${Xe}`)}):Promise.resolve()}function fi(){return Kt().enabled}function er(){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,Ye.Z)(function*(){const xe=Kt();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xt={error:"UNKNOWN_ERROR"};function Nt(xe){return yt.US.encodeString(JSON.stringify(xe),!1)}function cn(xe){return Un.apply(this,arguments)}function Un(){return(Un=(0,Ye.Z)(function*(xe,Fe=!1){const Xe=xe.app;Ke(Xe);const Lt=Vt(Xe);let Nn,en=Lt.token;if(en&&!Dt(en)&&(Lt.token=void 0,en=void 0),!en){const jr=yield Lt.cachedTokenPromise;jr&&(Dt(jr)?en=jr:yield Yr(Xe,void 0))}if(!Fe&&en&&Dt(en))return{token:en.token};let Dr,Kn=!1;if(fi()){Lt.exchangeTokenPromise||(Lt.exchangeTokenPromise=Qn(Xn(Xe,yield er()),xe.heartbeatServiceProvider).finally(()=>{Lt.exchangeTokenPromise=void 0}),Kn=!0);const jr=yield Lt.exchangeTokenPromise;return yield Yr(Xe,jr),Lt.token=jr,{token:jr.token}}try{Lt.exchangeTokenPromise||(Lt.exchangeTokenPromise=Lt.provider.getToken().finally(()=>{Lt.exchangeTokenPromise=void 0}),Kn=!0),en=yield Vt(Xe).exchangeTokenPromise}catch(jr){"appCheck/throttled"===jr.code?zn.warn(jr.message):zn.error(jr),Nn=jr}return en?Nn?Dr=Dt(en)?{token:en.token,internalError:Nn}:it(Nn):(Dr={token:en.token},Lt.token=en,yield Yr(Xe,en)):Dr=it(Nn),Kn&&ke(Xe,Dr),Dr})).apply(this,arguments)}function Fn(xe,Fe){const Xe=Vt(xe),Lt=Xe.tokenObservers.filter(en=>en.next!==Fe);0===Lt.length&&Xe.tokenRefresher&&Xe.tokenRefresher.isRunning()&&Xe.tokenRefresher.stop(),Xe.tokenObservers=Lt}function Ie(xe){const{app:Fe}=xe,Xe=Vt(Fe);let Lt=Xe.tokenRefresher;Lt||(Lt=function _e(xe){const{app:Fe}=xe;return new Yt((0,Ye.Z)(function*(){let Lt;if(Lt=Vt(Fe).token?yield cn(xe,!0):yield cn(xe),Lt.error)throw Lt.error;if(Lt.internalError)throw Lt.internalError}),()=>!0,()=>{const Xe=Vt(Fe);if(Xe.token){let Lt=Xe.token.issuedAtTimeMillis+.5*(Xe.token.expireTimeMillis-Xe.token.issuedAtTimeMillis)+3e5;return Lt=Math.min(Lt,Xe.token.expireTimeMillis-3e5),Math.max(0,Lt-Date.now())}return 0},3e4,96e4)}(xe),Xe.tokenRefresher=Lt),!Lt.isRunning()&&Xe.isTokenAutoRefreshEnabled&&Lt.start()}function ke(xe,Fe){const Xe=Vt(xe).tokenObservers;for(const Lt of Xe)try{"EXTERNAL"===Lt.type&&null!=Fe.error?Lt.error(Fe.error):Lt.next(Fe)}catch{}}function Dt(xe){return xe.expireTimeMillis-Date.now()>0}function it(xe){return{token:Nt(Xt),error:xe}}class fn{constructor(Fe,Xe){this.app=Fe,this.heartbeatServiceProvider=Xe}_delete(){const{tokenObservers:Fe}=Vt(this.app);for(const Xe of Fe)Fn(this.app,Xe.next);return Promise.resolve()}}const tr="app-check-internal";!function Or(){(0,ge._registerComponent)(new We.wA("app-check",xe=>function qn(xe,Fe){return new fn(xe,Fe)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,Fe,Xe)=>{xe.getProvider(tr).initialize()})),(0,ge._registerComponent)(new We.wA(tr,xe=>function Hn(xe){return{getToken:Fe=>cn(xe,Fe),addTokenListener:Fe=>function Rn(xe,Fe,Xe,Lt){const{app:en}=xe,Nn=Vt(en);if(Nn.tokenObservers=[...Nn.tokenObservers,{next:Xe,error:Lt,type:Fe}],Nn.token&&Dt(Nn.token)){const Dr=Nn.token;Promise.resolve().then(()=>{Xe({token:Dr.token}),Ie(xe)}).catch(()=>{})}Nn.cachedTokenPromise.then(()=>Ie(xe))}(xe,"INTERNAL",Fe),removeTokenListener:Fe=>Fn(xe.app,Fe)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)("@firebase/app-check","0.6.3")}();class di{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},1205:(un,et,j)=>{j.d(et,{zQ:()=>ct,ww:()=>bt,rT:()=>pt,f7:()=>rn,L6:()=>ae,_Q:()=>at,lh:()=>Vt,Qv:()=>Tt,nw:()=>Kt});var a=j(4650),te=j(7579),I=j(9646),pe=j(9751),we=j(8996),De=j(6451),je=j(5363),Oe=j(3900),Ge=j(4004),ye=j(6063);class he extends te.x{constructor(Ct=1/0,kt=1/0,It=ye.l){super(),this._bufferSize=Ct,this._windowTime=kt,this._timestampProvider=It,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=kt===1/0,this._bufferSize=Math.max(1,Ct),this._windowTime=Math.max(1,kt)}next(Ct){const{isStopped:kt,_buffer:It,_infiniteTimeWindow:Yt,_timestampProvider:Ue,_windowTime:Mt}=this;kt||(It.push(Ct),!Yt&&It.push(Ue.now()+Mt)),this._trimBuffer(),super.next(Ct)}_subscribe(Ct){this._throwIfClosed(),this._trimBuffer();const kt=this._innerSubscribe(Ct),{_infiniteTimeWindow:It,_buffer:Yt}=this,Ue=Yt.slice();for(let Mt=0;Mt<Ue.length&&!Ct.closed;Mt+=It?1:2)Ct.next(Ue[Mt]);return this._checkFinalizedStatuses(Ct),kt}_trimBuffer(){const{_bufferSize:Ct,_timestampProvider:kt,_buffer:It,_infiniteTimeWindow:Yt}=this,Ue=(Yt?1:2)*Ct;if(Ct<1/0&&Ue<It.length&&It.splice(0,It.length-Ue),!Yt){const Mt=kt.now();let Te=0;for(let Ce=1;Ce<It.length&&It[Ce]<=Mt;Ce+=2)Te=Ce;Te&&It.splice(0,Te+1)}}}var Me=j(3099);function Pt(st,Ct,kt){let It,Yt=!1;return st&&"object"==typeof st?({bufferSize:It=1/0,windowTime:Ct=1/0,refCount:Yt=!1,scheduler:kt}=st):It=st??1/0,(0,Me.B)({connector:()=>new he(It,Ct,kt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Yt})}var ft=j(590),St=j(576);function qt(st,Ct){return(0,St.m)(Ct)?(0,Oe.w)(()=>st,Ct):(0,Oe.w)(()=>st)}var nt=j(9468),At=j(9300),ve=j(2122),Ft=j(2011),Ye=j(6895),ge=j(6217),We=j(9260);const Tt=new a.OlP("angularfire2.auth.use-emulator"),ae=new a.OlP("angularfire2.auth.settings"),at=new a.OlP("angularfire2.auth.tenant-id"),pt=new a.OlP("angularfire2.auth.langugage-code"),Vt=new a.OlP("angularfire2.auth.use-device-language"),rn=new a.OlP("angularfire.auth.persistence"),Kt=(st,Ct,kt,It,Yt,Ue,Mt,Te)=>(0,Ft.cc)(`${st.name}.auth`,"AngularFireAuth",st.name,()=>{const Ce=Ct.runOutsideAngular(()=>st.auth());if(kt&&Ce.useEmulator(...kt),It&&(Ce.tenantId=It),Ce.languageCode=Yt,Ue&&Ce.useDeviceLanguage(),Mt)for(const[Ke,Jt]of Object.entries(Mt))Ce.settings[Ke]=Jt;return Te&&Ce.setPersistence(Te),Ce},[kt,It,Yt,Ue,Mt,Te]);let ct=(()=>{class st{constructor(kt,It,Yt,Ue,Mt,Te,Ce,Ke,Jt,wn,Qn,fr){const wr=new te.x,$n=(0,I.of)(void 0).pipe((0,je.Q)(Mt.outsideAngular),(0,Oe.w)(()=>Ue.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,407)))),(0,Ge.U)(()=>(0,Ft.on)(kt,Ue,It)),(0,Ge.U)(Xn=>Kt(Xn,Ue,Te,Ke,Jt,wn,Ce,Qn)),Pt({bufferSize:1,refCount:!1}));if((0,Ye.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,I.of)(null);else{$n.pipe((0,ft.P)()).subscribe();const ir=$n.pipe((0,Oe.w)(Le=>Le.getRedirectResult().then(dt=>dt,()=>null)),ve.iC,Pt({bufferSize:1,refCount:!1})),Ve=$n.pipe((0,Oe.w)(Le=>new pe.y(dt=>({unsubscribe:Ue.runOutsideAngular(()=>Le.onAuthStateChanged(ot=>dt.next(ot),ot=>dt.error(ot),()=>dt.complete()))})))),He=$n.pipe((0,Oe.w)(Le=>new pe.y(dt=>({unsubscribe:Ue.runOutsideAngular(()=>Le.onIdTokenChanged(ot=>dt.next(ot),ot=>dt.error(ot),()=>dt.complete()))}))));this.authState=ir.pipe(qt(Ve),(0,nt.R)(Mt.outsideAngular),(0,je.Q)(Mt.insideAngular)),this.user=ir.pipe(qt(He),(0,nt.R)(Mt.outsideAngular),(0,je.Q)(Mt.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(Le=>Le?(0,we.D)(Le.getIdToken()):(0,I.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(Le=>Le?(0,we.D)(Le.getIdTokenResult()):(0,I.of)(null))),this.credential=(0,De.T)(ir,wr,this.authState.pipe((0,At.h)(Le=>!Le))).pipe((0,Ge.U)(Le=>Le?.user?Le:null),(0,nt.R)(Mt.outsideAngular),(0,je.Q)(Mt.insideAngular))}return(0,Ft.pX)(this,$n,Ue,{spy:{apply:(Xn,ir,Ve)=>{(Xn.startsWith("signIn")||Xn.startsWith("createUser"))&&Ve.then(He=>wr.next(He))}}})}}return st.\u0275fac=function(kt){return new(kt||st)(a.LFG(Ft.Dh),a.LFG(Ft.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ve.HU),a.LFG(Tt,8),a.LFG(ae,8),a.LFG(at,8),a.LFG(pt,8),a.LFG(Vt,8),a.LFG(rn,8),a.LFG(ge.nm,8))},st.\u0275prov=a.Yz7({token:st,factory:st.\u0275fac,providedIn:"any"}),st})(),bt=(()=>{class st{constructor(){We.Z.registerVersion("angularfire",ve.q4.full,"auth-compat")}}return st.\u0275fac=function(kt){return new(kt||st)},st.\u0275mod=a.oAB({type:st}),st.\u0275inj=a.cJS({providers:[ct]}),st})()},8501:(un,et,j)=>{j.d(et,{ST:()=>iy,yb:()=>Cv});var a=j(4650),te=j(4986),I=j(9751),pe=j(8996),we=j(9646),De=j(2122),je=j(8675),Oe=j(4482),Ge=j(5403);function ye(){return(0,Oe.e)((i,e)=>{let t,s=!1;i.subscribe((0,Ge.x)(e,c=>{const p=t;t=c,s&&e.next([p,c]),s=!0}))})}var ae,he=j(4004),Me=j(5026),Pt=j(1884),ft=j(9300),St=j(2011),qt=j(6895),At=(j(407),j(3942)),ve=j(5861),Ft=j(9681),Ye=j(4859),ge=j(1877),We=j(2090),yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt={},at=at||{},pt=yt||self;function Vt(){}function rn(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Kt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var bt="closure_uid_"+(1e9*Math.random()>>>0),st=0;function Ct(i,e,t){return i.call.apply(i.bind,arguments)}function kt(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function It(i,e,t){return(It=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ct:kt).apply(null,arguments)}function Yt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ue(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,c,p){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return e.prototype[c].apply(s,b)}}function Mt(){this.s=this.s,this.o=this.o}Mt.prototype.s=!1,Mt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ct(i){Object.prototype.hasOwnProperty.call(i,bt)&&i[bt]||(i[bt]=++st)}(this)},Mt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ce=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ke(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Jt(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(rn(s)){const c=i.length||0,p=s.length||0;i.length=c+p;for(let b=0;b<p;b++)i[c+b]=s[b]}else i.push(s)}}function wn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}wn.prototype.h=function(){this.defaultPrevented=!0};var Qn=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{pt.addEventListener("test",Vt,e),pt.removeEventListener("test",Vt,e)}catch{}return i}();function fr(i){return/^[\s\xa0]*$/.test(i)}var wr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function $n(i,e){return i<e?-1:i>e?1:0}function Xn(){var i=pt.navigator;return i&&(i=i.userAgent)?i:""}function ir(i){return-1!=Xn().indexOf(i)}function Ve(i){return Ve[" "](i),i}Ve[" "]=Vt;var Pr,i,Le=ir("Opera"),dt=ir("Trident")||ir("MSIE"),ot=ir("Edge"),ln=ot||dt,gr=ir("Gecko")&&!(-1!=Xn().toLowerCase().indexOf("webkit")&&!ir("Edge"))&&!(ir("Trident")||ir("MSIE"))&&!ir("Edge"),jn=-1!=Xn().toLowerCase().indexOf("webkit")&&!ir("Edge");function sr(){var i=pt.document;return i?i.documentMode:void 0}e:{var kn="",Tn=(i=Xn(),gr?/rv:([^\);]+)(\)|;)/.exec(i):ot?/Edge\/([\d\.]+)/.exec(i):dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):jn?/WebKit\/(\S+)/.exec(i):Le?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Tn&&(kn=Tn?Tn[1]:""),dt){var An=sr();if(null!=An&&An>parseFloat(kn)){Pr=String(An);break e}}Pr=kn}var Ai={};var Yr=pt.document&&dt&&(sr()||parseInt(Pr,10))||void 0;function ki(i,e){if(wn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(gr){e:{try{Ve(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Nr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ki.X.h.call(this)}}Ue(ki,wn);var Nr={2:"touch",3:"pen",4:"mouse"};ki.prototype.h=function(){ki.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var fi="closure_listenable_"+(1e6*Math.random()|0),er=0;function Qr(i,e,t,s,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=c,this.key=++er,this.ba=this.ea=!1}function zr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Xt(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function Nt(i){const e={};for(const t in i)e[t]=i[t];return e}const cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Un(i,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)i[t]=s[t];for(let p=0;p<cn.length;p++)t=cn[p],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Rn(i){this.src=i,this.g={},this.h=0}function Fn(i,e){var t=e.type;if(t in i.g){var p,s=i.g[t],c=Ce(s,e);(p=0<=c)&&Array.prototype.splice.call(s,c,1),p&&(zr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ie(i,e,t,s){for(var c=0;c<i.length;++c){var p=i[c];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==s)return c}return-1}Rn.prototype.add=function(i,e,t,s,c){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var b=Ie(i,e,s,c);return-1<b?(e=i[b],t||(e.ea=!1)):((e=new Qr(e,this.src,p,!!s,c)).ea=t,i.push(e)),e};var _e="closure_lm_"+(1e6*Math.random()|0),ke={};function Dt(i,e,t,s,c){if(s&&s.once)return qn(i,e,t,s,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Dt(i,e[p],t,s,c);return null}return t=jt(t),i&&i[fi]?i.N(e,t,Kt(s)?!!s.capture:!!s,c):it(i,e,t,!1,s,c)}function it(i,e,t,s,c,p){if(!e)throw Error("Invalid event type");var b=Kt(c)?!!c.capture:!!c,O=ue(i);if(O||(i[_e]=O=new Rn(i)),(t=O.add(e,t,s,b,p)).proxy)return t;if(s=function fn(){const e=Pe;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Qn||(c=b),void 0===c&&(c=!1),i.addEventListener(e.toString(),s,c);else if(i.attachEvent)i.attachEvent(Ne(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function qn(i,e,t,s,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)qn(i,e[p],t,s,c);return null}return t=jt(t),i&&i[fi]?i.O(e,t,Kt(s)?!!s.capture:!!s,c):it(i,e,t,!0,s,c)}function Hn(i,e,t,s,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Hn(i,e[p],t,s,c);else s=Kt(s)?!!s.capture:!!s,t=jt(t),i&&i[fi]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ie(p=i.g[e],t,s,c))&&(zr(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=ue(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ie(e,t,s,c)),(t=-1<i?e[i]:null)&&xr(t))}function xr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[fi])Fn(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Ne(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=ue(e))?(Fn(t,i),0==t.h&&(t.src=null,e[_e]=null)):zr(i)}}}function Ne(i){return i in ke?ke[i]:ke[i]="on"+i}function Pe(i,e){if(i.ba)i=!0;else{e=new ki(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&xr(i),i=t.call(s,e)}return i}function ue(i){return(i=i[_e])instanceof Rn?i:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(i){return"function"==typeof i?i:(i[ze]||(i[ze]=function(e){return i.handleEvent(e)}),i[ze])}function sn(){Mt.call(this),this.i=new Rn(this),this.P=this,this.I=null}function Mn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new wn(e,i);else if(e instanceof wn)e.target=e.target||i;else{var c=e;Un(e=new wn(s,i),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var b=e.g=t[p];c=ai(b,s,!0,e)&&c}if(c=ai(b=e.g=i,s,!0,e)&&c,c=ai(b,s,!1,e)&&c,t)for(p=0;p<t.length;p++)c=ai(b=e.g=t[p],s,!1,e)&&c}function ai(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var b=e[p];if(b&&!b.ba&&b.capture==t){var O=b.listener,Z=b.ha||b.src;b.ea&&Fn(i.i,b),c=!1!==O.call(Z,s)&&c}}return c&&!s.defaultPrevented}Ue(sn,Mt),sn.prototype[fi]=!0,sn.prototype.removeEventListener=function(i,e,t,s){Hn(this,i,e,t,s)},sn.prototype.M=function(){if(sn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)zr(t[s]);delete i.g[e],i.h--}}this.I=null},sn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},sn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Jr=pt.JSON.stringify;function Rs(){var i=Mi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var cs,Cs=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new kr,i=>i.reset());class kr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yi(i){pt.setTimeout(()=>{throw i},0)}function Ps(i,e){cs||function eo(){var i=pt.Promise.resolve(void 0);cs=function(){i.then(ui)}}(),vr||(cs(),vr=!0),Mi.add(i,e)}var vr=!1,Mi=new class pi{constructor(){this.h=this.g=null}add(e,t){const s=Cs.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ui(){for(var i;i=Rs();){try{i.h.call(i.g)}catch(t){Yi(t)}var e=Cs;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}vr=!1}function ci(i,e){sn.call(this),this.h=i||1,this.g=e||pt,this.j=It(this.lb,this),this.l=Date.now()}function Fi(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function rs(i,e,t){if("function"==typeof i)t&&(i=It(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=It(i.handleEvent,i)}return 2147483647<Number(e)?-1:pt.setTimeout(i,e||0)}function hn(i){i.g=rs(()=>{i.g=null,i.i&&(i.i=!1,hn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ue(ci,sn),(ae=ci.prototype).ca=!1,ae.R=null,ae.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mn(this,"tick"),this.ca&&(Fi(this),this.start()))}},ae.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ae.M=function(){ci.X.M.call(this),Fi(this),delete this.g};class tr extends Mt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hn(this)}M(){super.M(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(i){Mt.call(this),this.h=i,this.g={}}Ue(Or,Mt);var Qi=[];function $i(i,e,t,s){Array.isArray(t)||(t&&(Qi[0]=t.toString()),t=Qi);for(var c=0;c<t.length;c++){var p=Dt(e,t[c],s||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function di(i){Xt(i.g,function(e,t){this.g.hasOwnProperty(t)&&xr(e)},i),i.g={}}function Ni(){this.g=!0}function ji(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function to(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var b=1;b<c.length;b++)c[b]=""}}}return Jr(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Or.prototype.M=function(){Or.X.M.call(this),di(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ni.prototype.Aa=function(){this.g=!1},Ni.prototype.info=function(){};var Gi={},xs=null;function Ji(){return xs=xs||new sn}function gi(i){wn.call(this,Gi.Pa,i)}function Is(i){const e=Ji();Mn(e,new gi(e))}function po(i,e){wn.call(this,Gi.STAT_EVENT,i),this.stat=e}function ri(i){const e=Ji();Mn(e,new po(e,i))}function go(i,e){wn.call(this,Gi.Qa,i),this.size=e}function _s(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){i()},e)}Gi.Pa="serverreachability",Ue(gi,wn),Gi.STAT_EVENT="statevent",Ue(po,wn),Gi.Qa="timingevent",Ue(go,wn);var xe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fe={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xe(){}function en(){}Xe.prototype.h=null;var jr,Nn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Kn(){wn.call(this,"d")}function Dr(){wn.call(this,"c")}function Di(){}function Oi(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new Or(this),this.O=Bi,this.T=new ci(i=ln?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}Ue(Kn,wn),Ue(Dr,wn),Ue(Di,Xe),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},jr=new Di;var Bi=45e3,no={},Ui={};function ro(i,e,t){i.K=1,i.v=vs(ys(e)),i.s=t,i.P=!0,ja(i,null)}function ja(i,e){i.F=Date.now(),ks(i),i.A=ys(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),Vr(t.i,"t",s),i.C=0,t=i.l.H,i.h=new Xi,i.g=ul(i.l,t?e:null,!i.s),0<i.N&&(i.L=new tr(It(i.La,i,i.g),i.N)),$i(i.S,i.g,"readystatechange",i.ib),e=i.H?Nt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Is(),function Ar(i,e,t,s,c,p){i.info(function(){if(i.g)if(p)for(var b="",O=p.split("&"),Z=0;Z<O.length;Z++){var Q=O[Z].split("=");if(1<Q.length){var le=Q[0];Q=Q[1];var Ae=le.split("_");b=2<=Ae.length&&"type"==Ae[1]?b+(le+"=")+Q+"&":b+(le+"=redacted&")}}else b=null;else b=p;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.U,i.s)}function io(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Gs(i,e,t){let c,s=!0;for(;!i.I&&i.C<t.length;){if(c=Uo(i,t),c==Ui){4==e&&(i.o=4,ri(14),s=!1),ji(i.j,i.m,null,"[Incomplete Response]");break}if(c==no){i.o=4,ri(15),ji(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}ji(i.j,i.m,c,null),Fs(i,c)}io(i)&&c!=Ui&&c!=no&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ri(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ka(e),e.K=!0,ri(11))):(ji(i.j,i.m,t,"[Invalid Chunked Response]"),_o(i),mo(i))}function Uo(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Ui:(t=Number(e.substring(t,s)),isNaN(t)?no:(s+=1)+t>e.length?Ui:(e=e.substr(s,t),i.C=s+t,e))}function ks(i){i.V=Date.now()+i.O,To(i,i.O)}function To(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=_s(It(i.gb,i),e)}function Xo(i){i.B&&(pt.clearTimeout(i.B),i.B=null)}function mo(i){0==i.l.G||i.I||la(i.l,i)}function _o(i){Xo(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Fi(i.T),di(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Fs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||zs(t.h,i)))if(!i.J&&zs(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Zs(t),Go(t)}oa(t),ri(18)}}else t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=_s(It(t.cb,t),6e3));if(1>=Ri(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else co(t,11)}else if((i.J||t.g==i)&&Zs(t),!fr(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Q=c[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const le=Q[3];null!=le&&(t.ma=le,t.j.info("VER="+t.ma));const Ae=Q[4];null!=Ae&&(t.Ca=Ae,t.j.info("SVER="+t.Ca));const gt=Q[5];null!=gt&&"number"==typeof gt&&0<gt&&(t.J=s=1.5*gt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Zt=i.g;if(Zt){const nn=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var p=s.h;p.g||-1==nn.indexOf("spdy")&&-1==nn.indexOf("quic")&&-1==nn.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Ho(p,p.h),p.h=null))}if(s.D){const xn=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;xn&&(s.za=xn,dr(s.F,s.D,xn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=i;if((s=t).sa=Ll(s,s.H?s.ka:null,s.V),b.J){ra(s.h,b);var O=b,Z=s.J;Z&&O.setTimeout(Z),O.B&&(Xo(O),ks(O)),s.g=b}else Wa(s);0<t.i.length&&za(t)}else"stop"!=Q[0]&&"close"!=Q[0]||co(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?co(t,7):Es(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}Is()}catch{}}function Ga(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(rn(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function ds(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(rn(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function Co(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(rn(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),c=s.length,p=0;p<c;p++)e.call(void 0,s[p],t&&t[p],i)}(ae=Oi.prototype).setTimeout=function(i){this.O=i},ae.ib=function(i){i=i.target;const e=this.L;e&&3==Vs(i)?e.l():this.La(i)},ae.La=function(i){try{if(i==this.g)e:{const le=Vs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>le)&&(3!=le||ln||this.g&&(this.h.h||this.g.fa()||Pa(this.g)))){this.I||4!=le||7==e||Is(),Xo(this);var t=this.g.aa();this.Y=t;t:if(io(this)){var s=Pa(this.g);i="";var c=s.length,p=4==Vs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),mo(this);var b="";break t}this.h.i=new pt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:p&&e==c-1});s.splice(0,c),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function fo(i,e,t,s,c,p,b){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+b})}(this.j,this.u,this.A,this.m,this.U,le,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var O,Z=this.g;if((O=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(O)){var Q=O;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,ri(12),_o(this),mo(this);break e}ji(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fs(this,t)}this.P?(Gs(this,le,b),ln&&this.i&&3==le&&($i(this.S,this.T,"tick",this.hb),this.T.start())):(ji(this.j,this.m,b,null),Fs(this,b)),4==le&&_o(this),this.i&&!this.I&&(4==le?la(this.l,this):(this.i=!1,ks(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,ri(12)):(this.o=0,ri(13)),_o(this),mo(this)}}}catch{}},ae.hb=function(){if(this.g){var i=Vs(this.g),e=this.g.fa();this.C<e.length&&(Xo(this),Gs(this,i,e),this.i&&4!=i&&ks(this))}},ae.cancel=function(){this.I=!0,_o(this)},ae.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function cr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Is(),ri(17)),_o(this),this.o=2,mo(this)):To(this,this.V-i)};var ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Li){this.h=void 0!==e?e:i.h,ta(this,i.j),this.s=i.s,this.g=i.g,Vo(this,i.m),this.l=i.l,e=i.i;var t=new oo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ga(this,t),this.o=i.o}else i&&(t=String(i).match(ea))?(this.h=!!e,ta(this,t[1]||"",!0),this.s=is(t[2]||""),this.g=is(t[3]||"",!0),Vo(this,t[4]),this.l=is(t[5]||"",!0),ga(this,t[6]||"",!0),this.o=is(t[7]||"")):(this.h=!!e,this.i=new oo(null,this.h))}function ys(i){return new Li(i)}function ta(i,e,t){i.j=t?is(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ga(i,e,t){e instanceof oo?(i.i=e,function zi(i,e){e&&!i.j&&(Si(i),i.i=null,i.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(Ti(this,s),Vr(this,c,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ls(e,Qa)),i.i=new oo(e,i.h))}function dr(i,e,t){i.i.set(e,t)}function vs(i){return dr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function is(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ls(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ma),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ma(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Li.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ls(e,so,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ls(e,so,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ls(t,"/"==t.charAt(0)?Ra:ss,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ls(t,Io)),i.join("")};var so=/[#\/\?@]/g,ss=/[#\?:]/g,Ra=/[#\?]/g,Qa=/[#\?@]/g,Io=/#/g;function oo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Si(i){i.g||(i.g=new Map,i.h=0,i.i&&function yo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),c=null;if(0<=s){var p=i[t].substring(0,s);c=i[t].substring(s+1)}else p=i[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ti(i,e){Si(i),e=ts(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ao(i,e){return Si(i),e=ts(i,e),i.g.has(e)}function Vr(i,e,t){Ti(i,e),0<t.length&&(i.i=null,i.g.set(ts(i,e),Ke(t)),i.h+=t.length)}function ts(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ao(i){this.l=i||na,i=pt.PerformanceNavigationTiming?0<(i=pt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(pt.g&&pt.g.Ga&&pt.g.Ga()&&pt.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ae=oo.prototype).add=function(i,e){Si(this),this.i=null,i=ts(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ae.forEach=function(i,e){Si(this),this.g.forEach(function(t,s){t.forEach(function(c){i.call(e,c,s,this)},this)},this)},ae.oa=function(){Si(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=i[s];for(let p=0;p<c.length;p++)t.push(e[s])}return t},ae.W=function(i){Si(this);let e=[];if("string"==typeof i)Ao(this,i)&&(e=e.concat(this.g.get(ts(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},ae.set=function(i,e){return Si(this),this.i=null,Ao(this,i=ts(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ae.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const p=encodeURIComponent(String(s)),b=this.W(s);for(s=0;s<b.length;s++){var c=p;""!==b[s]&&(c+="="+encodeURIComponent(String(b[s]))),i.push(c)}}return this.i=i.join("&")};var na=10;function lo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ri(i){return i.h?1:i.g?i.g.size:0}function zs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ho(i,e){i.g?i.g.add(e):i.h=e}function ra(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function bs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ke(i.i)}function As(){}function ia(){this.g=new As}function Yn(i,e,t){const s=t||"";try{Ga(i,function(c,p){let b=c;Kt(c)&&(b=Jr(c)),e.push(s+p+"="+encodeURIComponent(b))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function uo(i,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Mo(i){this.l=i.ac||null,this.j=i.jb||!1}function sa(i,e){sn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=jo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ao.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},As.prototype.stringify=function(i){return pt.JSON.stringify(i,void 0)},As.prototype.parse=function(i){return pt.JSON.parse(i,void 0)},Ue(Mo,Xe),Mo.prototype.g=function(){return new sa(this.l,this.j)},Mo.prototype.i=function(i){return function(){return i}}({}),Ue(sa,sn);var jo=0;function _a(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ya(i){i.readyState=4,i.l=null,i.j=null,i.A=null,No(i)}function No(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ae=sa.prototype).open=function(i,e){if(this.readyState!=jo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,No(this)},ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||pt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ya(this)),this.readyState=jo},ae.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof pt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_a(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},ae.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ya(this):No(this),3==this.readyState&&_a(this)}},ae.Va=function(i){this.g&&(this.response=this.responseText=i,ya(this))},ae.Ua=function(i){this.g&&(this.response=i,ya(this))},ae.ga=function(){this.g&&ya(this)},ae.setRequestHeader=function(i,e){this.v.append(i,e)},ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var k=pt.JSON.parse;function L(i){sn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=F,this.K=this.L=!1}Ue(L,sn);var F="",re=/^https?$/i,rt=["POST","PUT"];function qr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ii(i),Us(i)}function ii(i){i.D||(i.D=!0,Mn(i,"complete"),Mn(i,"error"))}function Bs(i){if(i.h&&typeof at<"u"&&(!i.C[1]||4!=Vs(i)||2!=i.aa()))if(i.v&&4==Vs(i))rs(i.Ha,0,i);else if(Mn(i,"readystatechange"),4==Vs(i)){i.h=!1;try{const O=i.aa();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===O){var c=String(i.H).match(ea)[1]||null;if(!c&&pt.self&&pt.self.location){var p=pt.self.location.protocol;c=p.substr(0,p.length-1)}s=!re.test(c?c.toLowerCase():"")}t=s}if(t)Mn(i,"complete"),Mn(i,"success");else{i.m=6;try{var b=2<Vs(i)?i.g.statusText:""}catch{b=""}i.j=b+" ["+i.aa()+"]",ii(i)}}finally{Us(i)}}}function Us(i,e){if(i.g){va(i);const t=i.g,s=i.C[0]?Vt:null;i.g=null,i.C=null,e||Mn(i,"ready");try{t.onreadystatechange=s}catch{}}}function va(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(pt.clearTimeout(i.A),i.A=null)}function Vs(i){return i.g?i.g.readyState:0}function Pa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case F:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(i){let e="";return Xt(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function mr(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Pi(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):dr(i,e,t))}function hs(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Wi(i){this.Ca=0,this.i=[],this.j=new Ni,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hs("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hs("baseRetryDelayMs",5e3,i),this.bb=hs("retryDelaySeedMs",1e4,i),this.$a=hs("forwardChannelMaxRetries",2,i),this.ta=hs("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ao(i&&i.concurrentRequestLimit),this.Fa=new ia,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Es(i){if(zo(i),3==i.G){var e=i.U++,t=ys(i.F);dr(t,"SID",i.I),dr(t,"RID",e),dr(t,"TYPE","terminate"),Ws(i,t),(e=new Oi(i,i.j,e,void 0)).K=2,e.v=vs(ys(t)),t=!1,pt.navigator&&pt.navigator.sendBeacon&&(t=pt.navigator.sendBeacon(e.v.toString(),"")),!t&&pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ul(e.l,null),e.g.da(e.v)),e.F=Date.now(),ks(e)}vl(i)}function Go(i){i.g&&(ka(i),i.g.cancel(),i.g=null)}function zo(i){Go(i),i.u&&(pt.clearTimeout(i.u),i.u=null),Zs(i),i.h.cancel(),i.m&&("number"==typeof i.m&&pt.clearTimeout(i.m),i.m=null)}function za(i){lo(i.h)||i.m||(i.m=!0,Ps(i.Ja,i),i.C=0)}function Ja(i,e){var t;t=e?e.m:i.U++;const s=ys(i.F);dr(s,"SID",i.I),dr(s,"RID",t),dr(s,"AID",i.T),Ws(i,s),i.o&&i.s&&mr(s,i.o,i.s),t=new Oi(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=xa(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Ho(i.h,t),ro(t,s,e)}function Ws(i,e){i.ia&&Xt(i.ia,function(t,s){dr(e,s,t)}),i.l&&Ga({},function(t,s){dr(e,s,t)})}function xa(i,e,t){t=Math.min(i.i.length,t);var s=i.l?It(i.l.Ra,i.l,i):null;e:{var c=i.i;let p=-1;for(;;){const b=["count="+t];-1==p?0<t?(p=c[0].h,b.push("ofs="+p)):p=0:b.push("ofs="+p);let O=!0;for(let Z=0;Z<t;Z++){let Q=c[Z].h;const le=c[Z].g;if(Q-=p,0>Q)p=Math.max(0,c[Z].h-100),O=!1;else try{Yn(le,b,"req"+Q+"_")}catch{s&&s(le)}}if(O){s=b.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function Wa(i){i.g||i.u||(i.Z=1,Ps(i.Ia,i),i.A=0)}function oa(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=_s(It(i.Ia,i),ll(i,i.A)),i.A++,0))}function ka(i){null!=i.B&&(pt.clearTimeout(i.B),i.B=null)}function aa(i){i.g=new Oi(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ys(i.sa);dr(e,"RID","rpc"),dr(e,"SID",i.I),dr(e,"CI",i.L?"0":"1"),dr(e,"AID",i.T),dr(e,"TYPE","xmlhttp"),Ws(i,e),i.o&&i.s&&mr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=vs(ys(e)),t.s=null,t.P=!0,ja(t,i)}function Zs(i){null!=i.v&&(pt.clearTimeout(i.v),i.v=null)}function la(i,e){var t=null;if(i.g==e){Zs(i),ka(i),i.g=null;var s=2}else{if(!zs(i.h,e))return;t=e.D,ra(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;Mn(s=Ji(),new go(s,t)),za(i)}else Wa(i);else if(3==(c=e.o)||0==c&&0<i.pa||!(1==s&&function al(i,e){return!(Ri(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=_s(It(i.Ja,i,e),ll(i,i.C)),i.C++,0)))}(i,e)||2==s&&oa(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),c){case 1:co(i,5);break;case 4:co(i,10);break;case 3:co(i,6);break;default:co(i,2)}}function ll(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function co(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=It(i.kb,i);t||(t=new Li("//www.google.com/images/cleardot.gif"),pt.location&&"http"==pt.location.protocol||ta(t,"https"),vs(t)),function $o(i,e){const t=new Ni;if(pt.Image){const s=new Image;s.onload=Yt(uo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Yt(uo,t,s,"TestLoadImage: error",!1,e),s.onabort=Yt(uo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Yt(uo,t,s,"TestLoadImage: timeout",!1,e),pt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else ri(2);i.G=0,i.l&&i.l.va(e),vl(i),zo(i)}function vl(i){if(i.G=0,i.la=[],i.l){const e=bs(i.h);(0!=e.length||0!=i.i.length)&&(Jt(i.la,e),Jt(i.la,i.i),i.h.i.length=0,Ke(i.i),i.i.length=0),i.l.ua()}}function Ll(i,e,t){var s=t instanceof Li?ys(t):new Li(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Vo(s,s.m);else{var c=pt.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new Li(null,void 0);s&&ta(p,s),e&&(p.g=e),c&&Vo(p,c),t&&(p.l=t),s=p}return e=i.za,(t=i.D)&&e&&dr(s,t,e),dr(s,"VER",i.ma),Ws(i,s),s}function ul(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new L(t&&i.Da&&!i.ra?new Mo({jb:!0}):i.ra)).Ka(i.H),e}function Ms(){}function Oo(){if(dt&&!(10<=Number(Yr)))throw Error("Environmental error: no available transport.")}function Fr(i,e){sn.call(this),this.g=new Wi(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!fr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new es(this)}function ua(i){Kn.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Xa(){Dr.call(this),this.status=1}function es(i){this.g=i}(ae=L.prototype).Ka=function(i){this.L=i},ae.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jr.g(),this.C=function Lt(i){return i.h||(i.h=i.i())}(this.u?this.u:jr),this.g.onreadystatechange=It(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void qr(this,p)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const p of s.keys())t.set(p,s.get(p))}s=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=pt.FormData&&i instanceof pt.FormData,!(0<=Ce(rt,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,b]of t)this.g.setRequestHeader(p,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{va(this),0<this.B&&((this.K=function En(i){return dt&&function zn(){return function He(i){var e=Ai;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=wr(String(Pr)).split("."),t=wr("9").split("."),s=Math.max(e.length,t.length);for(let b=0;0==i&&b<s;b++){var c=e[b]||"",p=t[b]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;i=$n(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||$n(0==c[2].length,0==p[2].length)||$n(c[2],p[2]),c=c[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=It(this.qa,this)):this.A=rs(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){qr(this,p)}},ae.qa=function(){typeof at<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mn(this,"timeout"),this.abort(8))},ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Mn(this,"complete"),Mn(this,"abort"),Us(this))},ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Us(this,!0)),L.X.M.call(this)},ae.Ha=function(){this.s||(this.F||this.v||this.l?Bs(this):this.fb())},ae.fb=function(){Bs(this)},ae.aa=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},ae.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ae.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),k(e)}},ae.Ea=function(){return this.m},ae.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ae=Wi.prototype).ma=8,ae.G=1,ae.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const c=new Oi(this,this.j,i,void 0);let p=this.s;if(this.S&&(p?(p=Nt(p),Un(p,this.S)):p=this.S),null!==this.o||this.N||(c.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xa(this,c,e),dr(t=ys(this.F),"RID",i),dr(t,"CVER",22),this.D&&dr(t,"X-HTTP-Session-Id",this.D),Ws(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(Pi(p)))+"&"+e:this.o&&mr(t,this.o,p)),Ho(this.h,c),this.Ya&&dr(t,"TYPE","init"),this.O?(dr(t,"$req",e),dr(t,"SID","null"),c.Z=!0,ro(c,t,null)):ro(c,t,e),this.G=2}}else 3==this.G&&(i?Ja(this,i):0==this.i.length||lo(this.h)||Ja(this))},ae.Ia=function(){if(this.u=null,aa(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=_s(It(this.eb,this),i)}},ae.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ri(10),Go(this),aa(this))},ae.cb=function(){null!=this.v&&(this.v=null,Go(this),oa(this),ri(19))},ae.kb=function(i){i?(this.j.info("Successfully pinged google.com"),ri(2)):(this.j.info("Failed to ping google.com"),ri(1))},(ae=Ms.prototype).xa=function(){},ae.wa=function(){},ae.va=function(){},ae.ua=function(){},ae.Ra=function(){},Oo.prototype.g=function(i,e){return new Fr(i,e)},Ue(Fr,sn),Fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;ri(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Ll(i,null,i.V),za(i)},Fr.prototype.close=function(){Es(this.g)},Fr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Jr(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&za(e)},Fr.prototype.M=function(){this.g.l=null,delete this.j,Es(this.g),delete this.g,Fr.X.M.call(this)},Ue(ua,Kn),Ue(Xa,Dr),Ue(es,Ms),es.prototype.xa=function(){Mn(this.g,"a")},es.prototype.wa=function(i){Mn(this.g,new ua(i))},es.prototype.va=function(i){Mn(this.g,new Xa)},es.prototype.ua=function(){Mn(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,Fr.prototype.send=Fr.prototype.u,Fr.prototype.open=Fr.prototype.m,Fr.prototype.close=Fr.prototype.close,xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,Fe.COMPLETE="complete",en.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",sn.prototype.listen=sn.prototype.N,L.prototype.listenOnce=L.prototype.O,L.prototype.getLastError=L.prototype.Oa,L.prototype.getLastErrorCode=L.prototype.Ea,L.prototype.getStatus=L.prototype.aa,L.prototype.getResponseJson=L.prototype.Sa,L.prototype.getResponseText=L.prototype.fa,L.prototype.send=L.prototype.da,L.prototype.setWithCredentials=L.prototype.Ka;var Bl=Tt.createWebChannelTransport=function(){return new Oo},Ul=Tt.getStatEventTarget=function(){return Ji()},cl=Tt.ErrorCode=xe,Fa=Tt.EventType=Fe,ba=Tt.Event=Gi,x=Tt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},K=Tt.FetchXmlHttpFactory=Mo,V=Tt.WebChannel=en,ne=Tt.XhrIo=L;const be="@firebase/firestore";class lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");let Et="9.17.1";const Dn=new ge.Yd("@firebase/firestore");function Sr(){return Dn.logLevel}function mt(i,...e){if(Dn.logLevel<=ge.in.DEBUG){const t=e.map(Gr);Dn.debug(`Firestore (${Et}): ${i}`,...t)}}function gn(i,...e){if(Dn.logLevel<=ge.in.ERROR){const t=e.map(Gr);Dn.error(`Firestore (${Et}): ${i}`,...t)}}function Cr(i,...e){if(Dn.logLevel<=ge.in.WARN){const t=e.map(Gr);Dn.warn(`Firestore (${Et}): ${i}`,...t)}}function Gr(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function zt(i="Unexpected state"){const e=`FIRESTORE (${Et}) INTERNAL ASSERTION FAILED: `+i;throw gn(e),new Error(e)}function _n(i,e){i||zt()}function an(i,e){return i}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends We.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class W{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lt.UNAUTHENTICATED))}shutdown(){}}class m{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const p=Q=>this.i!==c?(c=this.i,t(Q)):Promise.resolve();let b=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Wr,e.enqueueRetryable(()=>p(this.currentUser))};const O=()=>{const Q=b;e.enqueueRetryable((0,ve.Z)(function*(){yield Q.promise,yield p(s.currentUser)}))},Z=Q=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(Q=>Z(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?Z(Q):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Wr)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_n("string"==typeof s.accessToken),new W(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _n(null===e||"string"==typeof e),new lt(e)}}class ${constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_n(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class J{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c}getToken(){return Promise.resolve(new $(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Se{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=p=>{null!=p.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const b=p.token!==this.A;return this.A=p.token,mt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const c=p=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?c(p):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_n("string"==typeof t.token),this.A=t.token,new fe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qe(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class $t{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=Qe(40);for(let p=0;p<c.length;++p)s.length<20&&c[p]<t&&(s+=e.charAt(c[p]%e.length))}return s}}function Ot(i,e){return i<e?-1:i>e?1:0}function Gn(i,e,t){return i.length===e.length&&i.every((s,c)=>t(s,e[c]))}function On(i){return i+"\0"}class tn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ht(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ht(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ht(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new tn(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new tn(0,0))}static max(){return new Bt(new tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class br{constructor(e,t,s){void 0===t?t=0:t>e.length&&zt(),void 0===s?s=e.length-t:s>e.length-t&&zt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===br.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const p=e.get(c),b=t.get(c);if(p<b)return-1;if(p>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends br{construct(e,t,s){return new Cn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ht(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}const Ci=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends br{construct(e,t,s){return new or(e,t,s)}static isValidIdentifier(e){return Ci.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const p=()=>{if(0===s.length)throw new Ht(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let b=!1;for(;c<e.length;){const O=e[c];if("\\"===O){if(c+1===e.length)throw new Ht(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Z=e[c+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new Ht(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=Z,c+=2}else"`"===O?(b=!b,c++):"."!==O||b?(s+=O,c++):(p(),c++)}if(p(),b)throw new Ht(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(t)}static emptyPath(){return new or([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(Cn.fromString(e))}static fromName(e){return new Rt(Cn.fromString(e).popFirst(5))}static empty(){return new Rt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new Cn(e.slice()))}}class hr{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function si(i){return i.fields.find(e=>2===e.kind)}function mi(i){return i.fields.filter(e=>2!==e.kind)}hr.UNKNOWN_ID=-1;class Xr{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hs(0,Ns.min())}}function vo(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,c=Bt.fromTimestamp(1e9===s?new tn(t+1,0):new tn(t,s));return new Ns(c,Rt.empty(),e)}function $s(i){return new Ns(i.readTime,i.key,-1)}class Ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ns(Bt.min(),Rt.empty(),-1)}static max(){return new Ns(Bt.max(),Rt.empty(),-1)}}function dl(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(i.documentKey,e.documentKey),0!==t?t:Ot(i.largestBatchId,e.largestBatchId))}const Vn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wn(i){return _r.apply(this,arguments)}function _r(){return _r=(0,ve.Z)(function*(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==Vn)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),_r.apply(this,arguments)}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((s,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,s)=>{t(e)})}static reject(e){return new tt((t,s)=>{s(e)})}static waitFor(e){return new tt((t,s)=>{let c=0,p=0,b=!1;e.forEach(O=>{++c,O.next(()=>{++p,b&&p===c&&t()},Z=>s(Z))}),b=!0,p===c&&t()})}static or(e){let t=tt.resolve(!1);for(const s of e)t=t.next(c=>c?tt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,p)=>{s.push(t.call(this,c,p))}),this.waitFor(s)}static mapArray(e,t){return new tt((s,c)=>{const p=e.length,b=new Array(p);let O=0;for(let Z=0;Z<p;Z++){const Q=Z;t(e[Q]).next(le=>{b[Q]=le,++O,O===p&&s(b)},le=>c(le))}})}static doWhile(e,t){return new tt((s,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):s()};p()})}}class ho{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Wr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new pr(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const c=qs(s.target.error);this.P.reject(new pr(e,c))}}static open(e,t,s,c){try{return new ho(t,e.transaction(c,s))}catch(p){throw new pr(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vl(t)}}class Ii{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Ii.D((0,We.z$)())&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),os(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,We.hl)())return!1;if(Ii.N())return!0;const e=(0,We.z$)(),t=Ii.D(e),s=0<t&&t<10,c=Ii.k(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,ve.Z)(function*(){return t.db||(mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=b=>{s(b.target.result)},p.onblocked=()=>{c(new pr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=b=>{const O=b.target.error;c("VersionError"===O.name?new Ht(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new Ht(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new pr(e,O))},p.onupgradeneeded=b=>{mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.S.$(b.target.result,p.transaction,b.oldVersion,t.version).next(()=>{mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var p=this;return(0,ve.Z)(function*(){const b="readonly"===t;let O=0;for(;;){++O;try{p.db=yield p.F(e);const Z=ho.open(p.db,e,b?"readonly":"readwrite",s),Q=c(Z).next(le=>(Z.V(),le)).catch(le=>(Z.abort(le),tt.reject(le))).toPromise();return Q.catch(()=>{}),yield Z.v,Q}catch(Z){const Q=Z,le="FirebaseError"!==Q.name&&O<3;if(mt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",le),p.close(),!le)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class La{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return os(this.q.delete())}}class pr extends Ht{constructor(e,t){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rr(i){return"IndexedDbTransactionError"===i.name}class Vl{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(mt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),os(s)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),os(this.store.add(e))}get(e){return os(this.store.get(e)).next(t=>(void 0===t&&(t=null),mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),os(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),os(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),p=[];return this.H(c,(b,O)=>{p.push(O)}).next(()=>p)}{const c=this.store.getAll(s.range);return new tt((p,b)=>{c.onerror=O=>{b(O.target.error)},c.onsuccess=O=>{p(O.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new tt((c,p)=>{s.onerror=b=>{p(b.target.error)},s.onsuccess=b=>{c(b.target.result)}})}Y(e,t){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const c=this.cursor(s);return this.H(c,(p,b,O)=>O.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.H(c,t)}tt(e){const t=this.cursor({});return new tt((s,c)=>{t.onerror=p=>{const b=qs(p.target.error);c(b)},t.onsuccess=p=>{const b=p.target.result;b?e(b.primaryKey,b.value).next(O=>{O?b.continue():s()}):s()}})}H(e,t){const s=[];return new tt((c,p)=>{e.onerror=b=>{p(b.target.error)},e.onsuccess=b=>{const O=b.target.result;if(!O)return void c();const Z=new La(O),Q=t(O.primaryKey,O.value,Z);if(Q instanceof tt){const le=Q.catch(Ae=>(Z.done(),tt.reject(Ae)));s.push(le)}Z.isDone?c():null===Z.G?O.continue():O.continue(Z.G)}}).next(()=>tt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function os(i){return new tt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const c=qs(s.target.error);t(c)}})}let bo=!1;function qs(i){const e=Ii.D((0,We.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bo||(bo=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ba{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;mt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{mt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Rr(s)?mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Wn(s)}yield t.nt(6e4)}))}}class hl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let c=t,p=!0;return tt.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return mt("IndexBackiller",`Processing collection: ${b}`),this.rt(e,b,c).next(O=>{c-=O,s.add(b)});p=!1})).next(()=>t-c)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(p=>{const b=p.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.ot(c,p)).next(O=>(mt("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,t,O))).next(()=>b.size)}))}ot(e,t){let s=e;return t.changes.forEach((c,p)=>{const b=$s(p);dl(b,s)>0&&(s=b)}),new Ns(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ro=(()=>{class i{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>s.writeSequenceNumber(c))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class nu{constructor(e,t,s,c,p,b,O,Z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=p,this.forceLongPolling=b,this.autoDetectLongPolling=O,this.useFetchStreams=Z}}class Za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}function Hl(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _i(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function bl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ua(i){return null==i}function Ea(i){return 0===i&&1/i==-1/0}function Eo(i){return"number"==typeof i&&Number.isInteger(i)&&!Ea(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class T{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new T(t)}static fromUint8Array(e){const t=function(s){let c="";for(let p=0;p<s.length;++p)c+=String.fromCharCode(s[p]);return c}(e);return new T(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}T.EMPTY_BYTE_STRING=new T("");const N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function w(i){if(_n(!!i),"string"==typeof i){let e=0;const t=N.exec(i);if(_n(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:P(i.seconds),nanos:P(i.nanos)}}function P(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function G(i){return"string"==typeof i?T.fromBase64String(i):T.fromUint8Array(i)}function X(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function oe(i){const e=i.mapValue.fields.__previous_value__;return X(e)?oe(e):e}function $e(i){const e=w(i.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}const Ut={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wt={nullValue:"NULL_VALUE"};function Sn(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?X(i)?4:ee(i)?9007199254740991:10:zt()}function Lr(i,e){if(i===e)return!0;const t=Sn(i);if(t!==Sn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $e(i).isEqual($e(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const p=w(s.timestampValue),b=w(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,G(i.bytesValue).isEqual(G(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,c){return P(s.geoPointValue.latitude)===P(c.geoPointValue.latitude)&&P(s.geoPointValue.longitude)===P(c.geoPointValue.longitude)}(i,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return P(s.integerValue)===P(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const p=P(s.doubleValue),b=P(c.doubleValue);return p===b?Ea(p)===Ea(b):isNaN(p)&&isNaN(b)}return!1}(i,e);case 9:return Gn(i.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(s,c){const p=s.mapValue.fields||{},b=c.mapValue.fields||{};if(Hl(p)!==Hl(b))return!1;for(const O in p)if(p.hasOwnProperty(O)&&(void 0===b[O]||!Lr(p[O],b[O])))return!1;return!0}(i,e);default:return zt()}var c}function as(i,e){return void 0!==(i.values||[]).find(t=>Lr(t,e))}function Zi(i,e){if(i===e)return 0;const t=Sn(i),s=Sn(e);if(t!==s)return Ot(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(i.booleanValue,e.booleanValue);case 2:return function(c,p){const b=P(c.integerValue||c.doubleValue),O=P(p.integerValue||p.doubleValue);return b<O?-1:b>O?1:b===O?0:isNaN(b)?isNaN(O)?0:-1:1}(i,e);case 3:return ca(i.timestampValue,e.timestampValue);case 4:return ca($e(i),$e(e));case 5:return Ot(i.stringValue,e.stringValue);case 6:return function(c,p){const b=G(c),O=G(p);return b.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(c,p){const b=c.split("/"),O=p.split("/");for(let Z=0;Z<b.length&&Z<O.length;Z++){const Q=Ot(b[Z],O[Z]);if(0!==Q)return Q}return Ot(b.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,p){const b=Ot(P(c.latitude),P(p.latitude));return 0!==b?b:Ot(P(c.longitude),P(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,p){const b=c.values||[],O=p.values||[];for(let Z=0;Z<b.length&&Z<O.length;++Z){const Q=Zi(b[Z],O[Z]);if(Q)return Q}return Ot(b.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===Ut.mapValue&&p===Ut.mapValue)return 0;if(c===Ut.mapValue)return 1;if(p===Ut.mapValue)return-1;const b=c.fields||{},O=Object.keys(b),Z=p.fields||{},Q=Object.keys(Z);O.sort(),Q.sort();for(let le=0;le<O.length&&le<Q.length;++le){const Ae=Ot(O[le],Q[le]);if(0!==Ae)return Ae;const gt=Zi(b[O[le]],Z[Q[le]]);if(0!==gt)return gt}return Ot(O.length,Q.length)}(i.mapValue,e.mapValue);default:throw zt()}}function ca(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ot(i,e);const t=w(i),s=w(e),c=Ot(t.seconds,s.seconds);return 0!==c?c:Ot(t.nanos,s.nanos)}function fs(i){return Po(i)}function Po(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const c=w(s);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?G(i.bytesValue).toBase64():"referenceValue"in i?Rt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let c="[",p=!0;for(const b of s.values||[])p?p=!1:c+=",",c+=Po(b);return c+"]"}(i.arrayValue):"mapValue"in i?function(s){const c=Object.keys(s.fields||{}).sort();let p="{",b=!0;for(const O of c)b?b=!1:p+=",",p+=`${O}:${Po(s.fields[O])}`;return p+"}"}(i.mapValue):zt();var e}function Va(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function da(i){return!!i&&"integerValue"in i}function Ha(i){return!!i&&"arrayValue"in i}function Mu(i){return!!i&&"nullValue"in i}function mu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function U(i){return!!i&&"mapValue"in i}function z(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _i(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=z(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=z(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ee(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ee(i){return"nullValue"in i?Wt:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Va(Za.empty(),Rt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:zt()}function Je(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Va(Za.empty(),Rt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ut:zt()}function vt(i,e){const t=Zi(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Qt(i,e){const t=Zi(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Pn{constructor(e,t){this.position=e,this.inclusive=t}}function nr(i,e,t){let s=0;for(let c=0;c<i.position.length;c++){const p=e[c],b=i.position[c];if(s=p.field.isKeyField()?Rt.comparator(Rt.fromName(b.referenceValue),t.key):Zi(b,t.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Jn(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Lr(i.position[t],e.position[t]))return!1;return!0}class Br{}class yn extends Br{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Dh(e,t,s):"array-contains"===t?new Lp(e,s):"in"===t?new Bd(e,s):"not-in"===t?new Nf(e,s):"array-contains-any"===t?new Yu(e,s):new yn(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Fd(e,s):new Sh(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zi(t,this.value)):null!==t&&Sn(this.value)===Sn(t)&&this.matchesComparison(Zi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Hr extends Br{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Hr(e,t)}matches(e){return ps(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ps(i){return"and"===i.op}function El(i){return"or"===i.op}function ru(i){return wl(i)&&ps(i)}function wl(i){for(const e of i.filters)if(e instanceof Hr)return!1;return!0}function ha(i){if(i instanceof yn)return i.field.canonicalString()+i.op.toString()+fs(i.value);if(ru(i))return i.filters.map(e=>ha(e)).join(",");{const e=i.filters.map(t=>ha(t)).join(",");return`${i.op}(${e})`}}function qa(i,e){return i instanceof yn?(t=i,(s=e)instanceof yn&&t.op===s.op&&t.field.isEqual(s.field)&&Lr(t.value,s.value)):i instanceof Hr?function(t,s){return s instanceof Hr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,p,b)=>c&&qa(p,s.filters[b]),!0)}(i,e):void zt();var t,s}function Dl(i,e){const t=i.filters.concat(e);return Hr.create(t,i.op)}function Ic(i){return i instanceof yn?`${(e=i).field.canonicalString()} ${e.op} ${fs(e.value)}`:i instanceof Hr?function(e){return e.op.toString()+" {"+e.getFilters().map(Ic).join(" ,")+"}"}(i):"Filter";var e}class Dh extends yn{constructor(e,t,s){super(e,t,s),this.key=Rt.fromName(s.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fd extends yn{constructor(e,t){super(e,"in",t),this.keys=Ld(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sh extends yn{constructor(e,t){super(e,"not-in",t),this.keys=Ld(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ld(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Rt.fromName(s.referenceValue))}class Lp extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ha(t)&&as(t.arrayValue,this.value)}}class Bd extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&as(this.value.arrayValue,t)}}class Nf extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(as(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!as(this.value.arrayValue,t)}}class Yu extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ha(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>as(this.value.arrayValue,s))}}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Os{constructor(e,t){this.comparator=e,this.root=t||wa.EMPTY}insert(e,t){return new Os(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wa.BLACK,null,null))}remove(e){return new Os(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ud(this.root,e,this.comparator,!0)}}class Ud{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?s(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wa{constructor(e,t,s,c,p){this.key=e,this.value=t,this.color=s??wa.RED,this.left=c??wa.EMPTY,this.right=p??wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,p){return new wa(e??this.key,t??this.value,s??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const p=s(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return wa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return wa.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}wa.EMPTY=null,wa.RED=!0,wa.BLACK=!1,wa.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(i,e,t,s,c){return this}insert(i,e,t){return new wa(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ls{constructor(e){this.comparator=e,this.data=new Os(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Of(this.data.getIterator())}getIteratorFrom(e){return new Of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=s.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ls(this.comparator);return t.data=e,t}}class Of{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qu(i){return i.hasNext()?i.getNext():void 0}class Da{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new Da([])}unionWith(e){let t=new ls(or.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Da(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gn(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Zo{constructor(e){this.value=e}static empty(){return new Zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!U(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=z(t)}setAll(e){let t=or.emptyPath(),s={},c=[];e.forEach((b,O)=>{if(!t.isImmediateParentOf(O)){const Z=this.getFieldsMap(t);this.applyChanges(Z,s,c),s={},c=[],t=O.popLast()}b?s[O.lastSegment()]=z(b):c.push(O.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,s,c)}delete(e){const t=this.field(e.popLast());U(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];U(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){_i(t,(c,p)=>e[c]=p);for(const c of s)delete e[c]}clone(){return new Zo(z(this.value))}}function nd(i){const e=[];return _i(i.fields,(t,s)=>{const c=new or([t]);if(U(s)){const p=nd(s.mapValue).fields;if(0===p.length)e.push(c);else for(const b of p)e.push(c.child(b))}else e.push(c)}),new Da(e)}class gs{constructor(e,t,s,c,p,b,O){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=p,this.data=b,this.documentState=O}static newInvalidDocument(e){return new gs(e,0,Bt.min(),Bt.min(),Bt.min(),Zo.empty(),0)}static newFoundDocument(e,t,s,c){return new gs(e,1,t,Bt.min(),s,c,0)}static newNoDocument(e,t){return new gs(e,2,t,Bt.min(),Bt.min(),Zo.empty(),0)}static newUnknownDocument(e,t){return new gs(e,3,t,Bt.min(),Bt.min(),Zo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,t=null,s=[],c=[],p=null,b=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=p,this.startAt=b,this.endAt=O,this.ft=null}}function rd(i,e=null,t=[],s=[],c=null,p=null,b=null){return new Th(i,e,t,s,c,p,b)}function xo(i){const e=an(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ha(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),Ua(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fs(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fs(s)).join(",")),e.ft=t}return e.ft}function Mc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Bp(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!qa(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jn(i.startAt,e.startAt)&&Jn(i.endAt,e.endAt)}function $a(i){return Rt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ns(i,e){return i.filters.filter(t=>t instanceof yn&&t.field.isEqual(e))}function Ju(i,e,t){let s=Wt,c=!0;for(const p of ns(i,e)){let b=Wt,O=!0;switch(p.op){case"<":case"<=":b=Ee(p.value);break;case"==":case"in":case">=":b=p.value;break;case">":b=p.value,O=!1;break;case"!=":case"not-in":b=Wt}vt({value:s,inclusive:c},{value:b,inclusive:O})<0&&(s=b,c=O)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const b=t.position[p];vt({value:s,inclusive:c},{value:b,inclusive:t.inclusive})<0&&(s=b,c=t.inclusive);break}return{value:s,inclusive:c}}function _u(i,e,t){let s=Ut,c=!0;for(const p of ns(i,e)){let b=Ut,O=!0;switch(p.op){case">=":case">":b=Je(p.value),O=!1;break;case"==":case"in":case"<=":b=p.value;break;case"<":b=p.value,O=!1;break;case"!=":case"not-in":b=Ut}Qt({value:s,inclusive:c},{value:b,inclusive:O})>0&&(s=b,c=O)}if(null!==t)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const b=t.position[p];Qt({value:s,inclusive:c},{value:b,inclusive:t.inclusive})>0&&(s=b,c=t.inclusive);break}return{value:s,inclusive:c}}class fl{constructor(e,t=null,s=[],c=[],p=null,b="F",O=null,Z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=p,this.limitType=b,this.startAt=O,this.endAt=Z,this.dt=null,this._t=null}}function Nc(i,e,t,s,c,p,b,O){return new fl(i,e,t,s,c,p,b,O)}function Nu(i){return new fl(i)}function Ou(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Vd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Sl(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function wo(i){return null!==i.collectionGroup}function pl(i){const e=an(i);if(null===e.dt){e.dt=[];const t=Sl(e),s=Vd(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new Ac(t)),e.dt.push(new Ac(or.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.dt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ac(or.keyField(),p))}}}return e.dt}function qo(i){const e=an(i);if(!e._t)if("F"===e.limitType)e._t=rd(e.path,e.collectionGroup,pl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of pl(e))t.push(new Ac(p.field,"desc"===p.dir?"asc":"desc"));const s=e.endAt?new Pn(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Pn(e.startAt.position,e.startAt.inclusive):null;e._t=rd(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function Xu(i,e){e.getFirstInequalityField(),Sl(i);const t=i.filters.concat([e]);return new fl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Do(i,e,t){return new fl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $l(i,e){return Mc(qo(i),qo(e))&&i.limitType===e.limitType}function iu(i){return`${xo(qo(i))}|lt:${i.limitType}`}function Tl(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ic(s)).join(", ")}]`),Ua(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fs(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fs(s)).join(",")),`Target(${t})`}(qo(i))}; limitType=${i.limitType})`}function Cl(i,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Rt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,s){for(const c of pl(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(i,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(c,p,b){const O=nr(c,p,b);return c.inclusive?O<=0:O<0}(t.startAt,pl(t),s)||t.endAt&&!function(c,p,b){const O=nr(c,p,b);return c.inclusive?O>=0:O>0}(t.endAt,pl(t),s)));var t,s}function Ru(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Hd(i){return(e,t)=>{let s=!1;for(const c of pl(i)){const p=gl(c,e,t);if(0!==p)return p;s=s||c.field.isKeyField()}return 0}}function gl(i,e,t){const s=i.field.isKeyField()?Rt.comparator(e.key,t.key):function(c,p,b){const O=p.data.field(c),Z=b.data.field(c);return null!==O&&null!==Z?Zi(O,Z):zt()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return zt()}}function su(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ea(e)?"-0":e}}function Oc(i){return{integerValue:""+i}}function id(i,e){return Eo(e)?Oc(e):su(i,e)}class sd{constructor(){this._=void 0}}function Rc(i,e,t){return i instanceof ml?function(s,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):i instanceof Pu?Ih(i,e):i instanceof Il?od(i,e):function(s,c){const p=Ch(s,c),b=ku(p)+ku(s.gt);return da(p)&&da(s.gt)?Oc(b):su(s.yt,b)}(i,e)}function $d(i,e,t){return i instanceof Pu?Ih(i,e):i instanceof Il?od(i,e):t}function Ch(i,e){return i instanceof xu?da(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class ml extends sd{}class Pu extends sd{constructor(e){super(),this.elements=e}}function Ih(i,e){const t=ad(e);for(const s of i.elements)t.some(c=>Lr(c,s))||t.push(s);return{arrayValue:{values:t}}}class Il extends sd{constructor(e){super(),this.elements=e}}function od(i,e){let t=ad(e);for(const s of i.elements)t=t.filter(c=>!Lr(c,s));return{arrayValue:{values:t}}}class xu extends sd{constructor(e,t){super(),this.yt=e,this.gt=t}}function ku(i){return P(i.integerValue||i.doubleValue)}function ad(i){return Ha(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ec{constructor(e,t){this.field=e,this.transform=t}}class Pc{constructor(e,t){this.version=e,this.transformResults=t}}class ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ou{}function tc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new lu(i.key,ms.none()):new Fu(i.key,i.data,ms.none());{const t=i.data,s=Zo.empty();let c=new ls(or.comparator);for(let p of e.fields)if(!c.has(p)){let b=t.field(p);null===b&&p.length>1&&(p=p.popLast(),b=t.field(p)),null===b?s.delete(p):s.set(p,b),c=c.add(p)}return new el(i.key,s,new Da(c.toArray()),ms.none())}}function jd(i,e,t){i instanceof Fu?function(s,c,p){const b=s.value.clone(),O=Mh(s.fieldTransforms,c,p.transformResults);b.setAll(O),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(i,e,t):i instanceof el?function(s,c,p){if(!xc(s.precondition,c))return void c.convertToUnknownDocument(p.version);const b=Mh(s.fieldTransforms,c,p.transformResults),O=c.data;O.setAll(jl(s)),O.setAll(b),c.convertToFoundDocument(p.version,O).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function au(i,e,t,s){return i instanceof Fu?function(c,p,b,O){if(!xc(c.precondition,p))return b;const Z=c.value.clone(),Q=ld(c.fieldTransforms,O,p);return Z.setAll(Q),p.convertToFoundDocument(p.version,Z).setHasLocalMutations(),null}(i,e,t,s):i instanceof el?function(c,p,b,O){if(!xc(c.precondition,p))return b;const Z=ld(c.fieldTransforms,O,p),Q=p.data;return Q.setAll(jl(c)),Q.setAll(Z),p.convertToFoundDocument(p.version,Q).setHasLocalMutations(),null===b?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(le=>le.field))}(i,e,t,s):(b=t,xc(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function nc(i,e){let t=null;for(const s of i.fieldTransforms){const c=e.data.field(s.field),p=Ch(s.transform,c||null);null!=p&&(null===t&&(t=Zo.empty()),t.set(s.field,p))}return t||null}function yu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Gn(t,s,(c,p)=>function Ah(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Pu&&s instanceof Pu||t instanceof Il&&s instanceof Il?Gn(t.elements,s.elements,Lr):t instanceof xu&&s instanceof xu?Lr(t.gt,s.gt):t instanceof ml&&s instanceof ml);var t,s}(c,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Fu extends ou{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class el extends ou{constructor(e,t,s,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function jl(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Mh(i,e,t){const s=new Map;_n(i.length===t.length);for(let c=0;c<t.length;c++){const p=i[c],b=p.transform,O=e.data.field(p.field);s.set(p.field,$d(b,O,t[c]))}return s}function ld(i,e,t){const s=new Map;for(const c of i){const p=c.transform,b=t.data.field(c.field);s.set(c.field,Rc(p,b,e))}return s}class lu extends ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gl extends ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Al{constructor(e){this.count=e}}var Ks,yi;function Nh(i){switch(i){default:return zt();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function rc(i){if(void 0===i)return gn("GRPC error has no .code"),ht.UNKNOWN;switch(i){case Ks.OK:return ht.OK;case Ks.CANCELLED:return ht.CANCELLED;case Ks.UNKNOWN:return ht.UNKNOWN;case Ks.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Ks.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Ks.INTERNAL:return ht.INTERNAL;case Ks.UNAVAILABLE:return ht.UNAVAILABLE;case Ks.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Ks.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Ks.NOT_FOUND:return ht.NOT_FOUND;case Ks.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Ks.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Ks.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Ks.ABORTED:return ht.ABORTED;case Ks.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Ks.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Ks.DATA_LOSS:return ht.DATA_LOSS;default:return zt()}}(yi=Ks||(Ks={}))[yi.OK=0]="OK",yi[yi.CANCELLED=1]="CANCELLED",yi[yi.UNKNOWN=2]="UNKNOWN",yi[yi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yi[yi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yi[yi.NOT_FOUND=5]="NOT_FOUND",yi[yi.ALREADY_EXISTS=6]="ALREADY_EXISTS",yi[yi.PERMISSION_DENIED=7]="PERMISSION_DENIED",yi[yi.UNAUTHENTICATED=16]="UNAUTHENTICATED",yi[yi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yi[yi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yi[yi.ABORTED=10]="ABORTED",yi[yi.OUT_OF_RANGE=11]="OUT_OF_RANGE",yi[yi.UNIMPLEMENTED=12]="UNIMPLEMENTED",yi[yi.INTERNAL=13]="INTERNAL",yi[yi.UNAVAILABLE=14]="UNAVAILABLE",yi[yi.DATA_LOSS=15]="DATA_LOSS";class zl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,p]of s)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(t,s)=>{for(const[c,p]of s)e(c,p)})}isEmpty(){return bl(this.inner)}size(){return this.innerSize}}const ud=new Os(Rt.comparator);function fa(){return ud}const Lu=new Os(Rt.comparator);function Wl(...i){let e=Lu;for(const t of i)e=e.insert(t.key,t);return e}function ic(i){let e=Lu;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Sa(){return vu()}function Zl(){return vu()}function vu(){return new zl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ta=new Os(Rt.comparator),bu=new ls(Rt.comparator);function Mr(...i){let e=bu;for(const t of i)e=e.add(t);return e}const Bu=new ls(Ot);function sc(){return Bu}class ql{constructor(e,t,s,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ql(Bt.min(),c,sc(),fa(),Mr())}}class oc{constructor(e,t,s,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new oc(s,t,Mr(),Mr(),Mr())}}class Uu{constructor(e,t,s,c){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=c}}class cd{constructor(e,t){this.targetId=e,this.Et=t}}class _l{constructor(e,t,s=T.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class ac{constructor(){this.At=0,this.Rt=Kl(),this.bt=T.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Mr(),t=Mr(),s=Mr();return this.Rt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:zt()}}),new oc(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=Kl()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class lc{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=fa(),this.qt=uc(),this.Ut=new ls(Ot)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,c)=>{this.zt(c)&&t(c)})}Jt(e){const t=e.targetId,s=e.Et.count,c=this.Yt(t);if(c){const p=c.target;if($a(p))if(0===s){const b=new Rt(p.path);this.Qt(t,b,gs.newNoDocument(b,Bt.min()))}else _n(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((p,b)=>{const O=this.Yt(b);if(O){if(p.current&&$a(O.target)){const Z=new Rt(O.target.path);null!==this.Lt.get(Z)||this.te(b,Z)||this.Qt(b,Z,gs.newNoDocument(Z,e))}p.St&&(t.set(b,p.Ct()),p.xt())}});let s=Mr();this.qt.forEach((p,b)=>{let O=!0;b.forEachWhile(Z=>{const Q=this.Yt(Z);return!Q||2===Q.purpose||(O=!1,!1)}),O&&(s=s.add(p))}),this.Lt.forEach((p,b)=>b.setReadTime(e));const c=new ql(e,t,this.Ut,this.Lt,s);return this.Lt=fa(),this.qt=uc(),this.Ut=new ls(Ot),c}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const c=this.Wt(e);this.te(e,t)?c.Nt(t,1):c.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new ac,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ls(Ot),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||mt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ac),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function uc(){return new Os(Rt.comparator)}function Kl(){return new Os(Rt.comparator)}const dd={asc:"ASCENDING",desc:"DESCENDING"},Ka={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hd={and:"AND",or:"OR"};class fd{constructor(e,t){this.databaseId=e,this.wt=t}}function uu(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ml(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Vu(i,e){return uu(i,e.toTimestamp())}function us(i){return _n(!!i),Bt.fromTimestamp(function(e){const t=w(e);return new tn(t.seconds,t.nanos)}(i))}function Hu(i,e){return(t=i,new Cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Gd(i){const e=Cn.fromString(i);return _n(Lc(e)),e}function Eu(i,e){return Hu(i.databaseId,e.path)}function Nl(i,e){const t=Gd(e);if(t.get(1)!==i.databaseId.projectId)throw new Ht(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ht(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Rt(D(t))}function cu(i,e){return Hu(i.databaseId,e)}function Oh(i){const e=Gd(i);return 4===e.length?Cn.emptyPath():D(e)}function $u(i){return new Cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function D(i){return _n(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function f(i,e,t){return{name:Eu(i,e),fields:t.value.mapValue.fields}}function y(i,e,t){const s=Nl(i,e.name),c=us(e.updateTime),p=e.createTime?us(e.createTime):Bt.min(),b=new Zo({mapValue:{fields:e.fields}}),O=gs.newFoundDocument(s,c,p,b);return t&&O.setHasCommittedMutations(),t?O.setHasCommittedMutations():O}function se(i,e){let t;if(e instanceof Fu)t={update:f(i,e.key,e.value)};else if(e instanceof lu)t={delete:Eu(i,e.key)};else if(e instanceof el)t={update:f(i,e.key,e.data),updateMask:Fc(e.fieldMask)};else{if(!(e instanceof Gl))return zt();t={verify:Eu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,p){const b=p.transform;if(b instanceof ml)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Pu)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Il)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof xu)return{fieldPath:p.field.canonicalString(),increment:b.gt};throw zt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Vu(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:zt()),t;var c}function Ze(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?ms.updateTime(us(c.updateTime)):void 0!==c.exists?ms.exists(c.exists):ms.none():ms.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,b){let O=null;"setToServerValue"in b?(_n("REQUEST_TIME"===b.setToServerValue),O=new ml):"appendMissingElements"in b?O=new Pu(b.appendMissingElements.values||[]):"removeAllFromArray"in b?O=new Il(b.removeAllFromArray.values||[]):"increment"in b?O=new xu(p,b.increment):zt();const Z=or.fromServerFormat(b.fieldPath);return new ec(Z,O)}(i,c)):[];var c;if(e.update){const c=Nl(i,e.update.name),p=new Zo({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Da((e.updateMask.fieldPaths||[]).map(Q=>or.fromServerFormat(Q)));return new el(c,p,b,t,s)}return new Fu(c,p,t,s)}if(e.delete){const c=Nl(i,e.delete);return new lu(c,t)}if(e.verify){const c=Nl(i,e.verify);return new Gl(c,t)}return zt()}function pn(i,e){return{documents:[cu(i,e.path)]}}function Ln(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=cu(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cu(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(Z){if(0!==Z.length)return wu(Hr.create(Z,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(Z){if(0!==Z.length)return Z.map(Q=>{return{field:tl((le=Q).field),direction:yl(le.dir)};var le})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const b=(Q=e.limit,i.wt||Ua(Q)?Q:{value:Q});var Q,O,Z;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Z=e.endAt).inclusive,values:Z.position}),t}function yr(i){let e=Oh(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){_n(1===s);const le=t.from[0];le.allDescendants?c=le.collectionId:e=e.child(le.collectionId)}let p=[];t.where&&(p=function(le){const Ae=Ys(le);return Ae instanceof Hr&&ru(Ae)?Ae.getFilters():[Ae]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(le=>{return new Ac(Ca((Ae=le).field),function(gt){switch(gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let O=null;t.limit&&(O=function(le){let Ae;return Ae="object"==typeof le?le.value:le,Ua(Ae)?null:Ae}(t.limit));let Z=null;var le;t.startAt&&(Z=new Pn((le=t.startAt).values||[],!!le.before));let Q=null;return t.endAt&&(Q=function(le){return new Pn(le.values||[],!le.before)}(t.endAt)),Nc(e,c,b,p,O,"F",Z,Q)}function Ys(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ca(e.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Ca(e.unaryFilter.field);return yn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ca(e.unaryFilter.field);return yn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ca(e.unaryFilter.field);return yn.create(p,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(i):void 0!==i.fieldFilter?yn.create(Ca((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Hr.create(e.compositeFilter.filters.map(t=>Ys(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return zt()}}(e.compositeFilter.op))}(i):zt();var e}function yl(i){return dd[i]}function kc(i){return Ka[i]}function zd(i){return hd[i]}function tl(i){return{fieldPath:i.canonicalString()}}function Ca(i){return or.fromServerFormat(i.fieldPath)}function wu(i){return i instanceof yn?function(e){if("=="===e.op){if(mu(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NAN"}};if(Mu(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mu(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NAN"}};if(Mu(e.value))return{unaryFilter:{field:tl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(e.field),op:kc(e.op),value:e.value}}}(i):i instanceof Hr?function(e){const t=e.getFilters().map(s=>wu(s));return 1===t.length?t[0]:{compositeFilter:{op:zd(e.op),filters:t}}}(i):zt()}function Fc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ko(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Rh(e)),e=pd(i.get(t),e);return Rh(e)}function pd(i,e){let t=e;const s=i.length;for(let c=0;c<s;c++){const p=i.charAt(c);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function Rh(i){return i+"\x01\x01"}function du(i){const e=i.length;if(_n(e>=2),2===e)return _n("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Cn.emptyPath();const t=e-2,s=[];let c="";for(let p=0;p<e;){const b=i.indexOf("\x01",p);switch((b<0||b>t)&&zt(),i.charAt(b+1)){case"\x01":const O=i.substring(p,b);let Z;0===c.length?Z=O:(c+=O,Z=c,c=""),s.push(Z);break;case"\x10":c+=i.substring(p,b),c+="\0";break;case"\x11":c+=i.substring(p,b+1);break;default:zt()}p=b+2}return new Cn(s)}const cc=["userId","batchId"];function dc(i,e){return[i,Ko(e)]}function Rf(i,e,t){return[i,Ko(e),t]}const bm={},Up=["prefixPath","collectionGroup","readTime","documentId"],Em=["prefixPath","collectionGroup","documentId"],wm=["collectionGroup","readTime","prefixPath","documentId"],Vp=["canonicalId","targetId"],Dm=["targetId","path"],Hp=["path","targetId"],Ph=["collectionId","parent"],$p=["indexId","uid"],Wd=["uid","sequenceNumber"],Sm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ko=["indexId","uid","orderedDocumentKey"],jp=["userId","collectionPath","documentId"],Tm=["userId","collectionPath","largestBatchId"],Pf=["userId","collectionGroup","largestBatchId"],xf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cm=[...xf,"documentOverlays"],Gp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xh=Gp,zp=[...xh,"indexConfiguration","indexState","indexEntries"];class Zd extends Zn{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function d(i,e){const t=an(i);return Ii.M(t.se,e)}class v{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&jd(p,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Zl();return this.mutations.forEach(c=>{const p=e.get(c.key),b=p.overlayedDocument;let O=this.applyToLocalView(b,p.mutatedFields);O=t.has(c.key)?null:O;const Z=tc(b,O);null!==Z&&s.set(c.key,Z),b.isValidDocument()||b.convertToNoDocument(Bt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mr())}isEqual(e){return this.batchId===e.batchId&&Gn(this.mutations,e.mutations,(t,s)=>yu(t,s))&&Gn(this.baseMutations,e.baseMutations,(t,s)=>yu(t,s))}}class l{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){_n(e.mutations.length===s.length);let c=Ta;const p=e.mutations;for(let b=0;b<p.length;b++)c=c.insert(p[b].key,s[b].version);return new l(e,t,s,c)}}class g{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class M{constructor(e,t,s,c,p=Bt.min(),b=Bt.min(),O=T.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=O}withSequenceNumber(e){return new M(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new M(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new M(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class H{constructor(e){this.ie=e}}function Re(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Be(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Eu(c=i.ie,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:uu(c,p.version.toTimestamp()),createTime:uu(c,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ut(e.version)};else{if(!e.isUnknownDocument())return zt();s.unknownDocument={path:t.path.toArray(),version:ut(e.version)}}var c,p;return s}function Be(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ut(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wt(i){const e=new tn(i.seconds,i.nanoseconds);return Bt.fromTimestamp(e)}function vn(i,e){const t=(e.baseMutations||[]).map(p=>Ze(i.ie,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const s=e.mutations.map(p=>Ze(i.ie,p)),c=tn.fromMillis(e.localWriteTimeMs);return new v(e.batchId,c,t,s)}function dn(i){const e=wt(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?wt(i.lastLimboFreeSnapshotVersion):Bt.min();let s;var c;return void 0!==i.query.documents?(_n(1===(c=i.query).documents.length),s=qo(Nu(Oh(c.documents[0])))):s=qo(yr(i.query)),new M(s,i.targetId,0,i.lastListenSequenceNumber,e,t,T.fromBase64String(i.resumeToken))}function In(i,e){const t=ut(e.snapshotVersion),s=ut(e.lastLimboFreeSnapshotVersion);let c;c=$a(e.target)?pn(i.ie,e.target):Ln(i.ie,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xo(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function oi(i){const e=yr({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Do(e,e.limit,"L"):e}function lr(i,e){return new g(e.largestBatchId,Ze(i.ie,e.overlayMutation))}function $r(i,e){const t=e.path.lastSegment();return[i,Ko(e.path.popLast()),t]}function hi(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ut(s.readTime),documentKey:Ko(s.documentKey.path),largestBatchId:s.largestBatchId}}class Zr{getBundleMetadata(e,t){return Ds(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:wt(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Ds(e).put({bundleId:(s=t).id,createTime:ut(us(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return vi(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:oi(c.bundledQuery),readTime:wt(c.readTime)};var c})}saveNamedQuery(e,t){return vi(e).put({name:(s=t).name,readTime:ut(us(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Ds(i){return d(i,"bundles")}function vi(i){return d(i,"namedQueries")}class ti{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new ti(e,t.uid||"")}getOverlay(e,t){return bi(e).get($r(this.userId,t)).next(s=>s?lr(this.yt,s):null)}getOverlays(e,t){const s=Sa();return tt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((p,b)=>{const O=new g(t,b);c.push(this.oe(e,O))}),tt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(b=>c.add(Ko(b.getCollectionPath())));const p=[];return c.forEach(b=>{const O=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);p.push(bi(e).Y("collectionPathOverlayIndex",O))}),tt.waitFor(p)}getOverlaysForCollection(e,t,s){const c=Sa(),p=Ko(t),b=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return bi(e).W("collectionPathOverlayIndex",b).next(O=>{for(const Z of O){const Q=lr(this.yt,Z);c.set(Q.getKey(),Q)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const p=Sa();let b;const O=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bi(e).Z({index:"collectionGroupOverlayIndex",range:O},(Z,Q,le)=>{const Ae=lr(this.yt,Q);p.size()<c||Ae.largestBatchId===b?(p.set(Ae.getKey(),Ae),b=Ae.largestBatchId):le.done()}).next(()=>p)}oe(e,t){return bi(e).put(function(s,c,p){const[b,O,Z]=$r(c,p.mutation.key);return{userId:c,collectionPath:O,documentId:Z,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:se(s.ie,p.mutation)}}(this.yt,this.userId,t))}}function bi(i){return d(i,"documentOverlays")}class xi{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(P(e.integerValue));else if("doubleValue"in e){const s=P(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),Ea(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(G(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?ee(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):zt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const c of Object.keys(s))this.de(c,t),this.ce(s[c],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const c of s)this.ce(c,t)}me(e,t){this.he(t,37),Rt.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function qi(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Ss(i){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const p=qi(255&t[c]);if(s+=p,8!==p)break}return s}(i);return Math.ceil(e/8)}xi.Ie=new xi;class Fo{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const c=t.codePointAt(0);this.Ee(240|c>>>18),this.Ee(128|63&c>>>12),this.Ee(128|63&c>>>6),this.Ee(128|63&c)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const c=t.codePointAt(0);this.be(240|c>>>18),this.be(128|63&c>>>12),this.be(128|63&c>>>6),this.be(128|63&c)}}this.Pe()}Se(e){const t=this.De(e),s=Ss(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}xe(e){const t=this.De(e),s=Ss(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Qs{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Yl{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Yo{constructor(){this.$e=new Fo,this.Be=new Qs(this.$e),this.Le=new Yl(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class nl{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new nl(this.indexId,this.documentKey,this.arrayValue,s)}}function Qo(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=rl(i.arrayValue,e.arrayValue),0!==t?t:(t=rl(i.directionalValue,e.directionalValue),0!==t?t:Rt.comparator(i.documentKey,e.documentKey)))}function rl(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Ql{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){_n(e.collectionGroup===this.collectionId);const t=si(e);if(void 0!==t&&!this.We(t))return!1;const s=mi(e);let c=0,p=0;for(;c<s.length&&this.We(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Qe){const b=s[c];if(!this.ze(this.Qe,b)||!this.He(this.Ke[p++],b))return!1;++c}for(;c<s.length;++c)if(p>=this.Ke.length||!this.He(this.Ke[p++],s[c]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gd(i){var e,t;if(_n(i instanceof yn||i instanceof Hr),i instanceof yn){if(i instanceof Bd){const c=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(p=>yn.create(i.field,"==",p)))||[];return Hr.create(c,"or")}return i}const s=i.filters.map(c=>gd(c));return Hr.create(s,i.op)}function Du(i){if(0===i.getFilters().length)return[];const e=hc(gd(i));return _n(Vc(e)),Bc(e)||Uc(e)?[e]:e.getFilters()}function Bc(i){return i instanceof yn}function Uc(i){return i instanceof Hr&&ru(i)}function Vc(i){return Bc(i)||Uc(i)||function(e){if(e instanceof Hr&&El(e)){for(const t of e.getFilters())if(!Bc(t)&&!Uc(t))return!1;return!0}return!1}(i)}function hc(i){if(_n(i instanceof yn||i instanceof Hr),i instanceof yn)return i;if(1===i.filters.length)return hc(i.filters[0]);const e=i.filters.map(s=>hc(s));let t=Hr.create(e,i.op);return t=Ol(t),Vc(t)?t:(_n(t instanceof Hr),_n(ps(t)),_n(t.filters.length>1),t.filters.reduce((s,c)=>fc(s,c)))}function fc(i,e){let t;return _n(i instanceof yn||i instanceof Hr),_n(e instanceof yn||e instanceof Hr),t=i instanceof yn?e instanceof yn?Hr.create([i,e],"and"):Su(i,e):e instanceof yn?Su(e,i):function(s,c){if(_n(s.filters.length>0&&c.filters.length>0),ps(s)&&ps(c))return Dl(s,c.getFilters());const p=El(s)?s:c,b=El(s)?c:s,O=p.filters.map(Z=>fc(Z,b));return Hr.create(O,"or")}(i,e),Ol(t)}function Su(i,e){if(ps(e))return Dl(e,i.getFilters());{const t=e.filters.map(s=>fc(i,s));return Hr.create(t,"or")}}function Ol(i){if(_n(i instanceof yn||i instanceof Hr),i instanceof yn)return i;const e=i.getFilters();if(1===e.length)return Ol(e[0]);if(wl(i))return i;const t=e.map(c=>Ol(c)),s=[];return t.forEach(c=>{c instanceof yn?s.push(c):c instanceof Hr&&(c.op===i.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:Hr.create(s,i.op)}class qd{constructor(){this.Je=new il}addToCollectionParentIndex(e,t){return this.Je.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(Ns.min())}updateCollectionGroup(e,t,s){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class il{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new ls(Cn.comparator),p=!c.has(s);return this.index[t]=c.add(s),p}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new ls(Cn.comparator)).toArray()}}const hu=new Uint8Array(0);class Wp{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new il,this.Xe=new zl(s=>xo(s),(s,c)=>Mc(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const p={collectionId:s,parent:Ko(c)};return md(e).put(p)}return tt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[On(t),""],!1,!0);return md(e).W(c).next(p=>{for(const b of p){if(b.collectionId!==t)break;s.push(du(b.parent))}return s})}addFieldIndex(e,t){const s=yd(e),c={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var b;delete c.indexId;const p=s.add(c);if(t.indexState){const b=vd(e);return p.next(O=>{b.put(hi(O,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const s=yd(e),c=vd(e),p=_d(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=_d(e);let c=!0;const p=new Map;return tt.forEach(this.Ze(t),b=>this.tn(e,b).next(O=>{c&&(c=!!O),p.set(b,O)})).next(()=>{if(c){let b=Mr();const O=[];return tt.forEach(p,(Z,Q)=>{var le;mt("IndexedDbIndexManager",`Using index ${le=Z,`id=${le.indexId}|cg=${le.collectionGroup}|f=${le.fields.map(Hi=>`${Hi.fieldPath}:${Hi.kind}`).join(",")}`} to execute ${xo(t)}`);const Ae=function(Hi,So){const wi=si(So);if(void 0===wi)return null;for(const Ki of ns(Hi,wi.fieldPath))switch(Ki.op){case"array-contains-any":return Ki.value.arrayValue.values||[];case"array-contains":return[Ki.value]}return null}(Q,Z),gt=function(Hi,So){const wi=new Map;for(const Ki of mi(So))for(const Na of ns(Hi,Ki.fieldPath))switch(Na.op){case"==":case"in":wi.set(Ki.fieldPath.canonicalString(),Na.value);break;case"not-in":case"!=":return wi.set(Ki.fieldPath.canonicalString(),Na.value),Array.from(wi.values())}return null}(Q,Z),Zt=function(Hi,So){const wi=[];let Ki=!0;for(const Na of mi(So)){const xp=0===Na.kind?Ju(Hi,Na.fieldPath,Hi.startAt):_u(Hi,Na.fieldPath,Hi.startAt);wi.push(xp.value),Ki&&(Ki=xp.inclusive)}return new Pn(wi,Ki)}(Q,Z),nn=function(Hi,So){const wi=[];let Ki=!0;for(const Na of mi(So)){const xp=0===Na.kind?_u(Hi,Na.fieldPath,Hi.endAt):Ju(Hi,Na.fieldPath,Hi.endAt);wi.push(xp.value),Ki&&(Ki=xp.inclusive)}return new Pn(wi,Ki)}(Q,Z),xn=this.en(Z,Q,Zt),ur=this.en(Z,Q,nn),Ts=this.nn(Z,Q,gt),js=this.sn(Z.indexId,Ae,xn,Zt.inclusive,ur,nn.inclusive,Ts);return tt.forEach(js,Hi=>s.J(Hi,t.limit).next(So=>{So.forEach(wi=>{const Ki=Rt.fromSegments(wi.documentKey);b.has(Ki)||(b=b.add(Ki),O.push(Ki))})}))}).next(()=>O)}return tt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Du(Hr.create(e.filters,"and")).map(s=>rd(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,c,p,b,O){const Z=(null!=t?t.length:1)*Math.max(s.length,p.length),Q=Z/(null!=t?t.length:1),le=[];for(let Ae=0;Ae<Z;++Ae){const gt=t?this.rn(t[Ae/Q]):hu,Zt=this.on(e,gt,s[Ae%Q],c),nn=this.un(e,gt,p[Ae%Q],b),xn=O.map(ur=>this.on(e,gt,ur,!0));le.push(...this.createRange(Zt,nn,xn))}return le}on(e,t,s,c){const p=new nl(e,Rt.empty(),t,s);return c?p:p.Ue()}un(e,t,s,c){const p=new nl(e,Rt.empty(),t,s);return c?p.Ue():p}tn(e,t){const s=new Ql(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let b=null;for(const O of p)s.je(O)&&(!b||O.fields.length>b.fields.length)&&(b=O);return b})}getIndexType(e,t){let s=2;const c=this.Ze(t);return tt.forEach(c,p=>this.tn(e,p).next(b=>{b?0!==s&&b.fields.length<function(O){let Z=new ls(or.comparator),Q=!1;for(const le of O.filters)for(const Ae of le.getFlattenedFilters())Ae.field.isKeyField()||("array-contains"===Ae.op||"array-contains-any"===Ae.op?Q=!0:Z=Z.add(Ae.field));for(const le of O.orderBy)le.field.isKeyField()||(Z=Z.add(le.field));return Z.size+(Q?1:0)}(p)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}cn(e,t){const s=new Yo;for(const c of mi(e)){const p=t.data.field(c.fieldPath);if(null==p)return null;const b=s.qe(c.kind);xi.Ie.ue(p,b)}return s.Fe()}rn(e){const t=new Yo;return xi.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Yo;return xi.Ie.ue(Va(this.databaseId,t),s.qe(function(c){const p=mi(c);return 0===p.length?0:p[p.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let c=[];c.push(new Yo);let p=0;for(const b of mi(e)){const O=s[p++];for(const Z of c)if(this.hn(t,b.fieldPath)&&Ha(O))c=this.ln(c,b,O);else{const Q=Z.qe(b.kind);xi.Ie.ue(O,Q)}}return this.fn(c)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const c=[...e],p=[];for(const b of s.arrayValue.values||[])for(const O of c){const Z=new Yo;Z.seed(O.Fe()),xi.Ie.ue(b,Z.qe(t.kind)),p.push(Z)}return p}hn(e,t){return!!e.filters.find(s=>s instanceof yn&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=yd(e),c=vd(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(p=>{const b=[];return tt.forEach(p,O=>c.get([O.indexId,this.uid]).next(Z=>{b.push(function(Q,le){const Ae=le?new Hs(le.sequenceNumber,new Ns(wt(le.readTime),new Rt(du(le.documentKey)),le.largestBatchId)):Hs.empty(),gt=Q.fields.map(([Zt,nn])=>new Xr(or.fromServerFormat(Zt),nn));return new hr(Q.indexId,Q.collectionGroup,gt,Ae)}(O,Z))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const p=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:Ot(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=yd(e),p=vd(e);return this.dn(e).next(b=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(O=>tt.forEach(O,Z=>p.put(hi(Z.indexId,this.user,b,s)))))}updateIndexEntries(e,t){const s=new Map;return tt.forEach(t,(c,p)=>{const b=s.get(c.collectionGroup);return(b?tt.resolve(b):this.getFieldIndexes(e,c.collectionGroup)).next(O=>(s.set(c.collectionGroup,O),tt.forEach(O,Z=>this._n(e,c,Z).next(Q=>{const le=this.wn(p,Z);return Q.isEqual(le)?tt.resolve():this.mn(e,p,Z,Q,le)}))))})}gn(e,t,s,c){return _d(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,c){return _d(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const c=_d(e);let p=new ls(Qo);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(b,O)=>{p=p.add(new nl(s.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>p)}wn(e,t){let s=new ls(Qo);const c=this.cn(t,e);if(null==c)return s;const p=si(t);if(null!=p){const b=e.data.field(p.fieldPath);if(Ha(b))for(const O of b.arrayValue.values||[])s=s.add(new nl(t.indexId,e.key,this.rn(O),c))}else s=s.add(new nl(t.indexId,e.key,hu,c));return s}mn(e,t,s,c,p){mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(O,Z,Q,le,Ae){const gt=O.getIterator(),Zt=Z.getIterator();let nn=Qu(gt),xn=Qu(Zt);for(;nn||xn;){let ur=!1,Ts=!1;if(nn&&xn){const js=Q(nn,xn);js<0?Ts=!0:js>0&&(ur=!0)}else null!=nn?Ts=!0:ur=!0;ur?(le(xn),xn=Qu(Zt)):Ts?(Ae(nn),nn=Qu(gt)):(nn=Qu(gt),xn=Qu(Zt))}}(c,p,Qo,O=>{b.push(this.gn(e,t,s,O))},O=>{b.push(this.yn(e,t,s,O))}),tt.waitFor(b)}dn(e){let t=1;return vd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,p)=>{p.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((b,O)=>Qo(b,O)).filter((b,O,Z)=>!O||0!==Qo(b,Z[O-1]));const c=[];c.push(e);for(const b of s){const O=Qo(b,e),Z=Qo(b,t);if(0===O)c[0]=e.Ue();else if(O>0&&Z<0)c.push(b),c.push(b.Ue());else if(Z>0)break}c.push(t);const p=[];for(let b=0;b<c.length;b+=2){if(this.pn(c[b],c[b+1]))return[];p.push(IDBKeyRange.bound([c[b].indexId,this.uid,c[b].arrayValue,c[b].directionalValue,hu,[]],[c[b+1].indexId,this.uid,c[b+1].arrayValue,c[b+1].directionalValue,hu,[]]))}return p}pn(e,t){return Qo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kh)}getMinOffset(e,t){return tt.mapArray(this.Ze(t),s=>this.tn(e,s).next(c=>c||zt())).next(kh)}}function md(i){return d(i,"collectionParents")}function _d(i){return d(i,"indexEntries")}function yd(i){return d(i,"indexConfiguration")}function vd(i){return d(i,"indexState")}function kh(i){_n(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const c=i[s].indexState.offset;dl(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Ns(e.readTime,e.documentKey,t)}const Kd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ia{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ia(e,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yd(i,e,t){const s=i.store("mutations"),c=i.store("documentMutations"),p=[],b=IDBKeyRange.only(t.batchId);let O=0;const Z=s.Z({range:b},(le,Ae,gt)=>(O++,gt.delete()));p.push(Z.next(()=>{_n(1===O)}));const Q=[];for(const le of t.mutations){const Ae=Rf(e,le.key.path,t.batchId);p.push(c.delete(Ae)),Q.push(le.key)}return tt.waitFor(p).next(()=>Q)}function Qd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw zt();e=i.noDocument}return JSON.stringify(e).length}Ia.DEFAULT_COLLECTION_PERCENTILE=10,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ia.DEFAULT=new Ia(41943040,Ia.DEFAULT_COLLECTION_PERCENTILE,Ia.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ia.DISABLED=new Ia(-1,0,0);class Rl{constructor(e,t,s,c){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=c,this.In={}}static re(e,t,s,c){_n(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Rl(p,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).Z({index:"userMutationsIndex",range:s},(c,p,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const p=pc(e),b=Cu(e);return b.add({}).next(O=>{_n("number"==typeof O);const Z=new v(O,t,s,c),Q=function(gt,Zt,nn){const xn=nn.baseMutations.map(Ts=>se(gt.ie,Ts)),ur=nn.mutations.map(Ts=>se(gt.ie,Ts));return{userId:Zt,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:xn,mutations:ur}}(this.yt,this.userId,Z),le=[];let Ae=new ls((gt,Zt)=>Ot(gt.canonicalString(),Zt.canonicalString()));for(const gt of c){const Zt=Rf(this.userId,gt.key.path,O);Ae=Ae.add(gt.key.path.popLast()),le.push(b.put(Q)),le.push(p.put(Zt,bm))}return Ae.forEach(gt=>{le.push(this.indexManager.addToCollectionParentIndex(e,gt))}),e.addOnCommittedListener(()=>{this.In[O]=Z.keys()}),tt.waitFor(le).next(()=>Z)})}lookupMutationBatch(e,t){return Cu(e).get(t).next(s=>s?(_n(s.userId===this.userId),vn(this.yt,s)):null)}Tn(e,t){return this.In[t]?tt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Cu(e).Z({index:"userMutationsIndex",range:c},(b,O,Z)=>{O.userId===this.userId&&(_n(O.batchId>=s),p=vn(this.yt,O)),Z.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Cu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,p,b)=>{s=p.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cu(e).W("userMutationsIndex",t).next(s=>s.map(c=>vn(this.yt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=dc(this.userId,t.path),c=IDBKeyRange.lowerBound(s),p=[];return pc(e).Z({range:c},(b,O,Z)=>{const[Q,le,Ae]=b,gt=du(le);if(Q===this.userId&&t.path.isEqual(gt))return Cu(e).get(Ae).next(Zt=>{if(!Zt)throw zt();_n(Zt.userId===this.userId),p.push(vn(this.yt,Zt))});Z.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ls(Ot);const c=[];return t.forEach(p=>{const b=dc(this.userId,p.path),O=IDBKeyRange.lowerBound(b),Z=pc(e).Z({range:O},(Q,le,Ae)=>{const[gt,Zt,nn]=Q,xn=du(Zt);gt===this.userId&&p.path.isEqual(xn)?s=s.add(nn):Ae.done()});c.push(Z)}),tt.waitFor(c).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,p=dc(this.userId,s),b=IDBKeyRange.lowerBound(p);let O=new ls(Ot);return pc(e).Z({range:b},(Z,Q,le)=>{const[Ae,gt,Zt]=Z,nn=du(gt);Ae===this.userId&&s.isPrefixOf(nn)?nn.length===c&&(O=O.add(Zt)):le.done()}).next(()=>this.En(e,O))}En(e,t){const s=[],c=[];return t.forEach(p=>{c.push(Cu(e).get(p).next(b=>{if(null===b)throw zt();_n(b.userId===this.userId),s.push(vn(this.yt,b))}))}),tt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return Yd(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),tt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return tt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return pc(e).Z({range:s},(p,b,O)=>{if(p[0]===this.userId){const Z=du(p[1]);c.push(Z)}else O.done()}).next(()=>{_n(0===c.length)})})}containsKey(e,t){return Tu(e,this.userId,t)}Rn(e){return Jd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tu(i,e,t){const s=dc(e,t.path),c=s[1],p=IDBKeyRange.lowerBound(s);let b=!1;return pc(i).Z({range:p,X:!0},(O,Z,Q)=>{const[le,Ae,gt]=O;le===e&&Ae===c&&(b=!0),Q.done()}).next(()=>b)}function Cu(i){return d(i,"mutations")}function pc(i){return d(i,"documentMutations")}function Jd(i){return d(i,"mutationQueues")}class ju{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ju(0)}static vn(){return new ju(-1)}}class kf{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new ju(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Bt.fromTimestamp(new tn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(_n(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let c=0;const p=[];return gc(e).Z((b,O)=>{const Z=dn(O);Z.sequenceNumber<=t&&null===s.get(Z.targetId)&&(c++,p.push(this.removeTargetData(e,Z)))}).next(()=>tt.waitFor(p)).next(()=>c)}forEachTarget(e,t){return gc(e).Z((s,c)=>{const p=dn(c);t(p)})}Vn(e){return Fh(e).get("targetGlobalKey").next(t=>(_n(null!==t),t))}Sn(e,t){return Fh(e).put("targetGlobalKey",t)}Dn(e,t){return gc(e).put(In(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=xo(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return gc(e).Z({range:c,index:"queryTargetsIndex"},(b,O,Z)=>{const Q=dn(O);Mc(t,Q.target)&&(p=Q,Z.done())}).next(()=>p)}addMatchingKeys(e,t,s){const c=[],p=Jl(e);return t.forEach(b=>{const O=Ko(b.path);c.push(p.put({targetId:s,path:O})),c.push(this.referenceDelegate.addReference(e,s,b))}),tt.waitFor(c)}removeMatchingKeys(e,t,s){const c=Jl(e);return tt.forEach(t,p=>{const b=Ko(p.path);return tt.waitFor([c.delete([s,b]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,t){const s=Jl(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=Jl(e);let p=Mr();return c.Z({range:s,X:!0},(b,O,Z)=>{const Q=du(b[1]),le=new Rt(Q);p=p.add(le)}).next(()=>p)}containsKey(e,t){const s=Ko(t.path),c=IDBKeyRange.bound([s],[On(s)],!1,!0);let p=0;return Jl(e).Z({index:"documentTargetsIndex",X:!0,range:c},([b,O],Z,Q)=>{0!==b&&(p++,Q.done())}).next(()=>p>0)}ne(e,t){return gc(e).get(t).next(s=>s?dn(s):null)}}function gc(i){return d(i,"targets")}function Fh(i){return d(i,"targetGlobal")}function Jl(i){return d(i,"targetDocuments")}function Gu([i,e],[t,s]){const c=Ot(i,t);return 0===c?Ot(e,s):c}class gy{constructor(e){this.xn=e,this.buffer=new ls(Gu),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Gu(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class my{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Rr(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Wn(s)}yield t.Fn(3e5)}))}}class t0{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return tt.resolve(Ro.at);const s=new gy(t);return this.$n.forEachTarget(e,c=>s.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>s.On(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Kd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kd):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,c,p,b,O,Z,Q;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),c=this.params.maximumSequenceNumbersToCollect):c=Ae,b=Date.now(),this.nthSequenceNumber(e,c))).next(Ae=>(s=Ae,O=Date.now(),this.removeTargets(e,s,t))).next(Ae=>(p=Ae,Z=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ae=>(Q=Date.now(),Sr()<=ge.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-le}ms\n\tDetermined least recently used ${c} in `+(O-b)+`ms\n\tRemoved ${p} targets in `+(Z-O)+`ms\n\tRemoved ${Ae} documents in `+(Q-Z)+`ms\nTotal Duration: ${Q-le}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Ae})))}}class n0{constructor(e,t){this.db=e,this.garbageCollector=new t0(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,c)=>t(c))}addReference(e,t,s){return Lh(e,s)}removeReference(e,t,s){return Lh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Lh(e,t)}Gn(e,t){return function(s,c){let p=!1;return Jd(s).tt(b=>Tu(s,b,c).next(O=>(O&&(p=!0),tt.resolve(!O)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Kn(e,(b,O)=>{if(O<=t){const Z=this.Gn(e,b).next(Q=>{if(!Q)return p++,s.getEntry(e,b).next(()=>(s.removeEntry(b,Bt.min()),Jl(e).delete([0,Ko(b.path)])))});c.push(Z)}}).next(()=>tt.waitFor(c)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Lh(e,t)}Kn(e,t){const s=Jl(e);let c,p=Ro.at;return s.Z({index:"documentTargetsIndex"},([b,O],{path:Z,sequenceNumber:Q})=>{0===b?(p!==Ro.at&&t(new Rt(du(c)),p),p=Q,c=Z):p=Ro.at}).next(()=>{p!==Ro.at&&t(new Rt(du(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lh(i,e){return Jl(i).put((s=i.currentSequenceNumber,{targetId:0,path:Ko(e.path),sequenceNumber:s}));var s}class _y{constructor(){this.changes=new zl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?tt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Im{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return bd(e).put(s)}removeEntry(e,t,s){return bd(e).delete(function(c,p){const b=c.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Be(p),b[b.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=gs.newInvalidDocument(t);return bd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Bh(t))},(c,p)=>{s=this.jn(t,p)}).next(()=>s)}Wn(e,t){let s={size:0,document:gs.newInvalidDocument(t)};return bd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Bh(t))},(c,p)=>{s={document:this.jn(t,p),size:Qd(p)}}).next(()=>s)}getEntries(e,t){let s=fa();return this.zn(e,t,(c,p)=>{const b=this.jn(c,p);s=s.insert(c,b)}).next(()=>s)}Hn(e,t){let s=fa(),c=new Os(Rt.comparator);return this.zn(e,t,(p,b)=>{const O=this.jn(p,b);s=s.insert(p,O),c=c.insert(p,Qd(b))}).next(()=>({documents:s,Jn:c}))}zn(e,t,s){if(t.isEmpty())return tt.resolve();let c=new ls(Am);t.forEach(Z=>c=c.add(Z));const p=IDBKeyRange.bound(Bh(c.first()),Bh(c.last())),b=c.getIterator();let O=b.getNext();return bd(e).Z({index:"documentKeyIndex",range:p},(Z,Q,le)=>{const Ae=Rt.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;O&&Am(O,Ae)<0;)s(O,null),O=b.getNext();O&&O.isEqual(Ae)&&(s(O,Q),O=b.hasNext()?b.getNext():null),O?le.j(Bh(O)):le.done()}).next(()=>{for(;O;)s(O,null),O=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,t,s,c){const p=t.path,b=[p.popLast().toArray(),p.lastSegment(),Be(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],O=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bd(e).W(IDBKeyRange.bound(b,O,!0)).next(Z=>{let Q=fa();for(const le of Z){const Ae=this.jn(Rt.fromSegments(le.prefixPath.concat(le.collectionGroup,le.documentId)),le);Ae.isFoundDocument()&&(Cl(t,Ae)||c.has(Ae.key))&&(Q=Q.insert(Ae.key,Ae))}return Q})}getAllFromCollectionGroup(e,t,s,c){let p=fa();const b=fu(t,s),O=fu(t,Ns.max());return bd(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,O,!0)},(Z,Q,le)=>{const Ae=this.jn(Rt.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);p=p.insert(Ae.key,Ae),p.size===c&&le.done()}).next(()=>p)}newChangeBuffer(e){return new yy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qp(e).get("remoteDocumentGlobalKey").next(t=>(_n(!!t),t))}Qn(e,t){return qp(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function ce(i,e){let t;if(e.document)t=y(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Rt.fromSegments(e.noDocument.path),c=wt(e.noDocument.readTime);t=gs.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return zt();{const s=Rt.fromSegments(e.unknownDocument.path),c=wt(e.unknownDocument.version);t=gs.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new tn(s[0],s[1]);return Bt.fromTimestamp(c)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(Bt.min()))return s}return gs.newInvalidDocument(e)}}function Zp(i){return new Im(i)}class yy extends _y{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new zl(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new ls((p,b)=>Ot(p.canonicalString(),b.canonicalString()));return this.changes.forEach((p,b)=>{const O=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,O.readTime)),b.isValidDocument()){const Z=Re(this.Yn.yt,b);c=c.add(p.path.popLast());const Q=Qd(Z);s+=Q-O.size,t.push(this.Yn.addEntry(e,p,Z))}else if(s-=O.size,this.trackRemovals){const Z=Re(this.Yn.yt,b.convertToNoDocument(Bt.min()));t.push(this.Yn.addEntry(e,p,Z))}}),c.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,s)),tt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:c})=>(c.forEach((p,b)=>{this.Xn.set(p,{size:b,readTime:s.get(p).readTime})}),s))}}function qp(i){return d(i,"remoteDocumentGlobal")}function bd(i){return d(i,"remoteDocumentsV14")}function Bh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fu(i,e){const t=e.documentKey.path.toArray();return[i,Be(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Am(i,e){const t=i.path.toArray(),s=e.path.toArray();let c=0;for(let p=0;p<t.length-2&&p<s.length-2;++p)if(c=Ot(t[p],s[p]),c)return c;return c=Ot(t.length,s.length),c||(c=Ot(t[t.length-2],s[s.length-2]),c||Ot(t[t.length-1],s[s.length-1]))}class Mm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nm{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&au(s.mutation,c,Da.empty(),tn.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Mr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Mr()){const c=Sa();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(p=>{let b=Wl();return p.forEach((O,Z)=>{b=b.insert(O,Z.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const s=Sa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Mr()))}populateOverlays(e,t,s){const c=[];return s.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((b,O)=>{t.set(b,O)})})}computeViews(e,t,s,c){let p=fa();const b=vu(),O=vu();return t.forEach((Z,Q)=>{const le=s.get(Q.key);c.has(Q.key)&&(void 0===le||le.mutation instanceof el)?p=p.insert(Q.key,Q):void 0!==le?(b.set(Q.key,le.mutation.getFieldMask()),au(le.mutation,Q,le.mutation.getFieldMask(),tn.now())):b.set(Q.key,Da.empty())}),this.recalculateAndSaveOverlays(e,p).next(Z=>(Z.forEach((Q,le)=>b.set(Q,le)),t.forEach((Q,le)=>{var Ae;return O.set(Q,new Mm(le,null!==(Ae=b.get(Q))&&void 0!==Ae?Ae:null))}),O))}recalculateAndSaveOverlays(e,t){const s=vu();let c=new Os((b,O)=>b-O),p=Mr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const O of b)O.keys().forEach(Z=>{const Q=t.get(Z);if(null===Q)return;let le=s.get(Z)||Da.empty();le=O.applyToLocalView(Q,le),s.set(Z,le);const Ae=(c.get(O.batchId)||Mr()).add(Z);c=c.insert(O.batchId,Ae)})}).next(()=>{const b=[],O=c.getReverseIterator();for(;O.hasNext();){const Z=O.getNext(),Q=Z.key,le=Z.value,Ae=Zl();le.forEach(gt=>{if(!p.has(gt)){const Zt=tc(t.get(gt),s.get(gt));null!==Zt&&Ae.set(gt,Zt),p=p.add(gt)}}),b.push(this.documentOverlayCache.saveOverlays(e,Q,Ae))}return tt.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Rt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(p=>{const b=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-p.size):tt.resolve(Sa());let O=-1,Z=p;return b.next(Q=>tt.forEach(Q,(le,Ae)=>(O<Ae.largestBatchId&&(O=Ae.largestBatchId),p.get(le)?tt.resolve():this.remoteDocumentCache.getEntry(e,le).next(gt=>{Z=Z.insert(le,gt)}))).next(()=>this.populateOverlays(e,Q,p)).next(()=>this.computeViews(e,Z,Q,Mr())).next(le=>({batchId:O,changes:ic(le)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(s=>{let c=Wl();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let p=Wl();return this.indexManager.getCollectionParents(e,c).next(b=>tt.forEach(b,O=>{const Z=(Q=t,le=O.child(c),new fl(le,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,le;return this.getDocumentsMatchingCollectionQuery(e,Z,s).next(Q=>{Q.forEach((le,Ae)=>{p=p.insert(le,Ae)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c))).next(p=>{c.forEach((O,Z)=>{const Q=Z.getKey();null===p.get(Q)&&(p=p.insert(Q,gs.newInvalidDocument(Q)))});let b=Wl();return p.forEach((O,Z)=>{const Q=c.get(O);void 0!==Q&&au(Q.mutation,Z,Da.empty(),tn.now()),Cl(t,Z)&&(b=b.insert(O,Z))}),b})}}class vy{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return tt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:us(s.createTime)}),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:oi(s.bundledQuery),readTime:us(s.readTime)}),tt.resolve();var s}}class by{constructor(){this.overlays=new Os(Rt.comparator),this.es=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Sa();return tt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,p)=>{this.oe(e,t,p)}),tt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.es.get(s);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(s)),tt.resolve()}getOverlaysForCollection(e,t,s){const c=Sa(),p=t.length+1,b=new Rt(t.child("")),O=this.overlays.getIteratorFrom(b);for(;O.hasNext();){const Z=O.getNext().value,Q=Z.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===p&&Z.largestBatchId>s&&c.set(Z.getKey(),Z)}return tt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let p=new Os((Q,le)=>Q-le);const b=this.overlays.getIterator();for(;b.hasNext();){const Q=b.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let le=p.get(Q.largestBatchId);null===le&&(le=Sa(),p=p.insert(Q.largestBatchId,le)),le.set(Q.getKey(),Q)}}const O=Sa(),Z=p.getIterator();for(;Z.hasNext()&&(Z.getNext().value.forEach((Q,le)=>O.set(Q,le)),!(O.size()>=c)););return tt.resolve(O)}oe(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const b=this.es.get(c.largestBatchId).delete(s.key);this.es.set(c.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new g(t,s));let p=this.es.get(t);void 0===p&&(p=Mr(),this.es.set(t,p)),this.es.set(t,p.add(s.key))}}class Kp{constructor(){this.ns=new ls(Aa.ss),this.rs=new ls(Aa.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Aa(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Aa(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Rt(new Cn([])),s=new Aa(t,e),c=new Aa(t,e+1),p=[];return this.rs.forEachInRange([s,c],b=>{this.cs(b),p.push(b.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Rt(new Cn([])),s=new Aa(t,e),c=new Aa(t,e+1);let p=Mr();return this.rs.forEachInRange([s,c],b=>{p=p.add(b.key)}),p}containsKey(e){const t=new Aa(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Aa{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Rt.comparator(e.key,t.key)||Ot(e._s,t._s)}static os(e,t){return Ot(e._s,t._s)||Rt.comparator(e.key,t.key)}}class Ey{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ls(Aa.ss)}checkEmpty(e){return tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const p=this.ws;this.ws++;const b=new v(p,t,s,c);this.mutationQueue.push(b);for(const O of c)this.gs=this.gs.add(new Aa(O.key,p)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return tt.resolve(b)}lookupMutationBatch(e,t){return tt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),p=c<0?0:c;return tt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Aa(t,0),c=new Aa(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([s,c],b=>{const O=this.ys(b._s);p.push(O)}),tt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ls(Ot);return t.forEach(c=>{const p=new Aa(c,0),b=new Aa(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,b],O=>{s=s.add(O._s)})}),tt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let p=s;Rt.isDocumentKey(p)||(p=p.child(""));const b=new Aa(new Rt(p),0);let O=new ls(Ot);return this.gs.forEachWhile(Z=>{const Q=Z.key.path;return!!s.isPrefixOf(Q)&&(Q.length===c&&(O=O.add(Z._s)),!0)},b),tt.resolve(this.Is(O))}Is(e){const t=[];return e.forEach(s=>{const c=this.ys(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){_n(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return tt.forEach(t.mutations,c=>{const p=new Aa(c.key,t.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Aa(t,0),c=this.gs.firstAfterOrEqual(s);return tt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return tt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wy{constructor(e){this.Es=e,this.docs=new Os(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),p=c?c.size:0,b=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:b}),this.size+=b-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return tt.resolve(s?s.document.mutableCopy():gs.newInvalidDocument(t))}getEntries(e,t){let s=fa();return t.forEach(c=>{const p=this.docs.get(c);s=s.insert(c,p?p.document.mutableCopy():gs.newInvalidDocument(c))}),tt.resolve(s)}getDocumentsMatchingQuery(e,t,s,c){let p=fa();const b=t.path,O=new Rt(b.child("")),Z=this.docs.getIteratorFrom(O);for(;Z.hasNext();){const{key:Q,value:{document:le}}=Z.getNext();if(!b.isPrefixOf(Q.path))break;Q.path.length>b.length+1||dl($s(le),s)<=0||(c.has(le.key)||Cl(t,le))&&(p=p.insert(le.key,le.mutableCopy()))}return tt.resolve(p)}getAllFromCollectionGroup(e,t,s,c){zt()}As(e,t){return tt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Dy(this)}getSize(e){return tt.resolve(this.size)}}class Dy extends _y{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(s)}),tt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Kr{constructor(e){this.persistence=e,this.Rs=new zl(t=>xo(t),Mc),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Kp,this.targetCount=0,this.vs=ju.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,c)=>t(c)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),tt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ju(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.Dn(t),tt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,s){let c=0;const p=[];return this.Rs.forEach((b,O)=>{O.sequenceNumber<=t&&null===s.get(O.targetId)&&(this.Rs.delete(b),p.push(this.removeMatchingKeysForTargetId(e,O.targetId)),c++)}),tt.waitFor(p).next(()=>c)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return tt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),tt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(b=>{p.push(c.markPotentiallyOrphaned(e,b))}),tt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return tt.resolve(s)}containsKey(e,t){return tt.resolve(this.Ps.containsKey(t))}}class Yp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ro(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Kr(this),this.indexManager=new qd,this.remoteDocumentCache=new wy(s=>this.referenceDelegate.xs(s)),this.yt=new H(t),this.Ns=new vy(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new by,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Ey(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){mt("MemoryPersistence","Starting transaction:",e);const c=new Om(this.Ss.next());return this.referenceDelegate.ks(),s(c).next(p=>this.referenceDelegate.Os(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ms(e,t){return tt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class Om extends Zn{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Fs=new Kp,this.$s=null}static Bs(e){return new Uh(e)}get Ls(){if(this.$s)return this.$s;throw zt()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),tt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ls.add(p.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Ls,s=>{const c=Rt.fromPath(s);return this.qs(e,c).next(p=>{p||t.removeEntry(c,Bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return tt.or([()=>tt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Sy{constructor(e){this.yt=e}$(e,t,s,c){const p=new ho("createOrUpgrade",t);var O;s<1&&c>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cc,{unique:!0}),O.createObjectStore("documentMutations"),Rm(e),function(O){O.createObjectStore("remoteDocuments")}(e));let b=tt.resolve();return s<3&&c>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),Rm(e)),b=b.next(()=>function(O){const Z=O.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return Z.put("targetGlobalKey",Q)}(p))),s<4&&c>=4&&(0!==s&&(b=b.next(()=>function(O,Z){return Z.store("mutations").W().next(Q=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cc,{unique:!0});const le=Z.store("mutations"),Ae=Q.map(gt=>le.put(gt));return tt.waitFor(Ae)})}(e,p))),b=b.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(b=b.next(()=>this.Us(p))),s<6&&c>=6&&(b=b.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),s<7&&c>=7&&(b=b.next(()=>this.Gs(p))),s<8&&c>=8&&(b=b.next(()=>this.Qs(e,p))),s<9&&c>=9&&(b=b.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(b=b.next(()=>this.js(p))),s<11&&c>=11&&(b=b.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(b=b.next(()=>{!function(O){const Z=O.createObjectStore("documentOverlays",{keyPath:jp});Z.createIndex("collectionPathOverlayIndex",Tm,{unique:!1}),Z.createIndex("collectionGroupOverlayIndex",Pf,{unique:!1})}(e)})),s<13&&c>=13&&(b=b.next(()=>function(O){const Z=O.createObjectStore("remoteDocumentsV14",{keyPath:Up});Z.createIndex("documentKeyIndex",Em),Z.createIndex("collectionGroupIndex",wm)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(b=b.next(()=>this.zs(e,p))),s<15&&c>=15&&(b=b.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:$p}).createIndex("sequenceNumberIndex",Wd,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:Sm}).createIndex("documentKeyIndex",ko,{unique:!1})}(e))),b}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,c)=>{t+=Qd(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(c=>tt.forEach(c,p=>{const b=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",b).next(O=>tt.forEach(O,Z=>{_n(Z.userId===p.userId);const Q=vn(this.yt,Z);return Yd(e,p.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return s.Z((b,O)=>{const Z=new Cn(b),Q=[0,Ko(Z)];p.push(t.get(Q).next(le=>le?tt.resolve():t.put({targetId:0,path:Ko(Z),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>tt.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ph});const s=t.store("collectionParents"),c=new il,p=b=>{if(c.add(b)){const O=b.lastSegment(),Z=b.popLast();return s.put({collectionId:O,parent:Ko(Z)})}};return t.store("remoteDocuments").Z({X:!0},(b,O)=>{const Z=new Cn(b);return p(Z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([b,O,Z],Q)=>{const le=du(O);return p(le.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,c)=>{const p=dn(c),b=In(this.yt,p);return t.put(b)})}Ws(e,t){const s=t.store("remoteDocuments"),c=[];return s.Z((p,b)=>{const O=t.store("remoteDocumentsV14"),Z=(Q=b,Q.document?new Rt(Cn.fromString(Q.document.name).popFirst(5)):Q.noDocument?Rt.fromSegments(Q.noDocument.path):Q.unknownDocument?Rt.fromSegments(Q.unknownDocument.path):zt()).path.toArray();var Q;const le={prefixPath:Z.slice(0,Z.length-2),collectionGroup:Z[Z.length-2],documentId:Z[Z.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};c.push(O.put(le))}).next(()=>tt.waitFor(c))}zs(e,t){const s=t.store("mutations"),c=Zp(this.yt),p=new Yp(Uh.Bs,this.yt.ie);return s.W().next(b=>{const O=new Map;return b.forEach(Z=>{var Q;let le=null!==(Q=O.get(Z.userId))&&void 0!==Q?Q:Mr();vn(this.yt,Z).keys().forEach(Ae=>le=le.add(Ae)),O.set(Z.userId,le)}),tt.forEach(O,(Z,Q)=>{const le=new lt(Q),Ae=ti.re(this.yt,le),gt=p.getIndexManager(le),Zt=Rl.re(le,this.yt,gt,p.referenceDelegate);return new Nm(c,Zt,Ae,gt).recalculateAndSaveOverlaysForDocumentKeys(new Zd(t,Ro.at),Z).next()})})}}function Rm(i){i.createObjectStore("targetDocuments",{keyPath:Dm}).createIndex("documentTargetsIndex",Hp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vp,{unique:!0}),i.createObjectStore("targetGlobal")}const Ff="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qp{constructor(e,t,s,c,p,b,O,Z,Q,le,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=p,this.window=b,this.document=O,this.Js=Q,this.Ys=le,this.Xs=Ae,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=gt=>Promise.resolve(),!Qp.C())throw new Ht(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n0(this,c),this.ii=t+"main",this.yt=new H(Z),this.ri=new Ii(this.ii,this.Xs,new Sy(this.yt)),this.Cs=new kf(this.referenceDelegate,this.yt),this.remoteDocumentCache=Zp(this.yt),this.Ns=new Zr,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===le&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ht(ht.FAILED_PRECONDITION,Ff);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ro(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,ve.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ve.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Rr(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Xd(e).get("owner").next(t=>tt.resolve(this.mi(t)))}gi(e){return Lf(e).delete(this.clientId)}yi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=d(s,"clientMetadata");return c.W().next(p=>{const b=e.Ii(p,18e5),O=p.filter(Z=>-1===b.indexOf(Z));return tt.forEach(O,Z=>c.delete(Z.clientId)).next(()=>O)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?tt.resolve(!0):Xd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ht(ht.FAILED_PRECONDITION,Ff);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lf(e).W().next(s=>void 0===this.Ii(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Zd(t,Ro.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Lf(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Rl.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Wp(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return ti.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){mt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",p=15===(b=this.Xs)?zp:14===b?xh:13===b?Gp:12===b?Cm:11===b?xf:void zt();var b;let O;return this.ri.runTransaction(e,c,p,Z=>(O=new Zd(Z,this.Ss?this.Ss.next():Ro.at),"readwrite-primary"===t?this.fi(O).next(Q=>!!Q||this.di(O)).next(Q=>{if(!Q)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ht(ht.FAILED_PRECONDITION,Vn);return s(O)}).next(Q=>this.wi(O).next(()=>Q)):this.Vi(O).next(()=>s(O)))).then(Z=>(O.raiseOnCommittedEvent(),Z))}Vi(e){return Xd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ht(ht.FAILED_PRECONDITION,Ff)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xd(e).put("owner",t)}static C(){return Ii.C()}_i(e){const t=Xd(e);return t.get("owner").next(s=>this.mi(s)?(mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):tt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(gn(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,We.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return gn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xd(i){return d(i,"owner")}function Lf(i){return d(i,"clientMetadata")}function Jp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Pm{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=c}static Ci(e,t){let s=Mr(),c=Mr();for(const p of t.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Pm(e,t.fromCache,s,c)}}class Xp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,c){return this.ki(e,t).next(p=>p||this.Oi(e,t,c,s)).next(p=>p||this.Mi(e,t))}ki(e,t){if(Ou(t))return tt.resolve(null);let s=qo(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Do(t,null,"F"),s=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const b=Mr(...p);return this.Ni.getDocuments(e,b).next(O=>this.indexManager.getMinOffset(e,s).next(Z=>{const Q=this.Fi(t,O);return this.$i(t,Q,b,Z.readTime)?this.ki(e,Do(t,null,"F")):this.Bi(e,Q,t,Z)}))})))}Oi(e,t,s,c){return Ou(t)||c.isEqual(Bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(p=>{const b=this.Fi(t,p);return this.$i(t,b,s,c)?this.Mi(e,t):(Sr()<=ge.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Tl(t)),this.Bi(e,b,t,vo(c,-1)))})}Fi(e,t){let s=new ls(Hd(e));return t.forEach((c,p)=>{Cl(e,p)&&(s=s.add(p))}),s}$i(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Mi(e,t){return Sr()<=ge.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ns.min())}Bi(e,t,s,c){return this.Ni.getDocumentsMatchingQuery(e,s,c).next(p=>(t.forEach(b=>{p=p.insert(b.key,b)}),p))}}class xm{constructor(e,t,s,c){this.persistence=e,this.Li=t,this.yt=c,this.qi=new Os(Ot),this.Ui=new zl(p=>xo(p),Mc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Hc(i,e,t,s){return new xm(i,e,t,s)}function km(i,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,ve.Z)(function*(i,e){const t=an(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(p=>(c=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(p=>{const b=[],O=[];let Z=Mr();for(const Q of c){b.push(Q.batchId);for(const le of Q.mutations)Z=Z.add(le.key)}for(const Q of p){O.push(Q.batchId);for(const le of Q.mutations)Z=Z.add(le.key)}return t.localDocuments.getDocuments(s,Z).next(Q=>({ji:Q,removedBatchIds:b,addedBatchIds:O}))})})}),Vh.apply(this,arguments)}function eg(i,e){const t=an(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(b,O,Z,Q){const le=Z.batch,Ae=le.keys();let gt=tt.resolve();return Ae.forEach(Zt=>{gt=gt.next(()=>Q.getEntry(O,Zt)).next(nn=>{const xn=Z.docVersions.get(Zt);_n(null!==xn),nn.version.compareTo(xn)<0&&(le.applyToRemoteDocument(nn,Z),nn.isValidDocument()&&(nn.setReadTime(Z.commitVersion),Q.addEntry(nn)))})}),gt.next(()=>b.mutationQueue.removeMutationBatch(O,le))}(t,s,e,p).next(()=>p.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let O=Mr();for(let Z=0;Z<b.mutationResults.length;++Z)b.mutationResults[Z].transformResults.length>0&&(O=O.add(b.batch.mutations[Z].key));return O}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}function Fm(i){const e=an(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function r0(i,e){const t=an(i),s=e.snapshotVersion;let c=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const b=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.qi;const O=[];e.targetChanges.forEach((le,Ae)=>{const gt=c.get(Ae);if(!gt)return;O.push(t.Cs.removeMatchingKeys(p,le.removedDocuments,Ae).next(()=>t.Cs.addMatchingKeys(p,le.addedDocuments,Ae)));let Zt=gt.withSequenceNumber(p.currentSequenceNumber);var nn,xn,ur;e.targetMismatches.has(Ae)?Zt=Zt.withResumeToken(T.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):le.resumeToken.approximateByteSize()>0&&(Zt=Zt.withResumeToken(le.resumeToken,s)),c=c.insert(Ae,Zt),xn=Zt,ur=le,(0===(nn=gt).resumeToken.approximateByteSize()||xn.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||ur.addedDocuments.size+ur.modifiedDocuments.size+ur.removedDocuments.size>0)&&O.push(t.Cs.updateTargetData(p,Zt))});let Z=fa(),Q=Mr();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(p,le))}),O.push(Ty(p,b,e.documentUpdates).next(le=>{Z=le.Wi,Q=le.zi})),!s.isEqual(Bt.min())){const le=t.Cs.getLastRemoteSnapshotVersion(p).next(Ae=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,s));O.push(le)}return tt.waitFor(O).next(()=>b.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,Z,Q)).next(()=>Z)}).then(p=>(t.qi=c,p))}function Ty(i,e,t){let s=Mr(),c=Mr();return t.forEach(p=>s=s.add(p)),e.getEntries(i,s).next(p=>{let b=fa();return t.forEach((O,Z)=>{const Q=p.get(O);Z.isFoundDocument()!==Q.isFoundDocument()&&(c=c.add(O)),Z.isNoDocument()&&Z.version.isEqual(Bt.min())?(e.removeEntry(O,Z.readTime),b=b.insert(O,Z)):!Q.isValidDocument()||Z.version.compareTo(Q.version)>0||0===Z.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(Z),b=b.insert(O,Z)):mt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",Q.version," Watch version:",Z.version)}),{Wi:b,zi:c}})}function s0(i,e){const t=an(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eh(i,e){const t=an(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Cs.getTargetData(s,e).next(p=>p?(c=p,tt.resolve(c)):t.Cs.allocateTargetId(s).next(b=>(c=new M(e,b,0,s.currentSequenceNumber),t.Cs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.qi.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function Ed(i,e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,ve.Z)(function*(i,e,t){const s=an(i),c=s.qi.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",p,b=>s.persistence.referenceDelegate.removeTarget(b,c)))}catch(b){if(!Rr(b))throw b;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.qi=s.qi.remove(e),s.Ui.delete(c.target)}),Lm.apply(this,arguments)}function Bf(i,e,t){const s=an(i);let c=Bt.min(),p=Mr();return s.persistence.runTransaction("Execute query","readonly",b=>function(O,Z,Q){const le=an(O),Ae=le.Ui.get(Q);return void 0!==Ae?tt.resolve(le.qi.get(Ae)):le.Cs.getTargetData(Z,Q)}(s,b,qo(e)).next(O=>{if(O)return c=O.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(b,O.targetId).next(Z=>{p=Z})}).next(()=>s.Li.getDocumentsMatchingQuery(b,e,t?c:Bt.min(),t?p:Mr())).next(O=>(tg(s,Ru(e),O),{documents:O,Hi:p})))}function wd(i,e){const t=an(i),s=an(t.Cs),c=t.qi.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",p=>s.ne(p,e).next(b=>b?b.target:null))}function Bm(i,e){const t=an(i),s=t.Ki.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,vo(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(tg(t,e,c),c))}function tg(i,e,t){let s=i.Ki.get(e)||Bt.min();t.forEach((c,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),i.Ki.set(e,s)}function ng(){return ng=(0,ve.Z)(function*(i,e,t,s){const c=an(i);let p=Mr(),b=fa();for(const Q of t){const le=e.Ji(Q.metadata.name);Q.document&&(p=p.add(le));const Ae=e.Yi(Q);Ae.setReadTime(e.Xi(Q.metadata.readTime)),b=b.insert(le,Ae)}const O=c.Gi.newChangeBuffer({trackRemovals:!0}),Z=yield eh(c,(Q=s,qo(Nu(Cn.fromString(`__bundle__/docs/${Q}`)))));var Q;return c.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Ty(Q,O,b).next(le=>(O.apply(Q),le)).next(le=>c.Cs.removeMatchingKeysForTargetId(Q,Z.targetId).next(()=>c.Cs.addMatchingKeys(Q,p,Z.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Q,le.Wi,le.zi)).next(()=>le.Wi)))}),ng.apply(this,arguments)}function Um(i,e){return rg.apply(this,arguments)}function rg(){return rg=(0,ve.Z)(function*(i,e,t=Mr()){const s=yield eh(i,qo(oi(e.bundledQuery))),c=an(i);return c.persistence.runTransaction("Save named query","readwrite",p=>{const b=us(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return c.Ns.saveNamedQuery(p,e);const O=s.withResumeToken(T.EMPTY_BYTE_STRING,b);return c.qi=c.qi.insert(O.targetId,O),c.Cs.updateTargetData(p,O).next(()=>c.Cs.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>c.Cs.addMatchingKeys(p,t,s.targetId)).next(()=>c.Ns.saveNamedQuery(p,e))})}),rg.apply(this,arguments)}function Vm(i,e){return`firestore_clients_${i}_${e}`}function Hm(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function ig(i,e){return`firestore_targets_${i}_${e}`}class Vf{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static Zi(e,t,s){const c=JSON.parse(s);let p,b="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return b&&c.error&&(b="string"==typeof c.error.message&&"string"==typeof c.error.code,b&&(p=new Ht(c.error.code,c.error.message))),b?new Vf(e,t,c.state,p):(gn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class th{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let c,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(c=new Ht(s.error.code,s.error.message))),p?new th(e,s.state,c):(gn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,p=sc();for(let b=0;c&&b<s.activeTargetIds.length;++b)c=Eo(s.activeTargetIds[b]),p=p.add(s.activeTargetIds[b]);return c?new Hf(e,p):(gn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $f{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $f(t.clientId,t.onlineState):(gn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jf{constructor(){this.activeTargetIds=sc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hh{constructor(e,t,s,c,p){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Os(Ot),this.started=!1,this.cr=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=Vm(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new jf),this.lr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const p=e.getItem(Vm(e.persistenceKey,c));if(p){const b=Hf.Zi(c,p);b&&(e.ur=e.ur.insert(b.clientId,b))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const c=e.yr(s);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ig(this.persistenceKey,e));if(s){const c=th.Zi(e,s);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ig(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Er(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mt("SharedClientState","READ",e,t),t}setItem(e,t){mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const c=t.vr(s.key);return t.Vr(c,null)}{const c=t.Sr(s.key,s.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const c=t.Dr(s.key,s.newValue);if(c)return t.Cr(c)}}else if(t._r.test(s.key)){if(null!==s.newValue){const c=t.Nr(s.key,s.newValue);if(c)return t.kr(c)}}else if(s.key===t.wr){if(null!==s.newValue){const c=t.yr(s.newValue);if(c)return t.pr(c)}}else if(s.key===t.hr){const c=function(p){let b=Ro.at;if(null!=p)try{const O=JSON.parse(p);_n("number"==typeof O),b=O}catch(O){gn("SharedClientState","Failed to read sequence number from WebStorage",O)}return b}(s.newValue);c!==Ro.at&&t.sequenceNumberHandler(c)}else if(s.key===t.mr){const c=t.Or(s.newValue);yield Promise.all(c.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const c=new Vf(this.currentUser,e,t,s),p=Hm(this.persistenceKey,this.currentUser,e);this.setItem(p,c.tr())}Er(e){const t=Hm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const c=ig(this.persistenceKey,e),p=new th(e,t,s);this.setItem(c,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Hf.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),c=Number(s[1]);return Vf.Zi(new lt(void 0!==s[2]?s[2]:null),c,t)}Nr(e,t){const s=this._r.exec(e),c=Number(s[1]);return th.Zi(c,t)}yr(e){return $f.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),p=this.Ir(s),b=[],O=[];return p.forEach(Z=>{c.has(Z)||b.push(Z)}),c.forEach(Z=>{p.has(Z)||O.push(Z)}),this.syncEngine.Br(b,O).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=sc();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class Cy{constructor(){this.Lr=new jf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new jf,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sg{Ur(e){}shutdown(){}}class $m{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const o0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nh{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class jm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,c,p){const b=this.ho(e,t);mt("RestConnection","Sending: ",b,s);const O={};return this.lo(O,c,p),this.fo(e,b,O,s).then(Z=>(mt("RestConnection","Received: ",Z),Z),Z=>{throw Cr("RestConnection",`${e} failed with error: `,Z,"url: ",b,"request:",s),Z})}_o(e,t,s,c,p,b){return this.ao(e,t,s,c,p)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Et,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),s&&s.headers.forEach((c,p)=>e[p]=c)}ho(e,t){return`${this.oo}/v1/${t}:${o0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,c){return new Promise((p,b)=>{const O=new ne;O.setWithCredentials(!0),O.listenOnce(Fa.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case cl.NO_ERROR:const Q=O.getResponseJson();mt("Connection","XHR received:",JSON.stringify(Q)),p(Q);break;case cl.TIMEOUT:mt("Connection",'RPC "'+e+'" timed out'),b(new Ht(ht.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:const le=O.getStatus();if(mt("Connection",'RPC "'+e+'" failed with status:',le,"response text:",O.getResponseText()),le>0){let Ae=O.getResponseJson();Array.isArray(Ae)&&(Ae=Ae[0]);const gt=Ae?.error;if(gt&&gt.status&&gt.message){const Zt=function(nn){const xn=nn.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(xn)>=0?xn:ht.UNKNOWN}(gt.status);b(new Ht(Zt,gt.message))}else b(new Ht(ht.UNKNOWN,"Server responded with status "+O.getStatus()))}else b(new Ht(ht.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{mt("Connection",'RPC "'+e+'" completed.')}});const Z=JSON.stringify(c);O.send(t,"POST",Z,s,15)})}wo(e,t,s){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Bl(),b=Ul(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new K({})),this.lo(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const Z=c.join("");mt("Connection","Creating WebChannel: "+Z,O);const Q=p.createWebChannel(Z,O);let le=!1,Ae=!1;const gt=new nh({Hr:nn=>{Ae?mt("Connection","Not sending because WebChannel is closed:",nn):(le||(mt("Connection","Opening WebChannel transport."),Q.open(),le=!0),mt("Connection","WebChannel sending:",nn),Q.send(nn))},Jr:()=>Q.close()}),Zt=(nn,xn,ur)=>{nn.listen(xn,Ts=>{try{ur(Ts)}catch(js){setTimeout(()=>{throw js},0)}})};return Zt(Q,V.EventType.OPEN,()=>{Ae||mt("Connection","WebChannel transport opened.")}),Zt(Q,V.EventType.CLOSE,()=>{Ae||(Ae=!0,mt("Connection","WebChannel transport closed"),gt.io())}),Zt(Q,V.EventType.ERROR,nn=>{Ae||(Ae=!0,Cr("Connection","WebChannel transport errored:",nn),gt.io(new Ht(ht.UNAVAILABLE,"The operation could not be completed")))}),Zt(Q,V.EventType.MESSAGE,nn=>{var xn;if(!Ae){const ur=nn.data[0];_n(!!ur);const js=ur.error||(null===(xn=ur[0])||void 0===xn?void 0:xn.error);if(js){mt("Connection","WebChannel received error:",js);const Hi=js.status;let So=function(Ki){const Na=Ks[Ki];if(void 0!==Na)return rc(Na)}(Hi),wi=js.message;void 0===So&&(So=ht.INTERNAL,wi="Unknown error status: "+Hi+" with message "+js.message),Ae=!0,gt.io(new Ht(So,wi)),Q.close()}else mt("Connection","WebChannel received:",ur),gt.ro(ur)}}),Zt(b,ba.STAT_EVENT,nn=>{nn.stat===x.PROXY?mt("Connection","Detected buffering proxy"):nn.stat===x.NOPROXY&&mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{gt.so()},0),gt}}function Gm(){return typeof window<"u"?window:null}function $h(){return typeof document<"u"?document:null}function jh(i){return new fd(i,!0)}class og{constructor(e,t,s=1e3,c=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=c,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-s);c>0&&mt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Gh{constructor(e,t,s,c,p,b,O,Z){this.Hs=e,this.vo=s,this.Vo=c,this.connection=p,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=O,this.listener=Z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new og(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ve.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ve.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,ve.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===ht.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===ht.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.So===t&&this.Go(s,c)},s=>{e(()=>{const c=new Ht(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(c)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{s(()=>this.Qo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ve.Z)(function*(){e.state=0,e.start()}))}Qo(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rh extends Gh{constructor(e,t,s,c,p,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,b),this.yt=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Y(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(Z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:zt(),c=e.targetChange.targetIds||[],p=function(Z,Q){return Z.wt?(_n(void 0===Q||"string"==typeof Q),T.fromBase64String(Q||"")):(_n(void 0===Q||Q instanceof Uint8Array),T.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,O=b&&function(Z){const Q=void 0===Z.code?ht.UNKNOWN:rc(Z.code);return new Ht(Q,Z.message||"")}(b);t=new _l(s,c,p,O||null)}else if("documentChange"in e){const s=e.documentChange,c=Nl(i,s.document.name),p=us(s.document.updateTime),b=s.document.createTime?us(s.document.createTime):Bt.min(),O=new Zo({mapValue:{fields:s.document.fields}}),Z=gs.newFoundDocument(c,p,b,O);t=new Uu(s.targetIds||[],s.removedTargetIds||[],Z.key,Z)}else if("documentDelete"in e){const s=e.documentDelete,c=Nl(i,s.document),p=s.readTime?us(s.readTime):Bt.min(),b=gs.newNoDocument(c,p);t=new Uu([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,c=Nl(i,s.document);t=new Uu([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return zt();{const s=e.filter,p=new Al(s.count||0);t=new cd(s.targetId,p)}}var Z;return t}(this.yt,e),s=function(c){if(!("targetChange"in c))return Bt.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Bt.min():p.readTime?us(p.readTime):Bt.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=$u(this.yt),t.addTarget=function(c,p){let b;const O=p.target;return b=$a(O)?{documents:pn(c,O)}:{query:Ln(c,O)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?b.resumeToken=Ml(c,p.resumeToken):p.snapshotVersion.compareTo(Bt.min())>0&&(b.readTime=uu(c,p.snapshotVersion.toTimestamp())),b}(this.yt,e);const s=function ar(i,e){const t=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=$u(this.yt),t.removeTarget=e,this.Bo(t)}}class ag extends Gh{constructor(e,t,s,c,p,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,b),this.yt=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(_n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function xt(i,e){return i&&i.length>0?(_n(void 0!==e),i.map(t=>function(s,c){let p=us(s.updateTime?s.updateTime:c);return p.isEqual(Bt.min())&&(p=us(c)),new Pc(p,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=us(e.commitTime);return this.listener.Zo(s,t)}return _n(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=$u(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>se(this.yt,s))};this.Bo(t)}}class zh extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=c,this.nu=!1}su(){if(this.nu)throw new Ht(ht.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.ao(e,t,s,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ht(ht.UNKNOWN,c.toString())})}_o(e,t,s,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.connection._o(e,t,s,p,b,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Ht(ht.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class zm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(gn(t),this.ou=!1):mt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ug{constructor(e,t,s,c,p){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.Ur(O=>{s.enqueueAndForget((0,ve.Z)(function*(){var Z;mc(b)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,ve.Z)(function*(Q){const le=an(Q);le._u.add(4),yield Sd(le),le.gu.set("Unknown"),le._u.delete(4),yield Dd(le)}),function(Q){return Z.apply(this,arguments)})(b))}))}),this.gu=new zm(s,c)}}function Dd(i){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,ve.Z)(function*(i){if(mc(i))for(const e of i.wu)yield e(!0)}),Wh.apply(this,arguments)}function Sd(i){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,ve.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Zh.apply(this,arguments)}function Gf(i,e){const t=an(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Zf(t)?Wf(t):sh(t).ko()&&zf(t,e))}function qh(i,e){const t=an(i),s=sh(t);t.du.delete(e),s.ko()&&Wm(t,e),0===t.du.size&&(s.ko()?s.Fo():mc(t)&&t.gu.set("Unknown"))}function zf(i,e){i.yu.Ot(e.targetId),sh(i).zo(e)}function Wm(i,e){i.yu.Ot(e),sh(i).Ho(e)}function Wf(i){i.yu=new lc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),sh(i).start(),i.gu.uu()}function Zf(i){return mc(i)&&!sh(i).No()&&i.du.size>0}function mc(i){return 0===an(i)._u.size}function Zm(i){i.yu=void 0}function Xl(i){return qf.apply(this,arguments)}function qf(){return qf=(0,ve.Z)(function*(i){i.du.forEach((e,t)=>{zf(i,e)})}),qf.apply(this,arguments)}function Iy(i,e){return qm.apply(this,arguments)}function qm(){return qm=(0,ve.Z)(function*(i,e){Zm(i),Zf(i)?(i.gu.hu(e),Wf(i)):i.gu.set("Unknown")}),qm.apply(this,arguments)}function cg(i,e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ve.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof _l&&2===e.state&&e.cause)try{yield(s=(0,ve.Z)(function*(c,p){const b=p.cause;for(const O of p.targetIds)c.du.has(O)&&(yield c.remoteSyncer.rejectListen(O,b),c.du.delete(O),c.yu.removeTarget(O))}),function(c,p){return s.apply(this,arguments)})(i,e)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Yf(i,s)}else if(e instanceof Uu?i.yu.Kt(e):e instanceof cd?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(Bt.min()))try{const s=yield Fm(i.localStore);t.compareTo(s)>=0&&(yield function(c,p){const b=c.yu.Zt(p);return b.targetChanges.forEach((O,Z)=>{if(O.resumeToken.approximateByteSize()>0){const Q=c.du.get(Z);Q&&c.du.set(Z,Q.withResumeToken(O.resumeToken,p))}}),b.targetMismatches.forEach(O=>{const Z=c.du.get(O);if(!Z)return;c.du.set(O,Z.withResumeToken(T.EMPTY_BYTE_STRING,Z.snapshotVersion)),Wm(c,O);const Q=new M(Z.target,O,1,Z.sequenceNumber);zf(c,Q)}),c.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield Yf(i,s)}var s}),Kf.apply(this,arguments)}function Yf(i,e,t){return dg.apply(this,arguments)}function dg(){return dg=(0,ve.Z)(function*(i,e,t){if(!Rr(e))throw e;i._u.add(1),yield Sd(i),i.gu.set("Offline"),t||(t=()=>Fm(i.localStore)),i.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Dd(i)}))}),dg.apply(this,arguments)}function Km(i,e){return e().catch(t=>Yf(i,t,e))}function Td(i){return hg.apply(this,arguments)}function hg(){return hg=(0,ve.Z)(function*(i){const e=an(i),t=$c(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ay(e);)try{const c=yield s0(e.localStore,s);if(null===c){0===e.fu.length&&t.Fo();break}s=c.batchId,fg(e,c)}catch(c){yield Yf(e,c)}Ym(e)&&Qm(e)}),hg.apply(this,arguments)}function Ay(i){return mc(i)&&i.fu.length<10}function fg(i,e){i.fu.push(e);const t=$c(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ym(i){return mc(i)&&!$c(i).No()&&i.fu.length>0}function Qm(i){$c(i).start()}function My(i){return pg.apply(this,arguments)}function pg(){return pg=(0,ve.Z)(function*(i){$c(i).eu()}),pg.apply(this,arguments)}function Ny(i){return pu.apply(this,arguments)}function pu(){return pu=(0,ve.Z)(function*(i){const e=$c(i);for(const t of i.fu)e.Xo(t.mutations)}),pu.apply(this,arguments)}function gg(i,e,t){return mg.apply(this,arguments)}function mg(){return mg=(0,ve.Z)(function*(i,e,t){const s=i.fu.shift(),c=l.from(s,e,t);yield Km(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Td(i)}),mg.apply(this,arguments)}function Oy(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,ve.Z)(function*(i,e){var t;e&&$c(i).Yo&&(yield(t=(0,ve.Z)(function*(s,c){if(Nh(p=c.code)&&p!==ht.ABORTED){const b=s.fu.shift();$c(s).Mo(),yield Km(s,()=>s.remoteSyncer.rejectFailedWrite(b.batchId,c)),yield Td(s)}var p}),function(s,c){return t.apply(this,arguments)})(i,e)),Ym(i)&&Qm(i)}),Qf.apply(this,arguments)}function Jm(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,ve.Z)(function*(i,e){const t=an(i);t.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=mc(t);t._u.add(3),yield Sd(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Dd(t)}),_g.apply(this,arguments)}function yg(i,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,ve.Z)(function*(i,e){const t=an(i);e?(t._u.delete(2),yield Dd(t)):e||(t._u.add(2),yield Sd(t),t.gu.set("Unknown"))}),Kh.apply(this,arguments)}function sh(i){return i.pu||(i.pu=function(e,t,s){const c=an(e);return c.su(),new rh(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(i.datastore,i.asyncQueue,{Yr:Xl.bind(null,i),Zr:Iy.bind(null,i),Wo:cg.bind(null,i)}),i.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(i.pu.Mo(),Zf(i)?Wf(i):i.gu.set("Unknown")):(yield i.pu.stop(),Zm(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function $c(i){return i.Iu||(i.Iu=function(e,t,s){const c=an(e);return c.su(),new ag(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(i.datastore,i.asyncQueue,{Yr:My.bind(null,i),Zr:Oy.bind(null,i),tu:Ny.bind(null,i),Zo:gg.bind(null,i)}),i.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(i.Iu.Mo(),yield Td(i)):(yield i.Iu.stop(),i.fu.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class oh{constructor(e,t,s,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=p,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,s,c,p){const b=Date.now()+s,O=new oh(e,t,b,c,p);return O.start(s),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jc(i,e){if(gn("AsyncQueue",`${e}: ${i}`),Rr(i))return new Ht(ht.UNAVAILABLE,`${e}: ${i}`);throw i}class _c{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Rt.comparator(t.key,s.key):(t,s)=>Rt.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new Os(this.comparator)}static emptySet(e){return new _c(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=s.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new _c;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Ry{constructor(){this.Tu=new Os(Rt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):zt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Gc{constructor(e,t,s,c,p,b,O,Z,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=p,this.fromCache=b,this.syncStateChanged=O,this.excludesMetadataChanges=Z,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,c,p){const b=[];return t.forEach(O=>{b.push({type:0,doc:O})}),new Gc(e,t,_c.emptySet(t),b,s,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class a0{constructor(){this.Au=void 0,this.listeners=[]}}class Xm{constructor(){this.queries=new zl(e=>iu(e),$l),this.onlineState="Unknown",this.Ru=new Set}}function Jf(i,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ve.Z)(function*(i,e){const t=an(i),s=e.query;let c=!1,p=t.queries.get(s);if(p||(c=!0,p=new a0),c)try{p.Au=yield t.onListen(s)}catch(b){const O=jc(b,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(O)}t.queries.set(s,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&ah(t)}),Xf.apply(this,arguments)}function ep(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,ve.Z)(function*(i,e){const t=an(i),s=e.query;let c=!1;const p=t.queries.get(s);if(p){const b=p.listeners.indexOf(e);b>=0&&(p.listeners.splice(b,1),c=0===p.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),Yh.apply(this,arguments)}function yc(i,e){const t=an(i);let s=!1;for(const c of e){const b=t.queries.get(c.query);if(b){for(const O of b.listeners)O.Pu(c)&&(s=!0);b.Au=c}}s&&ah(t)}function tp(i,e,t){const s=an(i),c=s.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);s.queries.delete(e)}function ah(i){i.Ru.forEach(e=>{e.next()})}class Cd{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new Gc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Py{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class vg{constructor(e){this.yt=e}Ji(e){return Nl(this.yt,e)}Yi(e){return e.metadata.exists?y(this.yt,e.document,!1):gs.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return us(e)}}class e_{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=t_(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Cn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new vg(this.yt);for(const c of e)if(c.metadata.queries){const p=s.Ji(c.metadata.name);for(const b of c.metadata.queries){const O=(t.get(b)||Mr()).add(p);t.set(b,O)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function Uf(i,e,t,s){return ng.apply(this,arguments)}(e.localStore,new vg(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const c of e.queries)yield Um(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function t_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class n_{constructor(e){this.key=e}}class lh{constructor(e){this.key=e}}class r_{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Mr(),this.mutatedKeys=Mr(),this.Gu=Hd(e),this.Qu=new _c(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new Ry,c=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,b=c,O=!1;const Z="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Q="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((le,Ae)=>{const gt=c.get(le),Zt=Cl(this.query,Ae)?Ae:null,nn=!!gt&&this.mutatedKeys.has(gt.key),xn=!!Zt&&(Zt.hasLocalMutations||this.mutatedKeys.has(Zt.key)&&Zt.hasCommittedMutations);let ur=!1;gt&&Zt?gt.data.isEqual(Zt.data)?nn!==xn&&(s.track({type:3,doc:Zt}),ur=!0):this.Hu(gt,Zt)||(s.track({type:2,doc:Zt}),ur=!0,(Z&&this.Gu(Zt,Z)>0||Q&&this.Gu(Zt,Q)<0)&&(O=!0)):!gt&&Zt?(s.track({type:0,doc:Zt}),ur=!0):gt&&!Zt&&(s.track({type:1,doc:gt}),ur=!0,(Z||Q)&&(O=!0)),ur&&(Zt?(b=b.add(Zt),p=xn?p.add(le):p.delete(le)):(b=b.delete(le),p=p.delete(le)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const le="F"===this.query.limitType?b.last():b.first();b=b.delete(le.key),p=p.delete(le.key),s.track({type:1,doc:le})}return{Qu:b,zu:s,$i:O,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((Q,le)=>function(Ae,gt){const Zt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return Zt(Ae)-Zt(gt)}(Q.type,le.type)||this.Gu(Q.doc,le.doc)),this.Ju(s);const b=t?this.Yu():[],O=0===this.Ku.size&&this.current?1:0,Z=O!==this.Uu;return this.Uu=O,0!==p.length||Z?{snapshot:new Gc(this.query,e.Qu,c,p,e.mutatedKeys,0===O,Z,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:b}:{Xu:b}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ry,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Mr(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new lh(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new n_(s))}),t}tc(e){this.qu=e.Hi,this.Ku=Mr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Gc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class l0{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class xy{constructor(e){this.key=e,this.nc=!1}}class ky{constructor(e,t,s,c,p,b){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=b,this.sc={},this.ic=new zl(O=>iu(O),$l),this.rc=new Map,this.oc=new Set,this.uc=new Os(Rt.comparator),this.cc=new Map,this.ac=new Kp,this.hc={},this.lc=new Map,this.fc=ju.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Fy(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,ve.Z)(function*(i,e){const t=up(i);let s,c;const p=t.ic.get(e);if(p)s=p.targetId,t.sharedClientState.addLocalQueryTarget(s),c=p.view.ec();else{const b=yield eh(t.localStore,qo(e));t.isPrimaryClient&&Gf(t.remoteStore,b);const O=t.sharedClientState.addLocalQueryTarget(b.targetId);s=b.targetId,c=yield Eg(t,e,s,"current"===O,b.resumeToken)}return c}),bg.apply(this,arguments)}function Eg(i,e,t,s,c){return wg.apply(this,arguments)}function wg(){return wg=(0,ve.Z)(function*(i,e,t,s,c){i._c=(Ae,gt,Zt)=>{return(nn=(0,ve.Z)(function*(xn,ur,Ts,js){let Hi=ur.view.Wu(Ts);Hi.$i&&(Hi=yield Bf(xn.localStore,ur.query,!1).then(({documents:Ki})=>ur.view.Wu(Ki,Hi)));const So=js&&js.targetChanges.get(ur.targetId),wi=ur.view.applyChanges(Hi,xn.isPrimaryClient,So);return a_(xn,ur.targetId,wi.Xu),wi.snapshot}),function(xn,ur,Ts,js){return nn.apply(this,arguments)})(i,Ae,gt,Zt);var nn};const p=yield Bf(i.localStore,e,!0),b=new r_(e,p.Hi),O=b.Wu(p.documents),Z=oc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,c),Q=b.applyChanges(O,i.isPrimaryClient,Z);a_(i,t,Q.Xu);const le=new l0(e,t,b);return i.ic.set(e,le),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),Q.snapshot}),wg.apply(this,arguments)}function Ly(i,e){return np.apply(this,arguments)}function np(){return np=(0,ve.Z)(function*(i,e){const t=an(i),s=t.ic.get(e),c=t.rc.get(s.targetId);if(c.length>1)return t.rc.set(s.targetId,c.filter(p=>!$l(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ed(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),qh(t.remoteStore,s.targetId),vc(t,s.targetId)}).catch(Wn))):(vc(t,s.targetId),yield Ed(t.localStore,s.targetId,!0))}),np.apply(this,arguments)}function Sg(){return Sg=(0,ve.Z)(function*(i,e,t){const s=cp(i);try{const c=yield function(p,b){const O=an(p),Z=tn.now(),Q=b.reduce((gt,Zt)=>gt.add(Zt.key),Mr());let le,Ae;return O.persistence.runTransaction("Locally write mutations","readwrite",gt=>{let Zt=fa(),nn=Mr();return O.Gi.getEntries(gt,Q).next(xn=>{Zt=xn,Zt.forEach((ur,Ts)=>{Ts.isValidDocument()||(nn=nn.add(ur))})}).next(()=>O.localDocuments.getOverlayedDocuments(gt,Zt)).next(xn=>{le=xn;const ur=[];for(const Ts of b){const js=nc(Ts,le.get(Ts.key).overlayedDocument);null!=js&&ur.push(new el(Ts.key,js,nd(js.value.mapValue),ms.exists(!0)))}return O.mutationQueue.addMutationBatch(gt,Z,ur,b)}).next(xn=>{Ae=xn;const ur=xn.applyToLocalDocumentSet(le,nn);return O.documentOverlayCache.saveOverlays(gt,xn.batchId,ur)})}).then(()=>({batchId:Ae.batchId,changes:ic(le)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,b,O){let Z=p.hc[p.currentUser.toKey()];Z||(Z=new Os(Ot)),Z=Z.insert(b,O),p.hc[p.currentUser.toKey()]=Z}(s,c.batchId,t),yield bc(s,c.changes),yield Td(s.remoteStore)}catch(c){const p=jc(c,"Failed to persist write");t.reject(p)}}),Sg.apply(this,arguments)}function rp(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,ve.Z)(function*(i,e){const t=an(i);try{const s=yield r0(t.localStore,e);e.targetChanges.forEach((c,p)=>{const b=t.cc.get(p);b&&(_n(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?b.nc=!0:c.modifiedDocuments.size>0?_n(b.nc):c.removedDocuments.size>0&&(_n(b.nc),b.nc=!1))}),yield bc(t,s,e)}catch(s){yield Wn(s)}}),Tg.apply(this,arguments)}function i_(i,e,t){const s=an(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.ic.forEach((p,b)=>{const O=b.view.bu(e);O.snapshot&&c.push(O.snapshot)}),function(p,b){const O=an(p);O.onlineState=b;let Z=!1;O.queries.forEach((Q,le)=>{for(const Ae of le.listeners)Ae.bu(b)&&(Z=!0)}),Z&&ah(O)}(s.eventManager,e),c.length&&s.sc.Wo(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function By(i,e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,ve.Z)(function*(i,e,t){const s=an(i);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.cc.get(e),p=c&&c.key;if(p){let b=new Os(Rt.comparator);b=b.insert(p,gs.newNoDocument(p,Bt.min()));const O=Mr().add(p),Z=new ql(Bt.min(),new Map,new ls(Ot),b,O);yield rp(s,Z),s.uc=s.uc.remove(p),s.cc.delete(e),Mg(s)}else yield Ed(s.localStore,e,!1).then(()=>vc(s,e,t)).catch(Wn)}),Cg.apply(this,arguments)}function Uy(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,ve.Z)(function*(i,e){const t=an(i),s=e.batch.batchId;try{const c=yield eg(t.localStore,e);sp(t,s,null),o_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield bc(t,c)}catch(c){yield Wn(c)}}),Ig.apply(this,arguments)}function Vy(i,e,t){return ip.apply(this,arguments)}function ip(){return ip=(0,ve.Z)(function*(i,e,t){const s=an(i);try{const c=yield function(p,b){const O=an(p);return O.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let Q;return O.mutationQueue.lookupMutationBatch(Z,b).next(le=>(_n(null!==le),Q=le.keys(),O.mutationQueue.removeMutationBatch(Z,le))).next(()=>O.mutationQueue.performConsistencyCheck(Z)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(Z,Q,b)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Z,Q)).next(()=>O.localDocuments.getDocuments(Z,Q))})}(s.localStore,e);sp(s,e,t),o_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield bc(s,c)}catch(c){yield Wn(c)}}),ip.apply(this,arguments)}function Ag(){return Ag=(0,ve.Z)(function*(i,e){const t=an(i);mc(t.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const b=an(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>b.mutationQueue.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===s)return void e.resolve();const c=t.lc.get(s)||[];c.push(e),t.lc.set(s,c)}catch(s){const c=jc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Ag.apply(this,arguments)}function o_(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function sp(i,e,t){const s=an(i);let c=s.hc[s.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),s.hc[s.currentUser.toKey()]=c}}function vc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.rc.get(e))i.ic.delete(s),t&&i.sc.wc(s,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(s=>{i.ac.containsKey(s)||zc(i,s)})}function zc(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(qh(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Mg(i))}function a_(i,e,t){for(const s of t)s instanceof n_?(i.ac.addReference(s.key,e),op(i,s)):s instanceof lh?(mt("SyncEngine","Document no longer in limbo: "+s.key),i.ac.removeReference(s.key,e),i.ac.containsKey(s.key)||zc(i,s.key)):zt()}function op(i,e){const t=e.key,s=t.path.canonicalString();i.uc.get(t)||i.oc.has(s)||(mt("SyncEngine","New document in limbo: "+t),i.oc.add(s),Mg(i))}function Mg(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Rt(Cn.fromString(e)),s=i.fc.next();i.cc.set(s,new xy(t)),i.uc=i.uc.insert(t,s),Gf(i.remoteStore,new M(qo(Nu(t.path)),s,2,Ro.at))}}function bc(i,e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ve.Z)(function*(i,e,t){const s=an(i),c=[],p=[],b=[];var O;s.ic.isEmpty()||(s.ic.forEach((O,Z)=>{b.push(s._c(Z,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(Z.targetId,Q?.fromCache?"not-current":"current"),Q){c.push(Q);const le=Pm.Ci(Z.targetId,Q);p.push(le)}}))}),yield Promise.all(b),s.sc.Wo(c),yield(O=(0,ve.Z)(function*(Z,Q){const le=an(Z);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>tt.forEach(Q,gt=>tt.forEach(gt.Si,Zt=>le.persistence.referenceDelegate.addReference(Ae,gt.targetId,Zt)).next(()=>tt.forEach(gt.Di,Zt=>le.persistence.referenceDelegate.removeReference(Ae,gt.targetId,Zt)))))}catch(Ae){if(!Rr(Ae))throw Ae;mt("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of Q){const gt=Ae.targetId;if(!Ae.fromCache){const Zt=le.qi.get(gt),xn=Zt.withLastLimboFreeSnapshotVersion(Zt.snapshotVersion);le.qi=le.qi.insert(gt,xn)}}}),function(Z,Q){return O.apply(this,arguments)})(s.localStore,p))}),Qh.apply(this,arguments)}function Hy(i,e){return gu.apply(this,arguments)}function gu(){return gu=(0,ve.Z)(function*(i,e){const t=an(i);if(!t.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const s=yield km(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(b=>{b.forEach(O=>{O.reject(new Ht(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield bc(t,s.ji)}var c}),gu.apply(this,arguments)}function Jh(i,e){const t=an(i),s=t.cc.get(e);if(s&&s.nc)return Mr().add(s.key);{let c=Mr();const p=t.rc.get(e);if(!p)return c;for(const b of p){const O=t.ic.get(b);c=c.unionWith(O.view.ju)}return c}}function sl(i,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,ve.Z)(function*(i,e){const t=an(i),s=yield Bf(t.localStore,e.query,!0),c=e.view.tc(s);return t.isPrimaryClient&&a_(t,e.targetId,c.Xu),c}),Ec.apply(this,arguments)}function ap(i,e){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,ve.Z)(function*(i,e){const t=an(i);return Bm(t.localStore,e).then(s=>bc(t,s))}),Pl.apply(this,arguments)}function Ng(i,e,t,s){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,ve.Z)(function*(i,e,t,s){const c=an(i),p=yield function(b,O){const Z=an(b),Q=an(Z.mutationQueue);return Z.persistence.runTransaction("Lookup mutation documents","readonly",le=>Q.Tn(le,O).next(Ae=>Ae?Z.localDocuments.getDocuments(le,Ae):tt.resolve(null)))}(c.localStore,e);var O;null!==p?("pending"===t?yield Td(c.remoteStore):"acknowledged"===t||"rejected"===t?(sp(c,e,s||null),o_(c,e),O=e,an(an(c.localStore).mutationQueue).An(O)):zt(),yield bc(c,p)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wc.apply(this,arguments)}function Zc(){return Zc=(0,ve.Z)(function*(i,e){const t=an(i);if(up(t),cp(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield Id(t,s.toArray());t.dc=!0,yield yg(t.remoteStore,!0);for(const p of c)Gf(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const s=[];let c=Promise.resolve();t.rc.forEach((p,b)=>{t.sharedClientState.isLocalQueryTarget(b)?s.push(b):c=c.then(()=>(vc(t,b),Ed(t.localStore,b,!0))),qh(t.remoteStore,b)}),yield c,yield Id(t,s),function(p){const b=an(p);b.cc.forEach((O,Z)=>{qh(b.remoteStore,Z)}),b.ac.fs(),b.cc=new Map,b.uc=new Os(Rt.comparator)}(t),t.dc=!1,yield yg(t.remoteStore,!1)}}),Zc.apply(this,arguments)}function Id(i,e,t){return qc.apply(this,arguments)}function qc(){return qc=(0,ve.Z)(function*(i,e,t){const s=an(i),c=[],p=[];for(const b of e){let O;const Z=s.rc.get(b);if(Z&&0!==Z.length){O=yield eh(s.localStore,qo(Z[0]));for(const Q of Z){const le=s.ic.get(Q),Ae=yield sl(s,le);Ae.snapshot&&p.push(Ae.snapshot)}}else{const Q=yield wd(s.localStore,b);O=yield eh(s.localStore,Q),yield Eg(s,Ad(Q),b,!1,O.resumeToken)}c.push(O)}return s.sc.Wo(p),c}),qc.apply(this,arguments)}function Ad(i){return Nc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ch(i){const e=an(i);return an(an(e.localStore).persistence).vi()}function dh(i,e,t,s){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,ve.Z)(function*(i,e,t,s){const c=an(i);if(c.dc)return void mt("SyncEngine","Ignoring unexpected query state notification.");const p=c.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const b=yield Bm(c.localStore,Ru(p[0])),O=ql.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,T.EMPTY_BYTE_STRING);yield bc(c,b,O);break}case"rejected":yield Ed(c.localStore,e,!0),vc(c,e,s);break;default:zt()}}),Kc.apply(this,arguments)}function l_(i,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,ve.Z)(function*(i,e,t){const s=up(i);if(s.dc){for(const c of e){if(s.rc.has(c)){mt("SyncEngine","Adding an already active target "+c);continue}const p=yield wd(s.localStore,c),b=yield eh(s.localStore,p);yield Eg(s,Ad(p),b.targetId,!1,b.resumeToken),Gf(s.remoteStore,b)}for(const c of t)s.rc.has(c)&&(yield Ed(s.localStore,c,!1).then(()=>{qh(s.remoteStore,c),vc(s,c)}).catch(Wn))}}),lp.apply(this,arguments)}function up(i){const e=an(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=rp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=By.bind(null,e),e.sc.Wo=yc.bind(null,e.eventManager),e.sc.wc=tp.bind(null,e.eventManager),e}function cp(i){const e=an(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vy.bind(null,e),e}class Og{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.yt=jh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Hc(this.persistence,new Xp,e.initialUser,this.yt)}yc(e){return new Yp(Uh.Bs,this.yt)}gc(e){return new Cy}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rg extends Og{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ve.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield cp(s.Ac.syncEngine),yield Td(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Hc(this.persistence,new Xp,e.initialUser,this.yt)}Tc(e,t){return new my(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new hl(t,this.persistence);return new Ba(e.asyncQueue,s)}yc(e){const t=Jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ia.withCacheSize(this.cacheSizeBytes):Ia.DEFAULT;return new Qp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Gm(),$h(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Cy}}class c_ extends Rg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ve.Z)(function*(){yield t().call(s,e);const c=s.Ac.syncEngine;s.sharedClientState instanceof Hh&&(s.sharedClientState.syncEngine={Fr:Ng.bind(null,c),$r:dh.bind(null,c),Br:l_.bind(null,c),vi:ch.bind(null,c),Mr:ap.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var p=(0,ve.Z)(function*(b){yield function uh(i,e){return Zc.apply(this,arguments)}(s.Ac.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return p.apply(this,arguments)}}())})()}gc(e){const t=Gm();if(!Hh.C(t))throw new Ht(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Jp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class dp{initialize(e,t){var s=this;return(0,ve.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>i_(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Hy.bind(null,s.syncEngine),yield yg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xm}createDatastore(e){const t=jh(e.databaseInfo.databaseId),s=new jm(e.databaseInfo);return new zh(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,p=O=>i_(this.syncEngine,O,0),b=$m.C()?new $m:new sg,new ug(t,s,c,p,b);var t,s,c,p,b}createSyncEngine(e,t){return function(s,c,p,b,O,Z,Q){const le=new ky(s,c,p,b,O,Z);return Q&&(le.dc=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const s=an(t);mt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield Sd(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Pg(i,e,t){if(!t)throw new Ht(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function d_(i,e,t,s){if(!0===e&&!0===s)throw new Ht(ht.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function xg(i){if(!Rt.isDocumentKey(i))throw new Ht(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function h_(i){if(Rt.isDocumentKey(i))throw new Ht(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":zt()}function Ei(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ht(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xh(i);throw new Ht(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function hp(i,e){if(e<=0)throw new Ht(ht.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const f_=new Map;class ef{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ht(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ht(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,d_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ef({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ht(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ht(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ef(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new E;switch(t.type){case"gapi":return new J(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ht(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=f_.get(e);t&&(mt("ComponentProvider","Removing Datastore"),f_.delete(e),t.terminate())}(this),Promise.resolve()}}class Js{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Js(this.firestore,e,this._key)}}class pa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class eu extends pa{constructor(e,t,s){super(e,t,Nu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Js(this.firestore,null,new Rt(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function pp(i,e,...t){if(i=(0,We.m9)(i),Pg("collection","path",e),i instanceof Yc){const s=Cn.fromString(e,...t);return h_(s),new eu(i,null,s)}{if(!(i instanceof Js||i instanceof eu))throw new Ht(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Cn.fromString(e,...t));return h_(s),new eu(i.firestore,null,s)}}function hh(i,e,...t){if(i=(0,We.m9)(i),1===arguments.length&&(e=$t.R()),Pg("doc","path",e),i instanceof Yc){const s=Cn.fromString(e,...t);return xg(s),new Js(i,null,new Rt(s))}{if(!(i instanceof Js||i instanceof eu))throw new Ht(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Cn.fromString(e,...t));return xg(s),new Js(i.firestore,i instanceof eu?i.converter:null,new Rt(s))}}function kg(i,e){return i=(0,We.m9)(i),e=(0,We.m9)(e),(i instanceof Js||i instanceof eu)&&(e instanceof Js||e instanceof eu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function gp(i,e){return i=(0,We.m9)(i),e=(0,We.m9)(e),i instanceof pa&&e instanceof pa&&i.firestore===e.firestore&&$l(i._query,e._query)&&i.converter===e.converter}function mp(i,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $y{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),c=Number(s);isNaN(c)&&e.Dc(`length string (${s}) is not valid number`);const p=yield e.Cc(c);return new Py(JSON.parse(p),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ve.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class __{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ht(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,ve.Z)(function*(p,b){const O=an(p),Z=$u(O.yt)+"/documents",Q={documents:b.map(Zt=>Eu(O.yt,Zt))},le=yield O._o("BatchGetDocuments",Z,Q,b.length),Ae=new Map;le.forEach(Zt=>{const nn=function A(i,e){return"found"in e?function(t,s){_n(!!s.found);const c=Nl(t,s.found.name),p=us(s.found.updateTime),b=s.found.createTime?us(s.found.createTime):Bt.min(),O=new Zo({mapValue:{fields:s.found.fields}});return gs.newFoundDocument(c,p,b,O)}(i,e):"missing"in e?function(t,s){_n(!!s.missing),_n(!!s.readTime);const c=Nl(t,s.missing),p=us(s.readTime);return gs.newNoDocument(c,p)}(i,e):zt()}(O.yt,Zt);Ae.set(nn.key.toString(),nn)});const gt=[];return b.forEach(Zt=>{const nn=Ae.get(Zt.toString());_n(!!nn),gt.push(nn)}),gt}),function(p,b){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new lu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const p=Rt.fromPath(c);e.mutations.push(new Gl(p,e.precondition(p)))}),yield(s=(0,ve.Z)(function*(c,p){const b=an(c),O=$u(b.yt)+"/documents",Z={writes:p.map(Q=>se(b.yt,Q))};yield b.ao("Commit",O,Z)}),function(c,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zt();t=Bt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ht(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?ms.exists(!1):ms.updateTime(t):ms.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Ht(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ms.updateTime(t)}return ms.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Gy{constructor(e,t,s,c,p){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=p,this.kc=s.maxAttempts,this.xo=new og(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ve.Z)(function*(){const t=new __(e.datastore),s=e.Mc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.Fc(p)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ua(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Nh(t)}return!1}}class y_{constructor(e,t,s,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=lt.UNAUTHENTICATED,this.clientId=$t.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,ve.Z)(function*(O){mt("FirestoreClient","Received user=",O.uid),yield p.authCredentialListener(O),p.user=O});return function(O){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(mt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ht(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=jc(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function Fg(i,e){return nf.apply(this,arguments)}function nf(){return nf=(0,ve.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,ve.Z)(function*(p){s.isEqual(p)||(yield km(e.localStore,p),s=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),nf.apply(this,arguments)}function rf(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,ve.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield yp(i);mt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(c=>Jm(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,p)=>Jm(e.remoteStore,p)),i.onlineComponents=e}),_p.apply(this,arguments)}function yp(i){return vp.apply(this,arguments)}function vp(){return vp=(0,ve.Z)(function*(i){return i.offlineComponents||(mt("FirestoreClient","Using default OfflineComponentProvider"),yield Fg(i,new Og)),i.offlineComponents}),vp.apply(this,arguments)}function sf(i){return bp.apply(this,arguments)}function bp(){return bp=(0,ve.Z)(function*(i){return i.onlineComponents||(mt("FirestoreClient","Using default OnlineComponentProvider"),yield rf(i,new dp)),i.onlineComponents}),bp.apply(this,arguments)}function Lg(i){return yp(i).then(e=>e.persistence)}function af(i){return yp(i).then(e=>e.localStore)}function Ep(i){return sf(i).then(e=>e.remoteStore)}function fh(i){return sf(i).then(e=>e.syncEngine)}function ph(i){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,ve.Z)(function*(i){const e=yield sf(i),t=e.eventManager;return t.onListen=Fy.bind(null,e.syncEngine),t.onUnlisten=Ly.bind(null,e.syncEngine),t}),Bg.apply(this,arguments)}function v_(i,e,t={}){const s=new Wr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(c,p,b,O,Z){const Q=new tf({next:Ae=>{p.enqueueAndForget(()=>ep(c,le));const gt=Ae.docs.has(b);!gt&&Ae.fromCache?Z.reject(new Ht(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):gt&&Ae.fromCache&&O&&"server"===O.source?Z.reject(new Ht(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(Ae)},error:Ae=>Z.reject(Ae)}),le=new Cd(Nu(b.path),Q,{includeMetadataChanges:!0,Nu:!0});return Jf(c,le)}(yield ph(i),i.asyncQueue,e,t,s)})),s.promise}function zy(i,e,t={}){const s=new Wr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(c,p,b,O,Z){const Q=new tf({next:Ae=>{p.enqueueAndForget(()=>ep(c,le)),Ae.fromCache&&"server"===O.source?Z.reject(new Ht(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(Ae)},error:Ae=>Z.reject(Ae)}),le=new Cd(b,Q,{includeMetadataChanges:!0,Nu:!0});return Jf(c,le)}(yield ph(i),i.asyncQueue,e,t,s)})),s.promise}class b_{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new og(this,"async_queue_retry"),this.Wc=()=>{const t=$h();t&&mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=$h();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=$h();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Wr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Rr(t))throw t;mt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,gn("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=oh.createAndSchedule(this,e,t,s,p=>this.Yc(p));return this.Uc.push(c),c}zc(){this.Kc&&zt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function $g(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(i)}class Ma{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xs extends Yc{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new b_,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jg(this),this._firestoreClient.terminate()}}function Jo(i){return i._firestoreClient||jg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function jg(i){var e;const t=i._freezeSettings(),s=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new nu(i._databaseId,p,i._persistenceKey,(O=t).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var p,O;i._firestoreClient=new y_(i._authCredentials,i._appCheckCredentials,i._queue,s)}function D_(i,e,t){const s=new Wr;return i.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield Fg(i,t),yield rf(i,e),s.resolve()}catch(c){const p=c;if(!("FirebaseError"===(b=p).name?b.code===ht.FAILED_PRECONDITION||b.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw p;Cr("Error enabling offline persistence. Falling back to persistence disabled: "+p),s.reject(p)}var b})).then(()=>s.promise)}function Iu(i){if(i._initialized||i._terminated)throw new Ht(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zu(T.fromBase64String(e))}catch(t){throw new Ht(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zu(T.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ht(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ya{constructor(e){this._methodName=e}}class xl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ht(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ht(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const C_=/^__.*__$/;class I_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class A_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function M_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class wp{constructor(e,t,s,c,p,b){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=c,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=b||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.ua(e),c}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return df(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(M_(this.sa)&&C_.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Qy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||jh(e)}da(e,t,s,c=!1){return new wp({sa:e,methodName:t,fa:s,path:or.emptyPath(),oa:!1,la:c},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Sc(i){const e=i._freezeSettings(),t=jh(i._databaseId);return new Qy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Qc(i,e,t,s,c,p={}){const b=i.da(p.merge||p.mergeFields?2:0,e,t,c);Tp("Data must be an object, but it was:",b,s);const O=uf(s,b);let Z,Q;if(p.merge)Z=new Da(b.fieldMask),Q=b.fieldTransforms;else if(p.mergeFields){const le=[];for(const Ae of p.mergeFields){const gt=Cp(e,Ae,t);if(!b.contains(gt))throw new Ht(ht.INVALID_ARGUMENT,`Field '${gt}' is specified in your field mask but missing from your input data.`);Qg(le,gt)||le.push(gt)}Z=new Da(le),Q=b.fieldTransforms.filter(Ae=>Z.covers(Ae.field))}else Z=null,Q=b.fieldTransforms;return new I_(new Zo(O),Z,Q)}class lf extends Ya{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function Wg(i,e,t){return new wp({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Zg extends Ya{_toFieldTransform(e){return new ec(e.path,new ml)}isEqual(e){return e instanceof Zg}}class N_ extends Ya{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Wg(this,e,!0),s=this._a.map(p=>Tc(p,t)),c=new Pu(s);return new ec(e.path,c)}isEqual(e){return this===e}}class O_ extends Ya{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Wg(this,e,!0),s=this._a.map(p=>Tc(p,t)),c=new Il(s);return new ec(e.path,c)}isEqual(e){return this===e}}class Dp extends Ya{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new xu(e.yt,id(e.yt,this.wa));return new ec(e.path,t)}isEqual(e){return this===e}}function qg(i,e,t,s){const c=i.da(1,e,t);Tp("Data must be an object, but it was:",c,s);const p=[],b=Zo.empty();_i(s,(Z,Q)=>{const le=cf(e,Z,t);Q=(0,We.m9)(Q);const Ae=c.ca(le);if(Q instanceof lf)p.push(le);else{const gt=Tc(Q,Ae);null!=gt&&(p.push(le),b.set(le,gt))}});const O=new Da(p);return new A_(b,O,c.fieldTransforms)}function Sp(i,e,t,s,c,p){const b=i.da(1,e,t),O=[Cp(e,s,t)],Z=[c];if(p.length%2!=0)throw new Ht(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let gt=0;gt<p.length;gt+=2)O.push(Cp(e,p[gt])),Z.push(p[gt+1]);const Q=[],le=Zo.empty();for(let gt=O.length-1;gt>=0;--gt)if(!Qg(Q,O[gt])){const Zt=O[gt];let nn=Z[gt];nn=(0,We.m9)(nn);const xn=b.ca(Zt);if(nn instanceof lf)Q.push(Zt);else{const ur=Tc(nn,xn);null!=ur&&(Q.push(Zt),le.set(Zt,ur))}}const Ae=new Da(Q);return new A_(le,Ae,b.fieldTransforms)}function Kg(i,e,t,s=!1){return Tc(t,i.da(s?4:3,e))}function Tc(i,e){if(Yg(i=(0,We.m9)(i)))return Tp("Unsupported field value:",e,i),uf(i,e);if(i instanceof Ya)return function(t,s){if(!M_(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const c=[];let p=0;for(const b of t){let O=Tc(b,s.aa(p));null==O&&(O={nullValue:"NULL_VALUE"}),c.push(O),p++}return{arrayValue:{values:c}}}(i,e)}return function(t,s){if(null===(t=(0,We.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return id(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=tn.fromDate(t);return{timestampValue:uu(s.yt,c)}}if(t instanceof tn){const c=new tn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uu(s.yt,c)}}if(t instanceof xl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zu)return{bytesValue:Ml(s.yt,t._byteString)};if(t instanceof Js){const c=s.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw s.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hu(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${Xh(t)}`)}(i,e)}function uf(i,e){const t={};return bl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(i,(s,c)=>{const p=Tc(c,e.ra(s));null!=p&&(t[s]=p)}),{mapValue:{fields:t}}}function Yg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof tn||i instanceof xl||i instanceof zu||i instanceof Js||i instanceof Ya)}function Tp(i,e,t){if(!Yg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Xh(t);throw e.ha("an object"===s?i+" a custom object":i+" "+s)}var s}function Cp(i,e,t){if((e=(0,We.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return cf(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,t)}const R_=new RegExp("[~\\*/\\[\\]]");function cf(i,e,t){if(e.search(R_)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function df(i,e,t,s,c){const p=s&&!s.isEmpty(),b=void 0!==c;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let Z="";return(p||b)&&(Z+=" (found",p&&(Z+=` in field ${s}`),b&&(Z+=` in document ${c}`),Z+=")"),new Ht(ht.INVALID_ARGUMENT,O+i+Z)}function Qg(i,e){return i.some(t=>t.isEqual(e))}class mh{constructor(e,t,s,c,p){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jy extends mh{data(){return super.data()}}function hf(i,e){return"string"==typeof e?cf(i,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}function P_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ht(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class ff extends Jg{}function Jc(i,e,...t){let s=[];e instanceof Jg&&s.push(e),s=s.concat(t),function(c){const p=c.filter(O=>O instanceof _h).length,b=c.filter(O=>O instanceof pf).length;if(p>1||p>0&&b>0)throw new Ht(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)i=c._apply(i);return i}class pf extends ff{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new pf(e,t,s)}_apply(e){const t=this._parse(e);return rm(e._query,t),new pa(e.firestore,e.converter,Xu(e._query,t))}_parse(e){const t=Sc(e.firestore);return function(c,p,b,O,Z,Q,le){let Ae;if(Z.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Ht(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){nm(le,Q);const gt=[];for(const Zt of le)gt.push(tm(O,c,Zt));Ae={arrayValue:{values:gt}}}else Ae=tm(O,c,le)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||nm(le,Q),Ae=Kg(b,"where",le,"in"===Q||"not-in"===Q);return yn.create(Z,Q,Ae)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class _h extends Jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _h(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let p=s;const b=c.getFlattenedFilters();for(const O of b)rm(p,O),p=Xu(p,O)}(e._query,t),new pa(e.firestore,e.converter,Xu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xg extends ff{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xg(e,t)}_apply(e){const t=function(s,c,p){if(null!==s.startAt)throw new Ht(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ht(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Ac(c,p);return function(O,Z){if(null===Vd(O)){const Q=Sl(O);null!==Q&&im(0,Q,Z.field)}}(s,b),b}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,function(s,c){const p=s.explicitOrderBy.concat([c]);return new fl(s.path,s.collectionGroup,p,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Ip extends ff{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ip(e,t,s)}_apply(e){return new pa(e.firestore,e.converter,Do(e._query,this._limit,this._limitType))}}class Ap extends ff{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Ap(e,t,s)}_apply(e){const t=em(e,this.type,this._docOrFields,this._inclusive);return new pa(e.firestore,e.converter,(c=t,new fl((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class gf extends ff{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new gf(e,t,s)}_apply(e){const t=em(e,this.type,this._docOrFields,this._inclusive);return new pa(e.firestore,e.converter,(c=t,new fl((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function em(i,e,t,s){if(t[0]=(0,We.m9)(t[0]),t[0]instanceof mh)return function(c,p,b,O,Z){if(!O)throw new Ht(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Q=[];for(const le of pl(c))if(le.field.isKeyField())Q.push(Va(p,O.key));else{const Ae=O.data.field(le.field);if(X(Ae))throw new Ht(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){const gt=le.field.canonicalString();throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${gt}' (used as the orderBy) does not exist.`)}Q.push(Ae)}return new Pn(Q,Z)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const c=Sc(i.firestore);return function(p,b,O,Z,Q,le){const Ae=p.explicitOrderBy;if(Q.length>Ae.length)throw new Ht(ht.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const gt=[];for(let Zt=0;Zt<Q.length;Zt++){const nn=Q[Zt];if(Ae[Zt].field.isKeyField()){if("string"!=typeof nn)throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof nn}`);if(!wo(p)&&-1!==nn.indexOf("/"))throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Z}() must be a plain document ID, but '${nn}' contains a slash.`);const xn=p.path.child(Cn.fromString(nn));if(!Rt.isDocumentKey(xn))throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Z}() must result in a valid document path, but '${xn}' is not because it contains an odd number of segments.`);const ur=new Rt(xn);gt.push(Va(b,ur))}else{const xn=Kg(O,Z,nn);gt.push(xn)}}return new Pn(gt,le)}(i._query,i.firestore._databaseId,c,e,t,s)}}function tm(i,e,t){if("string"==typeof(t=(0,We.m9)(t))){if(""===t)throw new Ht(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wo(e)&&-1!==t.indexOf("/"))throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Cn.fromString(t));if(!Rt.isDocumentKey(s))throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Va(i,new Rt(s))}if(t instanceof Js)return Va(i,t._key);throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(t)}.`)}function nm(i,e){if(!Array.isArray(i)||0===i.length)throw new Ht(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ht(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rm(i,e){if(e.isInequality()){const s=Sl(i),c=e.field;if(null!==s&&!s.isEqual(c))throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const p=Vd(i);null!==p&&im(0,c,p)}const t=function(s,c){for(const p of s)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ht(ht.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function im(i,e,t){if(!t.isEqual(e))throw new Ht(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mf{convertValue(e,t="none"){switch(Sn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return P(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(G(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zt()}}convertObject(e,t){const s={};return _i(e.fields,(c,p)=>{s[c]=this.convertValue(p,t)}),s}convertGeoPoint(e){return new xl(P(e.latitude),P(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=oe(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($e(e));default:return null}}convertTimestamp(e){const t=w(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Cn.fromString(e);_n(Lc(s));const c=new Za(s.get(1),s.get(3)),p=new Rt(s.popFirst(5));return c.isEqual(t)||gn(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function Zu(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class iv extends mf{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Js(this.firestore,null,t)}}class Nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kl extends mh{constructor(e,t,s,c,p,b){super(e,t,s,c,b),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class _f extends kl{data(e={}){return super.data(e)}}class qu{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new Nd(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new _f(this._firestore,this._userDataWriter,s.key,s,new Nd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ht(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let p=0;return s._snapshot.docChanges.map(b=>({type:"added",doc:new _f(s._firestore,s._userDataWriter,b.doc.key,b.doc,new Nd(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:p++}))}{let p=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(b=>c||3!==b.type).map(b=>{const O=new _f(s._firestore,s._userDataWriter,b.doc.key,b.doc,new Nd(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter);let Z=-1,Q=-1;return 0!==b.type&&(Z=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),Q=p.indexOf(b.doc.key)),{type:f0(b.type),doc:O,oldIndex:Z,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function sm(i,e){return i instanceof kl&&e instanceof kl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof qu&&e instanceof qu&&i._firestore===e._firestore&&gp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Od extends mf{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Js(this.firestore,null,t)}}function B_(i,e,t){i=Ei(i,Js);const s=Ei(i.firestore,Xs),c=Zu(i.converter,e,t);return Rd(s,[Qc(Sc(s),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,ms.none())])}function yf(i,e,t,...s){i=Ei(i,Js);const c=Ei(i.firestore,Xs),p=Sc(c);let b;return b="string"==typeof(e=(0,We.m9)(e))||e instanceof Wu?Sp(p,"updateDoc",i._key,e,t,s):qg(p,"updateDoc",i._key,e),Rd(c,[b.toMutation(i._key,ms.exists(!0))])}function lv(i,...e){var t,s,c;i=(0,We.m9)(i);let p={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||$g(e[b])||(p=e[b],b++);const O={includeMetadataChanges:p.includeMetadataChanges};if($g(e[b])){const Ae=e[b];e[b]=null===(t=Ae.next)||void 0===t?void 0:t.bind(Ae),e[b+1]=null===(s=Ae.error)||void 0===s?void 0:s.bind(Ae),e[b+2]=null===(c=Ae.complete)||void 0===c?void 0:c.bind(Ae)}let Z,Q,le;if(i instanceof Js)Q=Ei(i.firestore,Xs),le=Nu(i._key.path),Z={next:Ae=>{e[b]&&e[b](om(Q,i,Ae))},error:e[b+1],complete:e[b+2]};else{const Ae=Ei(i,pa);Q=Ei(Ae.firestore,Xs),le=Ae._query;const gt=new Od(Q);Z={next:Zt=>{e[b]&&e[b](new qu(Q,gt,Ae,Zt))},error:e[b+1],complete:e[b+2]},P_(i._query)}return function(Ae,gt,Zt,nn){const xn=new tf(nn),ur=new Cd(gt,xn,Zt);return Ae.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Jf(yield ph(Ae),ur)})),()=>{xn.bc(),Ae.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return ep(yield ph(Ae),ur)}))}}(Jo(Q),le,O,Z)}function Rd(i,e){return function(t,s){const c=new Wr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Dg(i,e,t){return Sg.apply(this,arguments)}(yield fh(t),s,c)})),c.promise}(Jo(i),e)}function om(i,e,t){const s=t.docs.get(e._key),c=new Od(i);return new kl(i,c,e._key,s,new Nd(t.hasPendingWrites,t.fromCache),e.converter)}const V_={maxAttempts:5};class am{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sc(e)}set(e,t,s){this._verifyNotCommitted();const c=Xc(e,this._firestore),p=Zu(c.converter,t,s),b=Qc(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,s);return this._mutations.push(b.toMutation(c._key,ms.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const p=Xc(e,this._firestore);let b;return b="string"==typeof(t=(0,We.m9)(t))||t instanceof Wu?Sp(this._dataReader,"WriteBatch.update",p._key,t,s,c):qg(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(b.toMutation(p._key,ms.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xc(e,this._firestore);return this._mutations=this._mutations.concat(new lu(t._key,ms.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xc(i,e){if((i=(0,We.m9)(i)).firestore!==e)throw new Ht(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class dv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sc(e)}get(e){const t=Xc(e,this._firestore),s=new iv(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return zt();const p=c[0];if(p.isFoundDocument())return new mh(this._firestore,s,p.key,p,t.converter);if(p.isNoDocument())return new mh(this._firestore,s,t._key,null,t.converter);throw zt()})}set(e,t,s){const c=Xc(e,this._firestore),p=Zu(c.converter,t,s),b=Qc(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,s);return this._transaction.set(c._key,b),this}update(e,t,s,...c){const p=Xc(e,this._firestore);let b;return b="string"==typeof(t=(0,We.m9)(t))||t instanceof Wu?Sp(this._dataReader,"Transaction.update",p._key,t,s,c):qg(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,b),this}delete(e){const t=Xc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xc(e,this._firestore),s=new Od(this._firestore);return super.get(e).then(c=>new kl(this._firestore,s,t._key,c._document,new Nd(!1,!1),t.converter))}}function Pd(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ht("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function H_(){if(typeof Uint8Array>"u")throw new Ht("unimplemented","Uint8Arrays are not available in this environment.")}function $_(){if(!function Wo(){return typeof atob<"u"}())throw new Ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Et=Ft.SDK_VERSION,(0,Ft._registerComponent)(new Ye.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const p=t.getProvider("app").getImmediate(),b=new Xs(new C(t.getProvider("auth-internal")),new Se(t.getProvider("app-check-internal")),function(O,Z){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new Ht(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(O.options.projectId,Z)}(p,s),p);return c=Object.assign({useFetchStreams:e},c),b._setSettings(c),b},"PUBLIC").setMultipleInstances(!0)),(0,Ft.registerVersion)(be,"3.8.3",i),(0,Ft.registerVersion)(be,"3.8.3","esm2017")}();class Ef{constructor(e){this._delegate=e}static fromBase64String(e){return $_(),new Ef(zu.fromBase64String(e))}static fromUint8Array(e){return H_(),new Ef(zu.fromUint8Array(e))}toBase64(){return $_(),this._delegate.toBase64()}toUint8Array(){return H_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Rp(i){return function j_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class G_{enableIndexedDbPersistence(e,t){return function w_(i,e){Iu(i=Ei(i,Xs));const t=Jo(i),s=i._freezeSettings(),c=new dp;return D_(t,c,new Rg(c,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gh(i){Iu(i=Ei(i,Xs));const e=Jo(i),t=i._freezeSettings(),s=new dp;return D_(e,s,new c_(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ky(i){if(i._initialized&&!i._terminated)throw new Ht(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(s){if(!Ii.C())return Promise.resolve();const c=s+"main";yield Ii.delete(c)}),function(s){return t.apply(this,arguments)})(Jp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class z_{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function fp(i,e,t,s={}){var c;const p=(i=Ei(i,Yc))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Cr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let b,O;if("string"==typeof s.mockUserToken)b=s.mockUserToken,O=lt.MOCK_USER;else{b=(0,We.Sg)(s.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const Z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Z)throw new Ht(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new lt(Z)}i._authCredentials=new m(new W(b,O))}}(this._delegate,e,t,s)}enableNetwork(){return function Yy(i){return function Ug(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield Lg(i),t=yield Ep(i);return e.setNetworkEnabled(!0),function(s){const c=an(s);return c._u.delete(0),Dd(c)}(t)}))}(Jo(i=Ei(i,Xs)))}(this._delegate)}disableNetwork(){return function T_(i){return function Md(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield Lg(i),t=yield Ep(i);return e.setNetworkEnabled(!1),(s=(0,ve.Z)(function*(c){const p=an(c);p._u.add(0),yield Sd(p),p.gu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(Jo(i=Ei(i,Xs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,d_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function S_(i){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function s_(i,e){return Ag.apply(this,arguments)}(yield fh(e),t)})),t.promise}(Jo(i=Ei(i,Xs)))}(this._delegate)}onSnapshotsInSync(e){return function U_(i,e){return function u0(i,e){const t=new tf(e);return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return s=yield ph(i),c=t,an(s).Ru.add(c),void c.next();var s,c})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return s=yield ph(i),c=t,void an(s).Ru.delete(c);var s,c}))}}(Jo(i=Ei(i,Xs)),$g(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bh(this,pp(this._delegate,e))}catch(t){throw Fl(t,"collection()","Firestore.collection()")}}doc(e){try{return new Au(this,hh(this._delegate,e))}catch(t){throw Fl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ol(this,function p_(i,e){if(i=Ei(i,Yc),Pg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ht(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pa(i,null,(t=e,new fl(Cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hv(i,e,t){i=Ei(i,Xs);const s=Object.assign(Object.assign({},V_),t);return function(c){if(c.maxAttempts<1)throw new Ht(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,p,b){const O=new Wr;return c.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const Z=yield function wc(i){return sf(i).then(e=>e.datastore)}(c);new Gy(c.asyncQueue,Z,b,p,O).run()})),O.promise}(Jo(i),c=>e(new dv(i,c)),s)}(this._delegate,t=>e(new W_(this,t)))}batch(){return Jo(this._delegate),new bv(new am(this._delegate,e=>Rd(this._delegate,e)))}loadBundle(e){return function Gg(i,e){const t=Jo(i=Ei(i,Xs)),s=new Ma;return function Wy(i,e,t,s){const c=function(p,b){let O;return O="string"==typeof p?(new TextEncoder).encode(p):p,Z=function(Z,Q){if(Z instanceof Uint8Array)return mp(Z,Q);if(Z instanceof ArrayBuffer)return mp(new Uint8Array(Z),Q);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new $y(Z,b);var Z}(t,jh(e));i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function u_(i,e,t){const s=an(i);var c;(c=(0,ve.Z)(function*(p,b,O){try{const Z=yield b.getMetadata();if(yield function(gt,Zt){const nn=an(gt),xn=us(Zt.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",ur=>nn.Ns.getBundleMetadata(ur,Zt.id)).then(ur=>!!ur&&ur.createTime.compareTo(xn)>=0)}(p.localStore,Z))return yield b.close(),O._completeWith({taskState:"Success",documentsLoaded:(gt=Z).totalDocuments,bytesLoaded:gt.totalBytes,totalDocuments:gt.totalDocuments,totalBytes:gt.totalBytes}),Promise.resolve(new Set);O._updateProgress(t_(Z));const Q=new e_(Z,p.localStore,b.yt);let le=yield b.mc();for(;le;){const gt=yield Q.Fu(le);gt&&O._updateProgress(gt),le=yield b.mc()}const Ae=yield Q.complete();return yield bc(p,Ae.Lu,void 0),yield function(gt,Zt){const nn=an(gt);return nn.persistence.runTransaction("Save bundle","readwrite",xn=>nn.Ns.saveBundleMetadata(xn,Zt))}(p.localStore,Z),O._completeWith(Ae.progress),Promise.resolve(Ae.Bu)}catch(Z){return Cr("SyncEngine",`Loading bundle failed with ${Z}`),O._failWith(Z),Promise.resolve(new Set)}var gt}),function(p,b,O){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield fh(i),c,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function zg(i,e){return function Zy(i,e){return i.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,s){const c=an(t);return c.persistence.runTransaction("Get named query","readonly",p=>c.Ns.getNamedQuery(p,s))}(yield af(i),e)}))}(Jo(i=Ei(i,Xs)),e).then(t=>t?new pa(i,null,t.query):null)}(this._delegate,e).then(t=>t?new ol(this,t):null)}}class wf extends mf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ef(new zu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Au.forKey(t,this.firestore,null)}}class W_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wf(e)}get(e){const t=xd(e);return this._delegate.get(t).then(s=>new Sf(this._firestore,new kl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=xd(e);return s?(Pd("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const p=xd(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...c),this}delete(e){const t=xd(e);return this._delegate.delete(t),this}}class bv{constructor(e){this._delegate=e}set(e,t,s){const c=xd(e);return s?(Pd("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const p=xd(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...c),this}delete(e){const t=xd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vh{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new _f(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tf(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=vh.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let p=c.get(t);return p||(p=new vh(e,new wf(e),t),c.set(t,p)),p}}vh.INSTANCES=new WeakMap;class Au{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Au(t,new Js(t._delegate,s,new Rt(e)))}static forKey(e,t,s){return new Au(t,new Js(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new bh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bh(this.firestore,pp(this._delegate,e))}catch(t){throw Fl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,We.m9)(e))instanceof Js&&kg(this._delegate,e)}set(e,t){t=Pd("DocumentReference.set",t);try{return t?B_(this._delegate,e,t):B_(this._delegate,e)}catch(s){throw Fl(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?yf(this._delegate,e):yf(this._delegate,e,t,...s)}catch(c){throw Fl(c,"updateDoc()","DocumentReference.update()")}}delete(){return function Np(i){return Rd(Ei(i.firestore,Xs),[new lu(i._key,ms.none())])}(this._delegate)}onSnapshot(...e){const t=um(e),s=Df(e,c=>new Sf(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return lv(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Ir(i){i=Ei(i,Js);const e=Ei(i.firestore,Xs),t=Jo(e),s=new Od(e);return function Vg(i,e){const t=new Wr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(s=(0,ve.Z)(function*(c,p,b){try{const O=yield function(Z,Q){const le=an(Z);return le.persistence.runTransaction("read document","readonly",Ae=>le.localDocuments.getDocument(Ae,Q))}(c,p);O.isFoundDocument()?b.resolve(O):O.isNoDocument()?b.resolve(null):b.reject(new Ht(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const Z=jc(O,`Failed to get document '${p} from cache`);b.reject(Z)}}),function(c,p,b){return s.apply(this,arguments)})(yield af(i),e,t);var s})),t.promise}(t,i._key).then(c=>new kl(e,s,i._key,c,new Nd(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function sv(i){i=Ei(i,Js);const e=Ei(i.firestore,Xs);return v_(Jo(e),i._key,{source:"server"}).then(t=>om(e,i,t))}(this._delegate):function L_(i){i=Ei(i,Js);const e=Ei(i.firestore,Xs);return v_(Jo(e),i._key).then(t=>om(e,i,t))}(this._delegate),t.then(s=>new Sf(this.firestore,new kl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Au(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}function Fl(i,e,t){return i.message=i.message.replace(e,t),i}function um(i){for(const e of i)if("object"==typeof e&&!Rp(e))return e;return{}}function Df(i,e){var t,s;let c;return c=Rp(i[0])?i[0]:Rp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:p=>{c.next&&c.next(e(p))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class Sf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Au(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sm(this._delegate,e._delegate)}}class Tf extends Sf{data(e){const t=this._delegate.data(e);return function li(i,e){i||zt()}(void 0!==t),t}}class ol{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wf(e)}where(e,t,s){try{return new ol(this.firestore,Jc(this._delegate,function Xy(i,e,t){const s=e,c=hf("where",i);return pf._create(c,s,t)}(e,t,s)))}catch(c){throw Fl(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ol(this.firestore,Jc(this._delegate,function ev(i,e="asc"){const t=e,s=hf("orderBy",i);return Xg._create(s,t)}(e,t)))}catch(s){throw Fl(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ol(this.firestore,Jc(this._delegate,function tv(i){return hp("limit",i),Ip._create("limit",i,"F")}(e)))}catch(t){throw Fl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ol(this.firestore,Jc(this._delegate,function nv(i){return hp("limitToLast",i),Ip._create("limitToLast",i,"L")}(e)))}catch(t){throw Fl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ol(this.firestore,Jc(this._delegate,function rv(...i){return Ap._create("startAt",i,!0)}(...e)))}catch(t){throw Fl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ol(this.firestore,Jc(this._delegate,function x_(...i){return Ap._create("startAfter",i,!1)}(...e)))}catch(t){throw Fl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ol(this.firestore,Jc(this._delegate,function k_(...i){return gf._create("endBefore",i,!1)}(...e)))}catch(t){throw Fl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ol(this.firestore,Jc(this._delegate,function F_(...i){return gf._create("endAt",i,!0)}(...e)))}catch(t){throw Fl(t,"endAt()","Query.endAt()")}}isEqual(e){return gp(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function av(i){i=Ei(i,pa);const e=Ei(i.firestore,Xs),t=Jo(e),s=new Od(e);return function Hg(i,e){const t=new Wr;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(s=(0,ve.Z)(function*(c,p,b){try{const O=yield Bf(c,p,!0),Z=new r_(p,O.Hi),Q=Z.Wu(O.documents),le=Z.applyChanges(Q,!1);b.resolve(le.snapshot)}catch(O){const Z=jc(O,`Failed to execute query '${p} against cache`);b.reject(Z)}}),function(c,p,b){return s.apply(this,arguments)})(yield af(i),e,t);var s})),t.promise}(t,i._query).then(c=>new qu(e,s,i,c))}(this._delegate):"server"===e?.source?function yh(i){i=Ei(i,pa);const e=Ei(i.firestore,Xs),t=Jo(e),s=new Od(e);return zy(t,i._query,{source:"server"}).then(c=>new qu(e,s,i,c))}(this._delegate):function ov(i){i=Ei(i,pa);const e=Ei(i.firestore,Xs),t=Jo(e),s=new Od(e);return P_(i._query),zy(t,i._query).then(c=>new qu(e,s,i,c))}(this._delegate),t.then(s=>new cm(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=um(e),s=Df(e,c=>new cm(this.firestore,new qu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return lv(this._delegate,t,s)}withConverter(e){return new ol(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}class Cf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ol(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Tf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Cf(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Tf(this._firestore,s))})}isEqual(e){return sm(this._delegate,e._delegate)}}class bh extends ol{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Au(this.firestore,e):null}doc(e){try{return new Au(this.firestore,void 0===e?hh(this._delegate):hh(this._delegate,e))}catch(t){throw Fl(t,"doc()","CollectionReference.doc()")}}add(e){return function Lo(i,e){const t=Ei(i.firestore,Xs),s=hh(i),c=Zu(i.converter,e);return Rd(t,[Qc(Sc(i.firestore),"addDoc",s._key,c,null!==i.converter,{}).toMutation(s._key,ms.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Au(this.firestore,t))}isEqual(e){return kg(this._delegate,e._delegate)}withConverter(e){return new bh(this.firestore,this._delegate.withConverter(e?vh.getInstance(this.firestore,e):null))}}function xd(i){return Ei(i,Js)}class dm{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new dm(or.keyField().canonicalString())}isEqual(e){return(e=(0,We.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Eh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fv(){return new Zg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Eh(e)}static delete(){const e=function vf(){return new lf("deleteField")}();return e._methodName="FieldValue.delete",new Eh(e)}static arrayUnion(...e){const t=function pv(...i){return new N_("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Eh(t)}static arrayRemove(...e){const t=function gv(...i){return new O_("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Eh(t)}static increment(e){const t=function Op(i){return new Dp("increment",i)}(e);return t._methodName="FieldValue.increment",new Eh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ev={Firestore:z_,GeoPoint:xl,Timestamp:tn,Blob:Ef,Transaction:W_,WriteBatch:bv,DocumentReference:Au,DocumentSnapshot:Sf,Query:ol,QueryDocumentSnapshot:Tf,QuerySnapshot:cm,CollectionReference:bh,FieldPath:dm,FieldValue:Eh,setLogLevel:function vv(i){!function Tr(i){Dn.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function wv(i){(function Z_(i,e){i.INTERNAL.registerComponent(new Ye.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},Ev)))})(i,(e,t)=>new z_(e,t,new G_)),i.registerVersion("@firebase/firestore-compat","0.3.3")}(At.Z);var ed=j(1205),If=j(6217),Dv=j(9260);function K_(i,e){return function q_(i,e=te.z){return new I.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function hm(i,e){return K_(i,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function Af(i,e){return hm(i,e).pipe((0,je.O)(void 0),ye(),(0,he.U)(([t,s])=>{const c=s.payload.docChanges(),p=c.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((b,O)=>{const Z=c.find(le=>le.doc.ref.isEqual(b.ref)),Q=t?.payload.docs.find(le=>le.ref.isEqual(b.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(b.metadata)||!Z&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(b.metadata)||p.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:b}})}),p}))}function Q_(i,e,t){return Af(i,t).pipe((0,Me.R)((s,c)=>function fm(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function J_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return pm(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return pm(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pm(i,e.oldIndex,1)}return i}(i,s))}),i}(s,c.map(p=>p.payload),e),[]),(0,Pt.x)(),(0,he.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function pm(i,e,t,...s){const c=i.slice();return c.splice(e,t,...s),c}function gm(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class X_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Af(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,je.O)(void 0),ye(),(0,ft.h)(([s,c])=>c.length>0||!s),(0,he.U)(([s,c])=>c),De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gm(e);return Q_(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return hm(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),De.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(De.iC)}add(e){return this.ref.add(e)}doc(e){return new ey(this.ref.doc(e),this.afs)}}class ey{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:p}=ry(s,t);return new X_(c,p,this.afs)}snapshotChanges(){return function Y_(i,e){return K_(i,e).pipe((0,je.O)(void 0),ye(),(0,he.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(De.iC)}}class Sv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Af(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ft.h)(t=>t.length>0),De.iC):Af(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=gm(e);return Q_(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return hm(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),De.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(De.iC)}}const Pp=new a.OlP("angularfire2.enableFirestorePersistence"),ty=new a.OlP("angularfire2.firestore.persistenceSettings"),ny=new a.OlP("angularfire2.firestore.settings"),Tv=new a.OlP("angularfire2.firestore.use-emulator");function ry(i,e=(t=>t)){return{query:e(i),ref:i}}let iy=(()=>{class i{constructor(t,s,c,p,b,O,Z,Q,le,Ae,gt,Zt,nn,xn,ur,Ts,js){this.schedulers=Z;const Hi=(0,St.on)(t,O,s),So=le;Ae&&(0,ed.nw)(Hi,O,gt,nn,xn,ur,Zt,Ts),[this.firestore,this.persistenceEnabled$]=(0,St.cc)(`${Hi.name}.firestore`,"AngularFirestore",Hi.name,()=>{const wi=O.runOutsideAngular(()=>Hi.firestore());if(p&&wi.settings(p),So&&wi.useEmulator(...So),c&&!(0,qt.PM)(b)){const Ki=()=>{try{return(0,pe.D)(wi.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(Na){return typeof console<"u"&&console.warn(Na),(0,we.of)(!1)}};return[wi,O.runOutsideAngular(Ki)]}return[wi,(0,we.of)(!1)]},[p,So,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:b}=ry(c,s),O=this.schedulers.ngZone.run(()=>p);return new X_(O,b,this)}collectionGroup(t,s){const c=s||(b=>b),p=this.firestore.collectionGroup(t);return new Sv(c(p),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new ey(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(St.Dh),a.LFG(St.xv,8),a.LFG(Pp,8),a.LFG(ny,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(De.HU),a.LFG(ty,8),a.LFG(Tv,8),a.LFG(ed.zQ,8),a.LFG(ed.Qv,8),a.LFG(ed.L6,8),a.LFG(ed._Q,8),a.LFG(ed.rT,8),a.LFG(ed.lh,8),a.LFG(ed.f7,8),a.LFG(If.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Cv=(()=>{class i{constructor(){Dv.Z.registerVersion("angularfire",De.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Pp,useValue:!0},{provide:ty,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[iy]}),i})()},2011:(un,et,j)=>{j.d(et,{Dh:()=>Oe,GT:()=>De,cc:()=>ft,hO:()=>Pt,on:()=>ye,pX:()=>we,xv:()=>Ge});var a=j(4650),te=j(9260),I=j(2122);un=j.hmd(un);const pe=["ngOnDestroy"],we=(At,ve,Ft,Ye={})=>new Proxy(At,{get:(ge,We)=>Ft.runOutsideAngular(()=>{var yt;if(At[We])return!(null===(yt=Ye?.spy)||void 0===yt)&&yt.get&&Ye.spy.get(We,At[We]),At[We];if(pe.indexOf(We)>-1)return()=>{};const Tt=ve.toPromise().then(ae=>{const at=ae&&ae[We];return"function"==typeof at?at.bind(ae):at&&at.then?at.then(pt=>Ft.run(()=>pt)):Ft.run(()=>at)});return new Proxy(()=>{},{get:(ae,at)=>Tt[at],apply:(ae,at,pt)=>Tt.then(Vt=>{var rn;const Kt=Vt&&Vt(...pt);return!(null===(rn=Ye?.spy)||void 0===rn)&&rn.apply&&Ye.spy.apply(We,pt,Kt),Kt})})})}),De=(At,ve)=>{ve.forEach(Ft=>{Object.getOwnPropertyNames(Ft.prototype||Ft).forEach(Ye=>{Object.defineProperty(At.prototype,Ye,Object.getOwnPropertyDescriptor(Ft.prototype||Ft,Ye))})})};class je{constructor(ve){return ve}}const Oe=new a.OlP("angularfire2.app.options"),Ge=new a.OlP("angularfire2.app.name");function ye(At,ve,Ft){const ge="object"==typeof Ft&&Ft||{};ge.name=ge.name||"string"==typeof Ft&&Ft||"[DEFAULT]";const yt=te.Z.apps.filter(Tt=>Tt&&Tt.name===ge.name)[0]||ve.runOutsideAngular(()=>te.Z.initializeApp(At,ge));try{JSON.stringify(At)!==JSON.stringify(yt.options)&&he("error",`${yt.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(yt)}const he=(At,...ve)=>{(0,a.X6Q)()&&typeof console<"u"&&console[At](...ve)},Me={provide:je,useFactory:ye,deps:[Oe,a.R0b,[new a.FiY,Ge]]};let Pt=(()=>{class At{constructor(Ft){te.Z.registerVersion("angularfire",I.q4.full,"core"),te.Z.registerVersion("angularfire",I.q4.full,"app-compat"),te.Z.registerVersion("angular",a.q4F.full,Ft.toString())}static initializeApp(Ft,Ye){return{ngModule:At,providers:[{provide:Oe,useValue:Ft},{provide:Ge,useValue:Ye}]}}}return At.\u0275fac=function(Ft){return new(Ft||At)(a.LFG(a.Lbi))},At.\u0275mod=a.oAB({type:At}),At.\u0275inj=a.cJS({providers:[Me]}),At})();function ft(At,ve,Ft,Ye,ge){const[,We,yt]=globalThis.\u0275AngularfireInstanceCache.find(Tt=>Tt[0]===At)||[];if(We)return function St(At,ve){try{return At.toString()===ve.toString()}catch{return At===ve}}(ge,yt)||(nt("error",`${ve} was already initialized on the ${Ft} Firebase App with different settings.${qt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:ge,was:yt})),We;{const Tt=Ye();return globalThis.\u0275AngularfireInstanceCache.push([At,Tt,ge]),Tt}}const qt=!!un.hot,nt=(At,...ve)=>{(0,a.X6Q)()&&typeof console<"u"&&console[At](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(un,et,j)=>{j.d(et,{q4:()=>Ua,iC:()=>da,HU:()=>as,vb:()=>Ut,JM:()=>$e});var a=j(4650),te=j(259),I=j(5861),pe=j(9681),we=j(2090),De=j(4859),je=j(1877),Oe=j(8766);const Ge="@firebase/installations",ye="0.6.3",Me=`w:${ye}`,Pt="FIS_v2",ve=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ft(U){return U instanceof we.ZR&&U.code.includes("request-failed")}function Ye({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function ge(U){return{token:U.token,requestStatus:2,expiresIn:Vt(U.expiresIn),creationTime:Date.now()}}function We(U,z){return yt.apply(this,arguments)}function yt(){return(yt=(0,I.Z)(function*(U,z){const Ee=(yield z.json()).error;return ve.create("request-failed",{requestName:U,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})})).apply(this,arguments)}function Tt({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function ae(U,{refreshToken:z}){const ee=Tt(U);return ee.append("Authorization",function rn(U){return`${Pt} ${U}`}(z)),ee}function at(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,I.Z)(function*(U){const z=yield U();return z.status>=500&&z.status<600?U():z})).apply(this,arguments)}function Vt(U){return Number(U.replace("s","000"))}function Kt(U,z){return ct.apply(this,arguments)}function ct(){return(ct=(0,I.Z)(function*({appConfig:U,heartbeatServiceProvider:z},{fid:ee}){const Ee=Ye(U),Je=Tt(U),vt=z.getImmediate({optional:!0});if(vt){const Jn=yield vt.getHeartbeatsHeader();Jn&&Je.append("x-firebase-client",Jn)}const Pn={method:"POST",headers:Je,body:JSON.stringify({fid:ee,authVersion:Pt,appId:U.appId,sdkVersion:Me})},nr=yield at(()=>fetch(Ee,Pn));if(nr.ok){const Jn=yield nr.json();return{fid:Jn.fid||ee,registrationStatus:2,refreshToken:Jn.refreshToken,authToken:ge(Jn.authToken)}}throw yield We("Create Installation",nr)})).apply(this,arguments)}function bt(U){return new Promise(z=>{setTimeout(z,U)})}const Ct=/^[cdef][\w-]{21}$/;function It(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ee=function Yt(U){return function st(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Ct.test(ee)?ee:""}catch{return""}}function Ue(U){return`${U.appName}!${U.appId}`}const Mt=new Map;function Te(U,z){const ee=Ue(U);Jt(ee,z),function wn(U,z){const ee=function fr(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=U=>{Jt(U.data.key,U.data.fid)}),Qn}();ee&&ee.postMessage({key:U,fid:z}),function wr(){0===Mt.size&&Qn&&(Qn.close(),Qn=null)}()}(ee,z)}function Jt(U,z){const ee=Mt.get(U);if(ee)for(const Ee of ee)Ee(z)}let Qn=null;const ir="firebase-installations-store";let Ve=null;function He(){return Ve||(Ve=(0,Oe.X3)("firebase-installations-database",1,{upgrade:(U,z)=>{0===z&&U.createObjectStore(ir)}})),Ve}function Le(U,z){return dt.apply(this,arguments)}function dt(){return(dt=(0,I.Z)(function*(U,z){const ee=Ue(U),Je=(yield He()).transaction(ir,"readwrite"),vt=Je.objectStore(ir),Qt=yield vt.get(ee);return yield vt.put(z,ee),yield Je.done,(!Qt||Qt.fid!==z.fid)&&Te(U,z.fid),z})).apply(this,arguments)}function ot(U){return ln.apply(this,arguments)}function ln(){return(ln=(0,I.Z)(function*(U){const z=Ue(U),Ee=(yield He()).transaction(ir,"readwrite");yield Ee.objectStore(ir).delete(z),yield Ee.done})).apply(this,arguments)}function gr(U,z){return jn.apply(this,arguments)}function jn(){return(jn=(0,I.Z)(function*(U,z){const ee=Ue(U),Je=(yield He()).transaction(ir,"readwrite"),vt=Je.objectStore(ir),Qt=yield vt.get(ee),Pn=z(Qt);return void 0===Pn?yield vt.delete(ee):yield vt.put(Pn,ee),yield Je.done,Pn&&(!Qt||Qt.fid!==Pn.fid)&&Te(U,Pn.fid),Pn})).apply(this,arguments)}function sr(U){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,I.Z)(function*(U){let z;const ee=yield gr(U.appConfig,Ee=>{const Je=kn(Ee),vt=Tn(U,Je);return z=vt.registrationPromise,vt.installationEntry});return""===ee.fid?{installationEntry:yield z}:{installationEntry:ee,registrationPromise:z}})).apply(this,arguments)}function kn(U){return Yr(U||{fid:It(),registrationStatus:0})}function Tn(U,z){if(0===z.registrationStatus){if(!navigator.onLine)return{installationEntry:z,registrationPromise:Promise.reject(ve.create("app-offline"))};const ee={fid:z.fid,registrationStatus:1,registrationTime:Date.now()},Ee=function An(U,z){return Ai.apply(this,arguments)}(U,ee);return{installationEntry:ee,registrationPromise:Ee}}return 1===z.registrationStatus?{installationEntry:z,registrationPromise:zn(U)}:{installationEntry:z}}function Ai(){return(Ai=(0,I.Z)(function*(U,z){try{const ee=yield Kt(U,z);return Le(U.appConfig,ee)}catch(ee){throw Ft(ee)&&409===ee.customData.serverCode?yield ot(U.appConfig):yield Le(U.appConfig,{fid:z.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function zn(U){return bn.apply(this,arguments)}function bn(){return(bn=(0,I.Z)(function*(U){let z=yield Er(U.appConfig);for(;1===z.registrationStatus;)yield bt(100),z=yield Er(U.appConfig);if(0===z.registrationStatus){const{installationEntry:ee,registrationPromise:Ee}=yield sr(U);return Ee||ee}return z})).apply(this,arguments)}function Er(U){return gr(U,z=>{if(!z)throw ve.create("installation-not-found");return Yr(z)})}function Yr(U){return function ki(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Nr(U,z){return fi.apply(this,arguments)}function fi(){return(fi=(0,I.Z)(function*({appConfig:U,heartbeatServiceProvider:z},ee){const Ee=er(U,ee),Je=ae(U,ee),vt=z.getImmediate({optional:!0});if(vt){const Jn=yield vt.getHeartbeatsHeader();Jn&&Je.append("x-firebase-client",Jn)}const Pn={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:Me,appId:U.appId}})},nr=yield at(()=>fetch(Ee,Pn));if(nr.ok)return ge(yield nr.json());throw yield We("Generate Auth Token",nr)})).apply(this,arguments)}function er(U,{fid:z}){return`${Ye(U)}/${z}/authTokens:generate`}function Qr(U){return zr.apply(this,arguments)}function zr(){return(zr=(0,I.Z)(function*(U,z=!1){let ee;const Ee=yield gr(U.appConfig,vt=>{if(!Fn(vt))throw ve.create("not-registered");const Qt=vt.authToken;if(!z&&Ie(Qt))return vt;if(1===Qt.requestStatus)return ee=Xt(U,z),vt;{if(!navigator.onLine)throw ve.create("app-offline");const Pn=ke(vt);return ee=Un(U,Pn),Pn}});return ee?yield ee:Ee.authToken})).apply(this,arguments)}function Xt(U,z){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,I.Z)(function*(U,z){let ee=yield cn(U.appConfig);for(;1===ee.authToken.requestStatus;)yield bt(100),ee=yield cn(U.appConfig);const Ee=ee.authToken;return 0===Ee.requestStatus?Qr(U,z):Ee})).apply(this,arguments)}function cn(U){return gr(U,z=>{if(!Fn(z))throw ve.create("not-registered");return function Dt(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(z.authToken)?Object.assign(Object.assign({},z),{authToken:{requestStatus:0}}):z})}function Un(U,z){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,I.Z)(function*(U,z){try{const ee=yield Nr(U,z),Ee=Object.assign(Object.assign({},z),{authToken:ee});return yield Le(U.appConfig,Ee),ee}catch(ee){if(!Ft(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const Ee=Object.assign(Object.assign({},z),{authToken:{requestStatus:0}});yield Le(U.appConfig,Ee)}else yield ot(U.appConfig);throw ee}})).apply(this,arguments)}function Fn(U){return void 0!==U&&2===U.registrationStatus}function Ie(U){return 2===U.requestStatus&&!function _e(U){const z=Date.now();return z<U.creationTime||U.creationTime+U.expiresIn<z+36e5}(U)}function ke(U){const z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:z})}function fn(){return(fn=(0,I.Z)(function*(U){const z=U,{installationEntry:ee,registrationPromise:Ee}=yield sr(z);return Ee?Ee.catch(console.error):Qr(z).catch(console.error),ee.fid})).apply(this,arguments)}function Hn(){return(Hn=(0,I.Z)(function*(U,z=!1){const ee=U;return yield xr(ee),(yield Qr(ee,z)).token})).apply(this,arguments)}function xr(U){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,I.Z)(function*(U){const{registrationPromise:z}=yield sr(U);z&&(yield z)})).apply(this,arguments)}function Rs(U){return ve.create("missing-app-config-values",{valueName:U})}const pi="installations",kr=U=>{const z=U.getProvider("app").getImmediate(),ee=function Jr(U){if(!U||!U.options)throw Rs("App Configuration");if(!U.name)throw Rs("App Name");const z=["projectId","apiKey","appId"];for(const ee of z)if(!U.options[ee])throw Rs(ee);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(z);return{app:z,appConfig:ee,heartbeatServiceProvider:(0,pe._getProvider)(z,"heartbeat"),_delete:()=>Promise.resolve()}},Yi=U=>{const z=U.getProvider("app").getImmediate(),ee=(0,pe._getProvider)(z,pi).getImmediate();return{getId:()=>function it(U){return fn.apply(this,arguments)}(ee),getToken:Je=>function qn(U){return Hn.apply(this,arguments)}(ee,Je)}};(function Ps(){(0,pe._registerComponent)(new De.wA(pi,kr,"PUBLIC")),(0,pe._registerComponent)(new De.wA("installations-internal",Yi,"PRIVATE"))})(),(0,pe.registerVersion)(Ge,ye),(0,pe.registerVersion)(Ge,ye,"esm2017");const cs="@firebase/remote-config",ci=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class po{constructor(z,ee,Ee,Je){this.client=z,this.storage=ee,this.storageCache=Ee,this.logger=Je}isCachedDataFresh(z,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-ee,Je=Ee<=z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${z}. Is cache hit: ${Je}.`),Je}fetch(z){var ee=this;return(0,I.Z)(function*(){const[Ee,Je]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Je&&ee.isCachedDataFresh(z.cacheMaxAgeMillis,Ee))return Je;z.eTag=Je&&Je.eTag;const vt=yield ee.client.fetch(z),Qt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&Qt.push(ee.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all(Qt),vt})()}}function ri(U=navigator){return U.languages&&U.languages[0]||U.language}class go{constructor(z,ee,Ee,Je,vt,Qt){this.firebaseInstallations=z,this.sdkVersion=ee,this.namespace=Ee,this.projectId=Je,this.apiKey=vt,this.appId=Qt}fetch(z){var ee=this;return(0,I.Z)(function*(){const[Ee,Je]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":z.eTag||"*"},nr={sdk_version:ee.sdkVersion,app_instance_id:Ee,app_instance_id_token:Je,app_id:ee.appId,language_code:ri()},Jn={method:"POST",headers:Pn,body:JSON.stringify(nr)},Br=fetch(Qt,Jn),yn=new Promise((ha,qa)=>{z.signal.addEventListener(()=>{const Dl=new Error("The operation was aborted.");Dl.name="AbortError",qa(Dl)})});let Hr;try{yield Promise.race([Br,yn]),Hr=yield Br}catch(ha){let qa="fetch-client-network";throw"AbortError"===ha?.name&&(qa="fetch-timeout"),ci.create(qa,{originalErrorMessage:ha?.message})}let ps=Hr.status;const El=Hr.headers.get("ETag")||void 0;let ru,wl;if(200===Hr.status){let ha;try{ha=yield Hr.json()}catch(qa){throw ci.create("fetch-client-parse",{originalErrorMessage:qa?.message})}ru=ha.entries,wl=ha.state}if("INSTANCE_STATE_UNSPECIFIED"===wl?ps=500:"NO_CHANGE"===wl?ps=304:("NO_TEMPLATE"===wl||"EMPTY_CONFIG"===wl)&&(ru={}),304!==ps&&200!==ps)throw ci.create("fetch-status",{httpStatus:ps});return{status:ps,eTag:El,config:ru}})()}}class Fe{constructor(z,ee){this.client=z,this.storage=ee}fetch(z){var ee=this;return(0,I.Z)(function*(){const Ee=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(z,Ee)})()}attemptFetch(z,{throttleEndTimeMillis:ee,backoffCount:Ee}){var Je=this;return(0,I.Z)(function*(){yield function _s(U,z){return new Promise((ee,Ee)=>{const Je=Math.max(z-Date.now(),0),vt=setTimeout(ee,Je);U.addEventListener(()=>{clearTimeout(vt),Ee(ci.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}(z.signal,ee);try{const vt=yield Je.client.fetch(z);return yield Je.storage.deleteThrottleMetadata(),vt}catch(vt){if(!function xe(U){if(!(U instanceof we.ZR&&U.customData))return!1;const z=Number(U.customData.httpStatus);return 429===z||500===z||503===z||504===z}(vt))throw vt;const Qt={throttleEndTimeMillis:Date.now()+(0,we.$s)(Ee),backoffCount:Ee+1};return yield Je.storage.setThrottleMetadata(Qt),Je.attemptFetch(z,Qt)}})()}}class en{constructor(z,ee,Ee,Je,vt){this.app=z,this._client=ee,this._storageCache=Ee,this._storage=Je,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nn(U,z){const ee=U.target.error||void 0;return ci.create(z,{originalErrorMessage:ee&&ee?.message})}const Kn="app_namespace_store";class Oi{constructor(z,ee,Ee,Je=function Di(){return new Promise((U,z)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=Ee=>{z(Nn(Ee,"storage-open"))},ee.onsuccess=Ee=>{U(Ee.target.result)},ee.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(Kn,{keyPath:"compositeKey"})}}catch(ee){z(ci.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=z,this.appName=ee,this.namespace=Ee,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(z){return this.set("last_fetch_status",z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(z){return this.set("last_successful_fetch_timestamp_millis",z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(z){return this.set("last_successful_fetch_response",z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(z){return this.set("active_config",z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(z){return this.set("active_config_etag",z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(z){return this.set("throttle_metadata",z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(z){var ee=this;return(0,I.Z)(function*(){const Ee=yield ee.openDbPromise;return new Promise((Je,vt)=>{const Pn=Ee.transaction([Kn],"readonly").objectStore(Kn),nr=ee.createCompositeKey(z);try{const Jn=Pn.get(nr);Jn.onerror=Br=>{vt(Nn(Br,"storage-get"))},Jn.onsuccess=Br=>{const yn=Br.target.result;Je(yn?yn.value:void 0)}}catch(Jn){vt(ci.create("storage-get",{originalErrorMessage:Jn?.message}))}})})()}set(z,ee){var Ee=this;return(0,I.Z)(function*(){const Je=yield Ee.openDbPromise;return new Promise((vt,Qt)=>{const nr=Je.transaction([Kn],"readwrite").objectStore(Kn),Jn=Ee.createCompositeKey(z);try{const Br=nr.put({compositeKey:Jn,value:ee});Br.onerror=yn=>{Qt(Nn(yn,"storage-set"))},Br.onsuccess=()=>{vt()}}catch(Br){Qt(ci.create("storage-set",{originalErrorMessage:Br?.message}))}})})()}delete(z){var ee=this;return(0,I.Z)(function*(){const Ee=yield ee.openDbPromise;return new Promise((Je,vt)=>{const Pn=Ee.transaction([Kn],"readwrite").objectStore(Kn),nr=ee.createCompositeKey(z);try{const Jn=Pn.delete(nr);Jn.onerror=Br=>{vt(Nn(Br,"storage-delete"))},Jn.onsuccess=()=>{Je()}}catch(Jn){vt(ci.create("storage-delete",{originalErrorMessage:Jn?.message}))}})})()}createCompositeKey(z){return[this.appId,this.appName,this.namespace,z].join()}}class Xi{constructor(z){this.storage=z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var z=this;return(0,I.Z)(function*(){const ee=z.storage.getLastFetchStatus(),Ee=z.storage.getLastSuccessfulFetchTimestampMillis(),Je=z.storage.getActiveConfig(),vt=yield ee;vt&&(z.lastFetchStatus=vt);const Qt=yield Ee;Qt&&(z.lastSuccessfulFetchTimestampMillis=Qt);const Pn=yield Je;Pn&&(z.activeConfig=Pn)})()}setLastFetchStatus(z){return this.lastFetchStatus=z,this.storage.setLastFetchStatus(z)}setLastSuccessfulFetchTimestampMillis(z){return this.lastSuccessfulFetchTimestampMillis=z,this.storage.setLastSuccessfulFetchTimestampMillis(z)}setActiveConfig(z){return this.activeConfig=z,this.storage.setActiveConfig(z)}}function ro(){return ja.apply(this,arguments)}function ja(){return(ja=(0,I.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function Bi(){(0,pe._registerComponent)(new De.wA("remote-config",function U(z,{instanceIdentifier:ee}){const Ee=z.getProvider("app").getImmediate(),Je=z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,we.hl)())throw ci.create("indexed-db-unavailable");const{projectId:vt,apiKey:Qt,appId:Pn}=Ee.options;if(!vt)throw ci.create("registration-project-id");if(!Qt)throw ci.create("registration-api-key");if(!Pn)throw ci.create("registration-app-id");const nr=new Oi(Pn,Ee.name,ee=ee||"firebase"),Jn=new Xi(nr),Br=new je.Yd(cs);Br.logLevel=je.in.ERROR;const yn=new go(Je,pe.SDK_VERSION,ee,vt,Qt,Pn),Hr=new Fe(yn,nr),ps=new po(Hr,nr,Jn,Br),El=new en(Ee,ps,Jn,nr,Br);return function Ar(U){const z=(0,we.m9)(U);z._initializePromise||(z._initializePromise=z._storageCache.loadFromStorage().then(()=>{z._isInitializationComplete=!0}))}(El),El},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(cs,"0.4.3"),(0,pe.registerVersion)(cs,"0.4.3","esm2017")}();const io="/firebase-messaging-sw.js",Gs="/firebase-cloud-messaging-push-scope",Uo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",To="google.c.a.c_id",Xo="google.c.a.c_l",mo="google.c.a.ts",_o="google.c.a.e";var Co=(()=>{return(U=Co||(Co={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",Co;var U})();function ds(U){const z=new Uint8Array(U);return btoa(String.fromCharCode(...z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ga(U){const ee=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(ee),Je=new Uint8Array(Ee.length);for(let vt=0;vt<Ee.length;++vt)Je[vt]=Ee.charCodeAt(vt);return Je}const ea="fcm_token_details_db",Li="fcm_token_object_Store";function ys(U){return ta.apply(this,arguments)}function ta(){return ta=(0,I.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(ea))return null;let z=null;return(yield(0,Oe.X3)(ea,5,{upgrade:(Ee=(0,I.Z)(function*(Je,vt,Qt,Pn){var nr;if(vt<2||!Je.objectStoreNames.contains(Li))return;const Jn=Pn.objectStore(Li),Br=yield Jn.index("fcmSenderId").get(U);if(yield Jn.clear(),Br)if(2===vt){const yn=Br;if(!yn.auth||!yn.p256dh||!yn.endpoint)return;z={token:yn.fcmToken,createTime:null!==(nr=yn.createTime)&&void 0!==nr?nr:Date.now(),subscriptionOptions:{auth:yn.auth,p256dh:yn.p256dh,endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:"string"==typeof yn.vapidKey?yn.vapidKey:ds(yn.vapidKey)}}}else if(3===vt){const yn=Br;z={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:ds(yn.auth),p256dh:ds(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:ds(yn.vapidKey)}}}else if(4===vt){const yn=Br;z={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:ds(yn.auth),p256dh:ds(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:ds(yn.vapidKey)}}}}),function(vt,Qt,Pn,nr){return Ee.apply(this,arguments)})})).close(),yield(0,Oe.Lj)(ea),yield(0,Oe.Lj)("fcm_vapid_details_db"),yield(0,Oe.Lj)("undefined"),Vo(z)?z:null;var Ee}),ta.apply(this,arguments)}function Vo(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:z}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof z.auth&&z.auth.length>0&&"string"==typeof z.p256dh&&z.p256dh.length>0&&"string"==typeof z.endpoint&&z.endpoint.length>0&&"string"==typeof z.swScope&&z.swScope.length>0&&"string"==typeof z.vapidKey&&z.vapidKey.length>0}const vs="firebase-messaging-store";let is=null;function Ls(){return is||(is=(0,Oe.X3)("firebase-messaging-database",1,{upgrade:(U,z)=>{0===z&&U.createObjectStore(vs)}})),is}function ma(U){return so.apply(this,arguments)}function so(){return(so=(0,I.Z)(function*(U){const z=oo(U),Ee=yield(yield Ls()).transaction(vs).objectStore(vs).get(z);if(Ee)return Ee;{const Je=yield ys(U.appConfig.senderId);if(Je)return yield ss(U,Je),Je}})).apply(this,arguments)}function ss(U,z){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,I.Z)(function*(U,z){const ee=oo(U),Je=(yield Ls()).transaction(vs,"readwrite");return yield Je.objectStore(vs).put(z,ee),yield Je.done,z})).apply(this,arguments)}function Qa(U){return Io.apply(this,arguments)}function Io(){return(Io=(0,I.Z)(function*(U){const z=oo(U),Ee=(yield Ls()).transaction(vs,"readwrite");yield Ee.objectStore(vs).delete(z),yield Ee.done})).apply(this,arguments)}function oo({appConfig:U}){return U.appId}const Ti=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ao(U,z){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,I.Z)(function*(U,z){const ee=yield lo(U),Ee=zs(z),Je={method:"POST",headers:ee,body:JSON.stringify(Ee)};let vt;try{vt=yield(yield fetch(na(U.appConfig),Je)).json()}catch(Qt){throw Ti.create("token-subscribe-failed",{errorInfo:Qt?.toString()})}if(vt.error)throw Ti.create("token-subscribe-failed",{errorInfo:vt.error.message});if(!vt.token)throw Ti.create("token-subscribe-no-token");return vt.token})).apply(this,arguments)}function ts(U,z){return zi.apply(this,arguments)}function zi(){return(zi=(0,I.Z)(function*(U,z){const ee=yield lo(U),Ee=zs(z.subscriptionOptions),Je={method:"PATCH",headers:ee,body:JSON.stringify(Ee)};let vt;try{vt=yield(yield fetch(`${na(U.appConfig)}/${z.token}`,Je)).json()}catch(Qt){throw Ti.create("token-update-failed",{errorInfo:Qt?.toString()})}if(vt.error)throw Ti.create("token-update-failed",{errorInfo:vt.error.message});if(!vt.token)throw Ti.create("token-update-no-token");return vt.token})).apply(this,arguments)}function Vi(U,z){return ao.apply(this,arguments)}function ao(){return(ao=(0,I.Z)(function*(U,z){const Ee={method:"DELETE",headers:yield lo(U)};try{const vt=yield(yield fetch(`${na(U.appConfig)}/${z}`,Ee)).json();if(vt.error)throw Ti.create("token-unsubscribe-failed",{errorInfo:vt.error.message})}catch(Je){throw Ti.create("token-unsubscribe-failed",{errorInfo:Je?.toString()})}})).apply(this,arguments)}function na({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function lo(U){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,I.Z)(function*({appConfig:U,installations:z}){const ee=yield z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function zs({p256dh:U,auth:z,endpoint:ee,vapidKey:Ee}){const Je={web:{endpoint:ee,auth:z,p256dh:U}};return Ee!==Uo&&(Je.web.applicationPubKey=Ee),Je}const Ho=6048e5;function ra(U){return bs.apply(this,arguments)}function bs(){return(bs=(0,I.Z)(function*(U){const z=yield sa(U.swRegistration,U.vapidKey),ee={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:z.endpoint,auth:ds(z.getKey("auth")),p256dh:ds(z.getKey("p256dh"))},Ee=yield ma(U.firebaseDependencies);if(Ee){if(_a(Ee.subscriptionOptions,ee))return Date.now()>=Ee.createTime+Ho?Yn(U,{token:Ee.token,createTime:Date.now(),subscriptionOptions:ee}):Ee.token;try{yield Vi(U.firebaseDependencies,Ee.token)}catch(Je){console.warn(Je)}return uo(U.firebaseDependencies,ee)}return uo(U.firebaseDependencies,ee)})).apply(this,arguments)}function As(U){return ia.apply(this,arguments)}function ia(){return(ia=(0,I.Z)(function*(U){const z=yield ma(U.firebaseDependencies);z&&(yield Vi(U.firebaseDependencies,z.token),yield Qa(U.firebaseDependencies));const ee=yield U.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function Yn(U,z){return $o.apply(this,arguments)}function $o(){return($o=(0,I.Z)(function*(U,z){try{const ee=yield ts(U.firebaseDependencies,z),Ee=Object.assign(Object.assign({},z),{token:ee,createTime:Date.now()});return yield ss(U.firebaseDependencies,Ee),ee}catch(ee){throw yield As(U),ee}})).apply(this,arguments)}function uo(U,z){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,I.Z)(function*(U,z){const Ee={token:yield Ao(U,z),createTime:Date.now(),subscriptionOptions:z};return yield ss(U,Ee),Ee.token})).apply(this,arguments)}function sa(U,z){return jo.apply(this,arguments)}function jo(){return(jo=(0,I.Z)(function*(U,z){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ga(z)})})).apply(this,arguments)}function _a(U,z){return z.vapidKey===U.vapidKey&&z.endpoint===U.endpoint&&z.auth===U.auth&&z.p256dh===U.p256dh}function ya(U){const z={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function No(U,z){if(!z.notification)return;U.notification={};const ee=z.notification.title;ee&&(U.notification.title=ee);const Ee=z.notification.body;Ee&&(U.notification.body=Ee);const Je=z.notification.image;Je&&(U.notification.image=Je);const vt=z.notification.icon;vt&&(U.notification.icon=vt)}(z,U),function k(U,z){z.data&&(U.data=z.data)}(z,U),function L(U,z){var ee,Ee,Je,vt,Qt;if(!(z.fcmOptions||null!==(ee=z.notification)&&void 0!==ee&&ee.click_action))return;U.fcmOptions={};const Pn=null!==(Je=null===(Ee=z.fcmOptions)||void 0===Ee?void 0:Ee.link)&&void 0!==Je?Je:null===(vt=z.notification)||void 0===vt?void 0:vt.click_action;Pn&&(U.fcmOptions.link=Pn);const nr=null===(Qt=z.fcmOptions)||void 0===Qt?void 0:Qt.analytics_label;nr&&(U.fcmOptions.analyticsLabel=nr)}(z,U),z}function F(U){return"object"==typeof U&&!!U&&To in U}function re(U,z){const ee=[];for(let Ee=0;Ee<U.length;Ee++)ee.push(U.charAt(Ee)),Ee<z.length&&ee.push(z.charAt(Ee));return ee.join("")}function En(U){return Ti.create("missing-app-config-values",{valueName:U})}re("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),re("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qr{constructor(z,ee,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function rt(U){if(!U||!U.options)throw En("App Configuration Object");if(!U.name)throw En("App Name");const z=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=U;for(const Ee of z)if(!ee[Ee])throw En(Ee);return{appName:U.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(z);this.firebaseDependencies={app:z,appConfig:Je,installations:ee,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function ii(U){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,I.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(io,{scope:Gs}),U.swRegistration.update().catch(()=>{})}catch(z){throw Ti.create("failed-service-worker-registration",{browserErrorMessage:z?.message})}})).apply(this,arguments)}function Us(U,z){return va.apply(this,arguments)}function va(){return(va=(0,I.Z)(function*(U,z){if(!z&&!U.swRegistration&&(yield ii(U)),z||!U.swRegistration){if(!(z instanceof ServiceWorkerRegistration))throw Ti.create("invalid-sw-registration");U.swRegistration=z}})).apply(this,arguments)}function Vs(U,z){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,I.Z)(function*(U,z){z?U.vapidKey=z:U.vapidKey||(U.vapidKey=Uo)})).apply(this,arguments)}function mr(){return(mr=(0,I.Z)(function*(U,z){if(!navigator)throw Ti.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ti.create("permission-blocked");return yield Vs(U,z?.vapidKey),yield Us(U,z?.serviceWorkerRegistration),ra(U)})).apply(this,arguments)}function hs(U,z,ee){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,I.Z)(function*(U,z,ee){const Ee=Es(z);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:ee[To],message_name:ee[Xo],message_time:ee[mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Es(U){switch(U){case Co.NOTIFICATION_CLICKED:return"notification_open";case Co.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zo(){return(zo=(0,I.Z)(function*(U,z){const ee=z.data;if(!ee.isFirebaseMessaging)return;U.onMessageHandler&&ee.messageType===Co.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(ya(ee)):U.onMessageHandler.next(ya(ee)));const Ee=ee.data;F(Ee)&&"1"===Ee[_o]&&(yield hs(U,ee.messageType,Ee))})).apply(this,arguments)}const za="@firebase/messaging",Ja=U=>{const z=new qr(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function Go(U,z){return zo.apply(this,arguments)}(z,ee)),z},Ws=U=>{const z=U.getProvider("messaging").getImmediate();return{getToken:Ee=>function Pi(U,z){return mr.apply(this,arguments)}(z,Ee)}};function Wa(){return oa.apply(this,arguments)}function oa(){return(oa=(0,I.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xa(){(0,pe._registerComponent)(new De.wA("messaging",Ja,"PUBLIC")),(0,pe._registerComponent)(new De.wA("messaging-internal",Ws,"PRIVATE")),(0,pe.registerVersion)(za,"0.12.3"),(0,pe.registerVersion)(za,"0.12.3","esm2017")}();const ul="analytics",Ms="firebase_id",ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xa="https://www.googletagmanager.com/gtag/js",es=new je.Yd("@firebase/analytics");function Bl(U){return Promise.all(U.map(z=>z.catch(ee=>ee)))}function Ul(U,z){const ee=document.createElement("script");ee.src=`${Xa}?l=${U}&id=${z}`,ee.async=!0,document.head.appendChild(ee)}function Fa(U,z,ee,Ee,Je,vt){return ba.apply(this,arguments)}function ba(){return(ba=(0,I.Z)(function*(U,z,ee,Ee,Je,vt){const Qt=Ee[Je];try{if(Qt)yield z[Qt];else{const nr=(yield Bl(ee)).find(Jn=>Jn.measurementId===Je);nr&&(yield z[nr.appId])}}catch(Pn){es.error(Pn)}U("config",Je,vt)})).apply(this,arguments)}function x(U,z,ee,Ee,Je){return K.apply(this,arguments)}function K(){return(K=(0,I.Z)(function*(U,z,ee,Ee,Je){try{let vt=[];if(Je&&Je.send_to){let Qt=Je.send_to;Array.isArray(Qt)||(Qt=[Qt]);const Pn=yield Bl(ee);for(const nr of Qt){const Jn=Pn.find(yn=>yn.measurementId===nr),Br=Jn&&z[Jn.appId];if(!Br){vt=[];break}vt.push(Br)}}0===vt.length&&(vt=Object.values(z)),yield Promise.all(vt),U("event",Ee,Je||{})}catch(vt){es.error(vt)}})).apply(this,arguments)}function be(U){const z=window.document.getElementsByTagName("script");for(const ee of Object.values(z))if(ee.src&&ee.src.includes(Xa)&&ee.src.includes(U))return ee;return null}const Et=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mt=new class Tr{constructor(z={},ee=1e3){this.throttleMetadata=z,this.intervalMillis=ee}getThrottleMetadata(z){return this.throttleMetadata[z]}setThrottleMetadata(z,ee){this.throttleMetadata[z]=ee}deleteThrottleMetadata(z){delete this.throttleMetadata[z]}};function gn(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Cr(U){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,I.Z)(function*(U){var z;const{appId:ee,apiKey:Ee}=U,Je={method:"GET",headers:gn(Ee)},vt=ua.replace("{app-id}",ee),Qt=yield fetch(vt,Je);if(200!==Qt.status&&304!==Qt.status){let Pn="";try{const nr=yield Qt.json();null!==(z=nr.error)&&void 0!==z&&z.message&&(Pn=nr.error.message)}catch{}throw Et.create("config-fetch-failed",{httpStatus:Qt.status,responseMessage:Pn})}return Qt.json()})).apply(this,arguments)}function zt(U){return _n.apply(this,arguments)}function _n(){return(_n=(0,I.Z)(function*(U,z=mt,ee){const{appId:Ee,apiKey:Je,measurementId:vt}=U.options;if(!Ee)throw Et.create("no-app-id");if(!Je){if(vt)return{measurementId:vt,appId:Ee};throw Et.create("no-api-key")}const Qt=z.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pn=new Wr;return setTimeout((0,I.Z)(function*(){Pn.abort()}),void 0!==ee?ee:6e4),li({appId:Ee,apiKey:Je,measurementId:vt},Qt,Pn,z)})).apply(this,arguments)}function li(U,z,ee){return an.apply(this,arguments)}function an(){return(an=(0,I.Z)(function*(U,{throttleEndTimeMillis:z,backoffCount:ee},Ee,Je=mt){var vt;const{appId:Qt,measurementId:Pn}=U;try{yield ht(Ee,z)}catch(nr){if(Pn)return es.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pn} provided in the "measurementId" field in the local Firebase config. [${nr?.message}]`),{appId:Qt,measurementId:Pn};throw nr}try{const nr=yield Cr(U);return Je.deleteThrottleMetadata(Qt),nr}catch(nr){const Jn=nr;if(!Ht(Jn)){if(Je.deleteThrottleMetadata(Qt),Pn)return es.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pn} provided in the "measurementId" field in the local Firebase config. [${Jn?.message}]`),{appId:Qt,measurementId:Pn};throw nr}const Br=503===Number(null===(vt=Jn?.customData)||void 0===vt?void 0:vt.httpStatus)?(0,we.$s)(ee,Je.intervalMillis,30):(0,we.$s)(ee,Je.intervalMillis),yn={throttleEndTimeMillis:Date.now()+Br,backoffCount:ee+1};return Je.setThrottleMetadata(Qt,yn),es.debug(`Calling attemptFetch again in ${Br} millis`),li(U,yn,Ee,Je)}})).apply(this,arguments)}function ht(U,z){return new Promise((ee,Ee)=>{const Je=Math.max(z-Date.now(),0),vt=setTimeout(ee,Je);U.addEventListener(()=>{clearTimeout(vt),Ee(Et.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}function Ht(U){if(!(U instanceof we.ZR&&U.customData))return!1;const z=Number(U.customData.httpStatus);return 429===z||500===z||503===z||504===z}class Wr{constructor(){this.listeners=[]}addEventListener(z){this.listeners.push(z)}abort(){this.listeners.forEach(z=>z())}}let W,Ot;function m(){return(m=(0,I.Z)(function*(U,z,ee,Ee,Je){if(Je&&Je.global)U("event",ee,Ee);else{const vt=yield z;U("event",ee,Object.assign(Object.assign({},Ee),{send_to:vt}))}})).apply(this,arguments)}function Gn(U){Ot=U}function On(U){W=U}function tn(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,I.Z)(function*(){if(!(0,we.hl)())return es.warn(Et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(U){return es.warn(Et.create("indexeddb-unavailable",{errorInfo:U?.toString()}).message),!1}return!0})).apply(this,arguments)}function Cn(){return(Cn=(0,I.Z)(function*(U,z,ee,Ee,Je,vt,Qt){var Pn;const nr=zt(U);nr.then(ps=>{ee[ps.measurementId]=ps.appId,U.options.measurementId&&ps.measurementId!==U.options.measurementId&&es.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ps=>es.error(ps)),z.push(nr);const Jn=tn().then(ps=>{if(ps)return Ee.getId()}),[Br,yn]=yield Promise.all([nr,Jn]);be(vt)||Ul(vt,Br.measurementId),Ot&&(Je("consent","default",Ot),Gn(void 0)),Je("js",new Date);const Hr=null!==(Pn=Qt?.config)&&void 0!==Pn?Pn:{};return Hr.origin="firebase",Hr.update=!0,null!=yn&&(Hr[Ms]=yn),Je("config",Br.measurementId,Hr),W&&(Je("set",W),On(void 0)),Br.measurementId})).apply(this,arguments)}class Ci{constructor(z){this.app=z}_delete(){return delete or[this.app.options.appId],Promise.resolve()}}let or={},Rt=[];const hr={};let ws,Xr,si="dataLayer",ei=!1;function $s(U,z,ee){!function vo(){const U=[];if((0,we.ru)()&&U.push("This is a browser extension environment."),(0,we.zI)()||U.push("Cookies are not available."),U.length>0){const z=U.map((Ee,Je)=>`(${Je+1}) ${Ee}`).join(" "),ee=Et.create("invalid-analytics-context",{errorInfo:z});es.warn(ee.message)}}();const Ee=U.options.appId;if(!Ee)throw Et.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw Et.create("no-api-key");es.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=or[Ee])throw Et.create("already-exists",{id:Ee});if(!ei){!function cl(U){let z=[];Array.isArray(window[U])?z=window[U]:window[U]=z}(si);const{wrappedGtag:vt,gtagCore:Qt}=function ne(U,z,ee,Ee,Je){let vt=function(...Qt){window[Ee].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(vt=window[Je]),window[Je]=function V(U,z,ee,Ee){function vt(){return(vt=(0,I.Z)(function*(Qt,Pn,nr){try{"event"===Qt?yield x(U,z,ee,Pn,nr):"config"===Qt?yield Fa(U,z,ee,Ee,Pn,nr):"consent"===Qt?U("consent","update",nr):U("set",Pn)}catch(Jn){es.error(Jn)}})).apply(this,arguments)}return function Je(Qt,Pn,nr){return vt.apply(this,arguments)}}(vt,U,z,ee),{gtagCore:vt,wrappedGtag:window[Je]}}(or,Rt,hr,si,"gtag");Xr=vt,ws=Qt,ei=!0}return or[Ee]=function br(U,z,ee,Ee,Je,vt,Qt){return Cn.apply(this,arguments)}(U,Rt,hr,z,ws,si,ee),new Ci(U)}function Vn(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,I.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const Rr="@firebase/analytics";!function os(){(0,pe._registerComponent)(new De.wA(ul,(z,{options:ee})=>$s(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,pe._registerComponent)(new De.wA("analytics-internal",function U(z){try{const ee=z.getProvider(ul).getImmediate();return{logEvent:(Ee,Je,vt)=>function La(U,z,ee,Ee){U=(0,we.m9)(U),function E(U,z,ee,Ee,Je){return m.apply(this,arguments)}(Xr,or[U.app.options.appId],z,ee,Ee).catch(Je=>es.error(Je))}(ee,Ee,Je,vt)}}catch(ee){throw Et.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,pe.registerVersion)(Rr,"0.9.3"),(0,pe.registerVersion)(Rr,"0.9.3","esm2017")}();var bo=j(4408),Ba=j(7565);const Ro=new class hl extends Ba.v{}(class qs extends bo.o{constructor(z,ee){super(z,ee),this.scheduler=z,this.work=ee}schedule(z,ee=0){return ee>0?super.schedule(z,ee):(this.delay=ee,this.state=z,this.scheduler.flush(this),this)}execute(z,ee){return ee>0||this.closed?super.execute(z,ee):this._execute(z,ee)}requestAsyncId(z,ee,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(z,ee,Ee):(z.flush(this),0)}});var Za=j(4986),Hl=j(8505),_i=j(9468),bl=j(5363);const Ua=new a.GfV("7.5.0"),Ea="__angularfire_symbol__analyticsIsSupportedValue",Eo="__angularfire_symbol__analyticsIsSupported",Wo="__angularfire_symbol__remoteConfigIsSupportedValue",T="__angularfire_symbol__remoteConfigIsSupported",N="__angularfire_symbol__messagingIsSupportedValue",w="__angularfire_symbol__messagingIsSupported";function $e(U,z,ee){if(z){if(1===z.length)return z[0];const vt=z.filter(Qt=>Qt.app===ee);if(1===vt.length)return vt[0]}return ee.container.getProvider(U).getImmediate({optional:!0})}globalThis[Eo]||(globalThis[Eo]=Vn().then(U=>globalThis[Ea]=U).catch(()=>globalThis[Ea]=!1)),globalThis[w]||(globalThis[w]=Wa().then(U=>globalThis[N]=U).catch(()=>globalThis[N]=!1)),globalThis[T]||(globalThis[T]=ro().then(U=>globalThis[Wo]=U).catch(()=>globalThis[Wo]=!1));const Ut=(U,z)=>{const ee=z?[z]:(0,te.C6)(),Ee=[];return ee.forEach(Je=>{Je.container.getProvider(U).instances.forEach(Qt=>{Ee.includes(Qt)||Ee.push(Qt)})}),Ee};function Wt(){}class Sn{constructor(z,ee=Ro){this.zone=z,this.delegate=ee}now(){return this.delegate.now()}schedule(z,ee,Ee){const Je=this.zone;return this.delegate.schedule(function(Qt){Je.runGuarded(()=>{z.apply(this,[Qt])})},ee,Ee)}}class Lr{constructor(z){this.zone=z,this.task=null}call(z,ee){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wt,{},Wt,Wt)),ee.pipe((0,Hl.b)({next:Ee,complete:Ee,error:Ee})).subscribe(z).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let as=(()=>{class U{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Sn(Zone.current)),this.insideAngular=ee.run(()=>new Sn(Zone.current,Za.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ee){return new(ee||U)(a.LFG(a.R0b))},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Zi(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function da(U){return Zi(),function Ha(U){return function(ee){return(ee=ee.lift(new Lr(U.ngZone))).pipe((0,_i.R)(U.outsideAngular),(0,bl.Q)(U.insideAngular))}}(Zi())(U)}},2090:(un,et,j)=>{j.d(et,{$s:()=>cn,BH:()=>ge,G6:()=>st,L:()=>Oe,LL:()=>Mt,Pz:()=>Ye,Sg:()=>We,UG:()=>ae,US:()=>De,ZB:()=>he,ZR:()=>Ue,aH:()=>Ft,b$:()=>Vt,eu:()=>kt,hl:()=>Ct,jU:()=>at,m9:()=>Fn,ne:()=>Pr,pd:()=>jn,r3:()=>Xn,ru:()=>pt,tV:()=>Ge,uI:()=>Tt,vZ:()=>Le,w1:()=>Kt,xO:()=>ln,xb:()=>Ve,z$:()=>yt,zI:()=>It,zd:()=>gr});const pe=function(Ie){const _e=[];let ke=0;for(let Dt=0;Dt<Ie.length;Dt++){let it=Ie.charCodeAt(Dt);it<128?_e[ke++]=it:it<2048?(_e[ke++]=it>>6|192,_e[ke++]=63&it|128):55296==(64512&it)&&Dt+1<Ie.length&&56320==(64512&Ie.charCodeAt(Dt+1))?(it=65536+((1023&it)<<10)+(1023&Ie.charCodeAt(++Dt)),_e[ke++]=it>>18|240,_e[ke++]=it>>12&63|128,_e[ke++]=it>>6&63|128,_e[ke++]=63&it|128):(_e[ke++]=it>>12|224,_e[ke++]=it>>6&63|128,_e[ke++]=63&it|128)}return _e},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,_e){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Dt=[];for(let it=0;it<Ie.length;it+=3){const fn=Ie[it],qn=it+1<Ie.length,Hn=qn?Ie[it+1]:0,xr=it+2<Ie.length,Ne=xr?Ie[it+2]:0;let ze=(15&Hn)<<2|Ne>>6,jt=63&Ne;xr||(jt=64,qn||(ze=64)),Dt.push(ke[fn>>2],ke[(3&fn)<<4|Hn>>4],ke[ze],ke[jt])}return Dt.join("")},encodeString(Ie,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Ie):this.encodeByteArray(pe(Ie),_e)},decodeString(Ie,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Ie):function(Ie){const _e=[];let ke=0,Dt=0;for(;ke<Ie.length;){const it=Ie[ke++];if(it<128)_e[Dt++]=String.fromCharCode(it);else if(it>191&&it<224){const fn=Ie[ke++];_e[Dt++]=String.fromCharCode((31&it)<<6|63&fn)}else if(it>239&&it<365){const xr=((7&it)<<18|(63&Ie[ke++])<<12|(63&Ie[ke++])<<6|63&Ie[ke++])-65536;_e[Dt++]=String.fromCharCode(55296+(xr>>10)),_e[Dt++]=String.fromCharCode(56320+(1023&xr))}else{const fn=Ie[ke++],qn=Ie[ke++];_e[Dt++]=String.fromCharCode((15&it)<<12|(63&fn)<<6|63&qn)}}return _e.join("")}(this.decodeStringToByteArray(Ie,_e))},decodeStringToByteArray(Ie,_e){this.init_();const ke=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Dt=[];for(let it=0;it<Ie.length;){const fn=ke[Ie.charAt(it++)],Hn=it<Ie.length?ke[Ie.charAt(it)]:0;++it;const Ne=it<Ie.length?ke[Ie.charAt(it)]:64;++it;const ue=it<Ie.length?ke[Ie.charAt(it)]:64;if(++it,null==fn||null==Hn||null==Ne||null==ue)throw Error();Dt.push(fn<<2|Hn>>4),64!==Ne&&(Dt.push(Hn<<4&240|Ne>>2),64!==ue&&Dt.push(Ne<<6&192|ue))}return Dt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}},Oe=function(Ie){return function(Ie){const _e=pe(Ie);return De.encodeByteArray(_e,!0)}(Ie).replace(/\./g,"")},Ge=function(Ie){try{return De.decodeString(Ie,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function he(Ie,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return _e}for(const ke in _e)!_e.hasOwnProperty(ke)||!Me(ke)||(Ie[ke]=he(Ie[ke],_e[ke]));return Ie}function Me(Ie){return"__proto__"!==Ie}const nt=()=>{try{return function Pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=Ie&&Ge(Ie[1]);return _e&&JSON.parse(_e)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},Ft=()=>{var Ie;return null===(Ie=nt())||void 0===Ie?void 0:Ie.config},Ye=Ie=>{var _e;return null===(_e=nt())||void 0===_e?void 0:_e[`_${Ie}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,ke)=>{this.resolve=_e,this.reject=ke})}wrapCallback(_e){return(ke,Dt)=>{ke?this.reject(ke):this.resolve(Dt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(ke):_e(ke,Dt))}}}function We(Ie,_e){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Dt=_e||"demo-project",it=Ie.iat||0,fn=Ie.sub||Ie.user_id;if(!fn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qn=Object.assign({iss:`https://securetoken.google.com/${Dt}`,aud:Dt,iat:it,exp:it+3600,auth_time:it,sub:fn,user_id:fn,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(qn)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function ae(){var Ie;const _e=null===(Ie=nt())||void 0===Ie?void 0:Ie.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function pt(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kt(){const Ie=yt();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function st(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ct(){try{return"object"==typeof indexedDB}catch{return!1}}function kt(){return new Promise((Ie,_e)=>{try{let ke=!0;const Dt="validate-browser-context-for-indexeddb-analytics-module",it=self.indexedDB.open(Dt);it.onsuccess=()=>{it.result.close(),ke||self.indexedDB.deleteDatabase(Dt),Ie(!0)},it.onupgradeneeded=()=>{ke=!1},it.onerror=()=>{var fn;_e((null===(fn=it.error)||void 0===fn?void 0:fn.message)||"")}}catch(ke){_e(ke)}})}function It(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(_e,ke,Dt){super(ke),this.code=_e,this.customData=Dt,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(_e,ke,Dt){this.service=_e,this.serviceName=ke,this.errors=Dt}create(_e,...ke){const Dt=ke[0]||{},it=`${this.service}/${_e}`,fn=this.errors[_e],qn=fn?function Te(Ie,_e){return Ie.replace(Ce,(ke,Dt)=>{const it=_e[Dt];return null!=it?String(it):`<${Dt}?>`})}(fn,Dt):"Error";return new Ue(it,`${this.serviceName}: ${qn} (${it}).`,Dt)}}const Ce=/\{\$([^}]+)}/g;function Xn(Ie,_e){return Object.prototype.hasOwnProperty.call(Ie,_e)}function Ve(Ie){for(const _e in Ie)if(Object.prototype.hasOwnProperty.call(Ie,_e))return!1;return!0}function Le(Ie,_e){if(Ie===_e)return!0;const ke=Object.keys(Ie),Dt=Object.keys(_e);for(const it of ke){if(!Dt.includes(it))return!1;const fn=Ie[it],qn=_e[it];if(dt(fn)&&dt(qn)){if(!Le(fn,qn))return!1}else if(fn!==qn)return!1}for(const it of Dt)if(!ke.includes(it))return!1;return!0}function dt(Ie){return null!==Ie&&"object"==typeof Ie}function ln(Ie){const _e=[];for(const[ke,Dt]of Object.entries(Ie))Array.isArray(Dt)?Dt.forEach(it=>{_e.push(encodeURIComponent(ke)+"="+encodeURIComponent(it))}):_e.push(encodeURIComponent(ke)+"="+encodeURIComponent(Dt));return _e.length?"&"+_e.join("&"):""}function gr(Ie){const _e={};return Ie.replace(/^\?/,"").split("&").forEach(Dt=>{if(Dt){const[it,fn]=Dt.split("=");_e[decodeURIComponent(it)]=decodeURIComponent(fn)}}),_e}function jn(Ie){const _e=Ie.indexOf("?");if(!_e)return"";const ke=Ie.indexOf("#",_e);return Ie.substring(_e,ke>0?ke:void 0)}function Pr(Ie,_e){const ke=new kn(Ie,_e);return ke.subscribe.bind(ke)}class kn{constructor(_e,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{_e(this)}).catch(Dt=>{this.error(Dt)})}next(_e){this.forEachObserver(ke=>{ke.next(_e)})}error(_e){this.forEachObserver(ke=>{ke.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,ke,Dt){let it;if(void 0===_e&&void 0===ke&&void 0===Dt)throw new Error("Missing Observer.");it=function An(Ie,_e){if("object"!=typeof Ie||null===Ie)return!1;for(const ke of _e)if(ke in Ie&&"function"==typeof Ie[ke])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:ke,complete:Dt},void 0===it.next&&(it.next=Ai),void 0===it.error&&(it.error=Ai),void 0===it.complete&&(it.complete=Ai);const fn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?it.error(this.finalError):it.complete()}catch{}}),this.observers.push(it),fn}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,_e)}sendOne(_e,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{ke(this.observers[_e])}catch(Dt){typeof console<"u"&&console.error&&console.error(Dt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}function cn(Ie,_e=1e3,ke=2){const Dt=_e*Math.pow(ke,Ie),it=Math.round(.5*Dt*(Math.random()-.5)*2);return Math.min(144e5,Dt+it)}function Fn(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},8949:(un,et,j)=>{j.d(et,{$:()=>De});var a=j(5698),te=j(4004),I=j(4650),pe=j(1205),we=j(8501);class De{constructor(Oe,Ge){this.auth=Oe,this.firestore=Ge,this.usuarioLogado=Oe.authState}cadastrar(Oe,Ge){return this.auth.createUserWithEmailAndPassword(Oe,Ge)}login(Oe,Ge){return this.auth.signInWithEmailAndPassword(Oe,Ge)}logout(){return this.auth.signOut()}resetarSenha(Oe){return this.auth.sendPasswordResetEmail(Oe)}selecionarUsuarioLogado(Oe){return this.firestore.collection("usuarios",Ge=>Ge.where("email","==",Oe)).valueChanges().pipe((0,a.q)(1),(0,te.U)(Ge=>Ge[0]))}}De.\u0275fac=function(Oe){return new(Oe||De)(I.LFG(pe.zQ),I.LFG(we.ST))},De.\u0275prov=I.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})},5739:(un,et,j)=>{var a=j(1481),I=j(4650),pe=j(7340);function De(W){return new I.vHH(3e3,!1)}function Ke(){return typeof window<"u"&&typeof window.document<"u"}function Jt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wn(W){switch(W.length){case 0:return new pe.ZN;case 1:return W[0];default:return new pe.ZE(W)}}function Qn(W,E,m,C,$=new Map,J=new Map){const fe=[],Se=[];let de=-1,Qe=null;if(C.forEach($t=>{const Ot=$t.get("offset"),Gn=Ot==de,On=Gn&&Qe||new Map;$t.forEach((tn,Bt)=>{let br=Bt,Cn=tn;if("offset"!==Bt)switch(br=E.normalizePropertyName(br,fe),Cn){case pe.k1:Cn=$.get(Bt);break;case pe.l3:Cn=J.get(Bt);break;default:Cn=E.normalizeStyleValue(Bt,br,Cn,fe)}On.set(br,Cn)}),Gn||Se.push(On),Qe=On,de=Ot}),fe.length)throw function rn(W){return new I.vHH(3502,!1)}();return Se}function fr(W,E,m,C){switch(E){case"start":W.onStart(()=>C(m&&wr(m,"start",W)));break;case"done":W.onDone(()=>C(m&&wr(m,"done",W)));break;case"destroy":W.onDestroy(()=>C(m&&wr(m,"destroy",W)))}}function wr(W,E,m){const J=$n(W.element,W.triggerName,W.fromState,W.toState,E||W.phaseName,m.totalTime??W.totalTime,!!m.disabled),fe=W._data;return null!=fe&&(J._data=fe),J}function $n(W,E,m,C,$="",J=0,fe){return{element:W,triggerName:E,fromState:m,toState:C,phaseName:$,totalTime:J,disabled:!!fe}}function Xn(W,E,m){let C=W.get(E);return C||W.set(E,C=m),C}function ir(W){const E=W.indexOf(":");return[W.substring(1,E),W.slice(E+1)]}let Ve=(W,E)=>!1,He=(W,E,m)=>[],Le=null;function dt(W){const E=W.parentNode||W.host;return E===Le?null:E}(Jt()||typeof Element<"u")&&(Ke()?(Le=(()=>document.documentElement)(),Ve=(W,E)=>{for(;E;){if(E===W)return!0;E=dt(E)}return!1}):Ve=(W,E)=>W.contains(E),He=(W,E,m)=>{if(m)return Array.from(W.querySelectorAll(E));const C=W.querySelector(E);return C?[C]:[]});let gr=null,jn=!1;const Tn=Ve,An=He;let zn=(()=>{class W{validateStyleProperty(m){return function sr(W){gr||(gr=function kn(){return typeof document<"u"?document.body:null}()||{},jn=!!gr.style&&"WebkitAppearance"in gr.style);let E=!0;return gr.style&&!function ln(W){return"ebkit"==W.substring(1,6)}(W)&&(E=W in gr.style,!E&&jn&&(E="Webkit"+W.charAt(0).toUpperCase()+W.slice(1)in gr.style)),E}(m)}matchesElement(m,C){return!1}containsElement(m,C){return Tn(m,C)}getParentElement(m){return dt(m)}query(m,C,$){return An(m,C,$)}computeStyle(m,C,$){return $||""}animate(m,C,$,J,fe,Se=[],de){return new pe.ZN($,J)}}return W.\u0275fac=function(m){return new(m||W)},W.\u0275prov=I.Yz7({token:W,factory:W.\u0275fac}),W})(),bn=(()=>{class W{}return W.NOOP=new zn,W})();const Nr="ng-enter",fi="ng-leave",er="ng-trigger",Qr=".ng-trigger",zr="ng-animating",Xt=".ng-animating";function Nt(W){if("number"==typeof W)return W;const E=W.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:cn(parseFloat(E[1]),E[2])}function cn(W,E){return"s"===E?1e3*W:W}function Un(W,E,m){return W.hasOwnProperty("duration")?W:function Rn(W,E,m){let $,J=0,fe="";if("string"==typeof W){const Se=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return E.push(De()),{duration:0,delay:0,easing:""};$=cn(parseFloat(Se[1]),Se[2]);const de=Se[3];null!=de&&(J=cn(parseFloat(de),Se[4]));const Qe=Se[5];Qe&&(fe=Qe)}else $=W;if(!m){let Se=!1,de=E.length;$<0&&(E.push(function je(){return new I.vHH(3100,!1)}()),Se=!0),J<0&&(E.push(function Oe(){return new I.vHH(3101,!1)}()),Se=!0),Se&&E.splice(de,0,De())}return{duration:$,delay:J,easing:fe}}(W,E,m)}function Fn(W,E={}){return Object.keys(W).forEach(m=>{E[m]=W[m]}),E}function Ie(W){const E=new Map;return Object.keys(W).forEach(m=>{E.set(m,W[m])}),E}function Dt(W,E=new Map,m){if(m)for(let[C,$]of m)E.set(C,$);for(let[C,$]of W)E.set(C,$);return E}function it(W,E,m){return m?E+":"+m+";":""}function fn(W){let E="";for(let m=0;m<W.style.length;m++){const C=W.style.item(m);E+=it(0,C,W.style.getPropertyValue(C))}for(const m in W.style)W.style.hasOwnProperty(m)&&!m.startsWith("_")&&(E+=it(0,ai(m),W.style[m]));W.setAttribute("style",E)}function qn(W,E,m){W.style&&(E.forEach((C,$)=>{const J=Mn($);m&&!m.has($)&&m.set($,W.style[J]),W.style[J]=C}),Jt()&&fn(W))}function Hn(W,E){W.style&&(E.forEach((m,C)=>{const $=Mn(C);W.style[$]=""}),Jt()&&fn(W))}function xr(W){return Array.isArray(W)?1==W.length?W[0]:(0,pe.vP)(W):W}const Pe=new RegExp("{{\\s*(.+?)\\s*}}","g");function ue(W){let E=[];if("string"==typeof W){let m;for(;m=Pe.exec(W);)E.push(m[1]);Pe.lastIndex=0}return E}function ze(W,E,m){const C=W.toString(),$=C.replace(Pe,(J,fe)=>{let Se=E[fe];return null==Se&&(m.push(function ye(W){return new I.vHH(3003,!1)}()),Se=""),Se.toString()});return $==C?W:$}function jt(W){const E=[];let m=W.next();for(;!m.done;)E.push(m.value),m=W.next();return E}const sn=/-+([a-z0-9])/g;function Mn(W){return W.replace(sn,(...E)=>E[1].toUpperCase())}function ai(W){return W.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pi(W,E,m){switch(E.type){case 7:return W.visitTrigger(E,m);case 0:return W.visitState(E,m);case 1:return W.visitTransition(E,m);case 2:return W.visitSequence(E,m);case 3:return W.visitGroup(E,m);case 4:return W.visitAnimate(E,m);case 5:return W.visitKeyframes(E,m);case 6:return W.visitStyle(E,m);case 8:return W.visitReference(E,m);case 9:return W.visitAnimateChild(E,m);case 10:return W.visitAnimateRef(E,m);case 11:return W.visitQuery(E,m);case 12:return W.visitStagger(E,m);default:throw function he(W){return new I.vHH(3004,!1)}()}}function Cs(W,E){return window.getComputedStyle(W)[E]}function ci(W,E){const m=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(C=>function Fi(W,E,m){if(":"==W[0]){const de=function rs(W,E){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,C)=>parseFloat(C)>parseFloat(m);case":decrement":return(m,C)=>parseFloat(C)<parseFloat(m);default:return E.push(function ae(W){return new I.vHH(3016,!1)}()),"* => *"}}(W,m);if("function"==typeof de)return void E.push(de);W=de}const C=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return m.push(function Tt(W){return new I.vHH(3015,!1)}()),E;const $=C[1],J=C[2],fe=C[3];E.push(Or($,fe));"<"==J[0]&&!("*"==$&&"*"==fe)&&E.push(Or(fe,$))}(C,m,E)):m.push(W),m}const hn=new Set(["true","1"]),tr=new Set(["false","0"]);function Or(W,E){const m=hn.has(W)||tr.has(W),C=hn.has(E)||tr.has(E);return($,J)=>{let fe="*"==W||W==$,Se="*"==E||E==J;return!fe&&m&&"boolean"==typeof $&&(fe=$?hn.has(W):tr.has(W)),!Se&&C&&"boolean"==typeof J&&(Se=J?hn.has(E):tr.has(E)),fe&&Se}}const $i=new RegExp("s*:selfs*,?","g");function di(W,E,m,C){return new Ar(W).build(E,m,C)}class Ar{constructor(E){this._driver=E}build(E,m,C){const $=new cr(m);return this._resetContextStyleTimingState($),pi(this,xr(E),$)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,m){let C=m.queryCount=0,$=m.depCount=0;const J=[],fe=[];return"@"==E.name.charAt(0)&&m.errors.push(function Pt(){return new I.vHH(3006,!1)}()),E.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(m),0==Se.type){const de=Se,Qe=de.name;Qe.toString().split(/\s*,\s*/).forEach($t=>{de.name=$t,J.push(this.visitState(de,m))}),de.name=Qe}else if(1==Se.type){const de=this.visitTransition(Se,m);C+=de.queryCount,$+=de.depCount,fe.push(de)}else m.errors.push(function ft(){return new I.vHH(3007,!1)}())}),{type:7,name:E.name,states:J,transitions:fe,queryCount:C,depCount:$,options:null}}visitState(E,m){const C=this.visitStyle(E.styles,m),$=E.options&&E.options.params||null;if(C.containsDynamicStyles){const J=new Set,fe=$||{};C.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(de=>{ue(de).forEach(Qe=>{fe.hasOwnProperty(Qe)||J.add(Qe)})})}),J.size&&(jt(J.values()),m.errors.push(function St(W,E){return new I.vHH(3008,!1)}()))}return{type:0,name:E.name,style:C,options:$?{params:$}:null}}visitTransition(E,m){m.queryCount=0,m.depCount=0;const C=pi(this,xr(E.animation),m);return{type:1,matchers:ci(E.expr,m.errors),animation:C,queryCount:m.queryCount,depCount:m.depCount,options:xs(E.options)}}visitSequence(E,m){return{type:2,steps:E.steps.map(C=>pi(this,C,m)),options:xs(E.options)}}visitGroup(E,m){const C=m.currentTime;let $=0;const J=E.steps.map(fe=>{m.currentTime=C;const Se=pi(this,fe,m);return $=Math.max($,m.currentTime),Se});return m.currentTime=$,{type:3,steps:J,options:xs(E.options)}}visitAnimate(E,m){const C=function Gi(W,E){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return Ji(Un(W,E).duration,0,"");const m=W;if(m.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Ji(0,0,"");return J.dynamic=!0,J.strValue=m,J}const $=Un(m,E);return Ji($.duration,$.delay,$.easing)}(E.timings,m.errors);m.currentAnimateTimings=C;let $,J=E.styles?E.styles:(0,pe.oB)({});if(5==J.type)$=this.visitKeyframes(J,m);else{let fe=E.styles,Se=!1;if(!fe){Se=!0;const Qe={};C.easing&&(Qe.easing=C.easing),fe=(0,pe.oB)(Qe)}m.currentTime+=C.duration+C.delay;const de=this.visitStyle(fe,m);de.isEmptyStep=Se,$=de}return m.currentAnimateTimings=null,{type:4,timings:C,style:$,options:null}}visitStyle(E,m){const C=this._makeStyleAst(E,m);return this._validateStyleAst(C,m),C}_makeStyleAst(E,m){const C=[],$=Array.isArray(E.styles)?E.styles:[E.styles];for(let Se of $)"string"==typeof Se?Se===pe.l3?C.push(Se):m.errors.push(new I.vHH(3002,!1)):C.push(Ie(Se));let J=!1,fe=null;return C.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(fe=Se.get("easing"),Se.delete("easing")),!J))for(let de of Se.values())if(de.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:C,easing:fe,offset:E.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(E,m){const C=m.currentAnimateTimings;let $=m.currentTime,J=m.currentTime;C&&J>0&&(J-=C.duration+C.delay),E.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((Se,de)=>{const Qe=m.collectedStyles.get(m.currentQuerySelector),$t=Qe.get(de);let Ot=!0;$t&&(J!=$&&J>=$t.startTime&&$<=$t.endTime&&(m.errors.push(function At(W,E,m,C,$){return new I.vHH(3010,!1)}()),Ot=!1),J=$t.startTime),Ot&&Qe.set(de,{startTime:J,endTime:$}),m.options&&function Ne(W,E,m){const C=E.params||{},$=ue(W);$.length&&$.forEach(J=>{C.hasOwnProperty(J)||m.push(function Ge(W){return new I.vHH(3001,!1)}())})}(Se,m.options,m.errors)})})}visitKeyframes(E,m){const C={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function ve(){return new I.vHH(3011,!1)}()),C;let J=0;const fe=[];let Se=!1,de=!1,Qe=0;const $t=E.steps.map(Cn=>{const Ci=this._makeStyleAst(Cn,m);let or=null!=Ci.offset?Ci.offset:function to(W){if("string"==typeof W)return null;let E=null;if(Array.isArray(W))W.forEach(m=>{if(m instanceof Map&&m.has("offset")){const C=m;E=parseFloat(C.get("offset")),C.delete("offset")}});else if(W instanceof Map&&W.has("offset")){const m=W;E=parseFloat(m.get("offset")),m.delete("offset")}return E}(Ci.styles),Rt=0;return null!=or&&(J++,Rt=Ci.offset=or),de=de||Rt<0||Rt>1,Se=Se||Rt<Qe,Qe=Rt,fe.push(Rt),Ci});de&&m.errors.push(function Ft(){return new I.vHH(3012,!1)}()),Se&&m.errors.push(function Ye(){return new I.vHH(3200,!1)}());const Ot=E.steps.length;let Gn=0;J>0&&J<Ot?m.errors.push(function ge(){return new I.vHH(3202,!1)}()):0==J&&(Gn=1/(Ot-1));const On=Ot-1,tn=m.currentTime,Bt=m.currentAnimateTimings,br=Bt.duration;return $t.forEach((Cn,Ci)=>{const or=Gn>0?Ci==On?1:Gn*Ci:fe[Ci],Rt=or*br;m.currentTime=tn+Bt.delay+Rt,Bt.duration=Rt,this._validateStyleAst(Cn,m),Cn.offset=or,C.styles.push(Cn)}),C}visitReference(E,m){return{type:8,animation:pi(this,xr(E.animation),m),options:xs(E.options)}}visitAnimateChild(E,m){return m.depCount++,{type:9,options:xs(E.options)}}visitAnimateRef(E,m){return{type:10,animation:this.visitReference(E.animation,m),options:xs(E.options)}}visitQuery(E,m){const C=m.currentQuerySelector,$=E.options||{};m.queryCount++,m.currentQuery=E;const[J,fe]=function fo(W){const E=!!W.split(/\s*,\s*/).find(m=>":self"==m);return E&&(W=W.replace($i,"")),W=W.replace(/@\*/g,Qr).replace(/@\w+/g,m=>Qr+"-"+m.slice(1)).replace(/:animating/g,Xt),[W,E]}(E.selector);m.currentQuerySelector=C.length?C+" "+J:J,Xn(m.collectedStyles,m.currentQuerySelector,new Map);const Se=pi(this,xr(E.animation),m);return m.currentQuery=null,m.currentQuerySelector=C,{type:11,selector:J,limit:$.limit||0,optional:!!$.optional,includeSelf:fe,animation:Se,originalSelector:E.selector,options:xs(E.options)}}visitStagger(E,m){m.currentQuery||m.errors.push(function We(){return new I.vHH(3013,!1)}());const C="full"===E.timings?{duration:0,delay:0,easing:"full"}:Un(E.timings,m.errors,!0);return{type:12,animation:pi(this,xr(E.animation),m),timings:C,options:null}}}class cr{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xs(W){return W?(W=Fn(W)).params&&(W.params=function ji(W){return W?Fn(W):null}(W.params)):W={},W}function Ji(W,E,m){return{duration:W,delay:E,easing:m}}function gi(W,E,m,C,$,J,fe=null,Se=!1){return{type:1,element:W,keyframes:E,preStyleProps:m,postStyleProps:C,duration:$,delay:J,totalTime:$+J,easing:fe,subTimeline:Se}}class Is{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,m){let C=this._map.get(E);C||this._map.set(E,C=[]),C.push(...m)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const go=new RegExp(":enter","g"),xe=new RegExp(":leave","g");function Fe(W,E,m,C,$,J=new Map,fe=new Map,Se,de,Qe=[]){return(new Xe).buildKeyframes(W,E,m,C,$,J,fe,Se,de,Qe)}class Xe{buildKeyframes(E,m,C,$,J,fe,Se,de,Qe,$t=[]){Qe=Qe||new Is;const Ot=new en(E,m,Qe,$,J,$t,[]);Ot.options=de;const Gn=de.delay?Nt(de.delay):0;Ot.currentTimeline.delayNextStep(Gn),Ot.currentTimeline.setStyles([fe],null,Ot.errors,de),pi(this,C,Ot);const On=Ot.timelines.filter(tn=>tn.containsAnimation());if(On.length&&Se.size){let tn;for(let Bt=On.length-1;Bt>=0;Bt--){const br=On[Bt];if(br.element===m){tn=br;break}}tn&&!tn.allowOnlyTimelineStyles()&&tn.setStyles([Se],null,Ot.errors,de)}return On.length?On.map(tn=>tn.buildKeyframes()):[gi(m,[],[],[],0,Gn,"",!1)]}visitTrigger(E,m){}visitState(E,m){}visitTransition(E,m){}visitAnimateChild(E,m){const C=m.subInstructions.get(m.element);if(C){const $=m.createSubContext(E.options),J=m.currentTimeline.currentTime,fe=this._visitSubInstructions(C,$,$.options);J!=fe&&m.transformIntoNewTimeline(fe)}m.previousNode=E}visitAnimateRef(E,m){const C=m.createSubContext(E.options);C.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],m,C),this.visitReference(E.animation,C),m.transformIntoNewTimeline(C.currentTimeline.currentTime),m.previousNode=E}_applyAnimationRefDelays(E,m,C){for(const $ of E){const J=$?.delay;if(J){const fe="number"==typeof J?J:Nt(ze(J,$?.params??{},m.errors));C.delayNextStep(fe)}}}_visitSubInstructions(E,m,C){let J=m.currentTimeline.currentTime;const fe=null!=C.duration?Nt(C.duration):null,Se=null!=C.delay?Nt(C.delay):null;return 0!==fe&&E.forEach(de=>{const Qe=m.appendInstructionToTimeline(de,fe,Se);J=Math.max(J,Qe.duration+Qe.delay)}),J}visitReference(E,m){m.updateOptions(E.options,!0),pi(this,E.animation,m),m.previousNode=E}visitSequence(E,m){const C=m.subContextCount;let $=m;const J=E.options;if(J&&(J.params||J.delay)&&($=m.createSubContext(J),$.transformIntoNewTimeline(),null!=J.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=Lt);const fe=Nt(J.delay);$.delayNextStep(fe)}E.steps.length&&(E.steps.forEach(fe=>pi(this,fe,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>C&&$.transformIntoNewTimeline()),m.previousNode=E}visitGroup(E,m){const C=[];let $=m.currentTimeline.currentTime;const J=E.options&&E.options.delay?Nt(E.options.delay):0;E.steps.forEach(fe=>{const Se=m.createSubContext(E.options);J&&Se.delayNextStep(J),pi(this,fe,Se),$=Math.max($,Se.currentTimeline.currentTime),C.push(Se.currentTimeline)}),C.forEach(fe=>m.currentTimeline.mergeTimelineCollectedStyles(fe)),m.transformIntoNewTimeline($),m.previousNode=E}_visitTiming(E,m){if(E.dynamic){const C=E.strValue;return Un(m.params?ze(C,m.params,m.errors):C,m.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,m){const C=m.currentAnimateTimings=this._visitTiming(E.timings,m),$=m.currentTimeline;C.delay&&(m.incrementTime(C.delay),$.snapshotCurrentStyles());const J=E.style;5==J.type?this.visitKeyframes(J,m):(m.incrementTime(C.duration),this.visitStyle(J,m),$.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=E}visitStyle(E,m){const C=m.currentTimeline,$=m.currentAnimateTimings;!$&&C.hasCurrentStyleProperties()&&C.forwardFrame();const J=$&&$.easing||E.easing;E.isEmptyStep?C.applyEmptyStep(J):C.setStyles(E.styles,J,m.errors,m.options),m.previousNode=E}visitKeyframes(E,m){const C=m.currentAnimateTimings,$=m.currentTimeline.duration,J=C.duration,Se=m.createSubContext().currentTimeline;Se.easing=C.easing,E.styles.forEach(de=>{Se.forwardTime((de.offset||0)*J),Se.setStyles(de.styles,de.easing,m.errors,m.options),Se.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(Se),m.transformIntoNewTimeline($+J),m.previousNode=E}visitQuery(E,m){const C=m.currentTimeline.currentTime,$=E.options||{},J=$.delay?Nt($.delay):0;J&&(6===m.previousNode.type||0==C&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Lt);let fe=C;const Se=m.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!$.optional,m.errors);m.currentQueryTotal=Se.length;let de=null;Se.forEach((Qe,$t)=>{m.currentQueryIndex=$t;const Ot=m.createSubContext(E.options,Qe);J&&Ot.delayNextStep(J),Qe===m.element&&(de=Ot.currentTimeline),pi(this,E.animation,Ot),Ot.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,Ot.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(fe),de&&(m.currentTimeline.mergeTimelineCollectedStyles(de),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=E}visitStagger(E,m){const C=m.parentContext,$=m.currentTimeline,J=E.timings,fe=Math.abs(J.duration),Se=fe*(m.currentQueryTotal-1);let de=fe*m.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":de=Se-de;break;case"full":de=C.currentStaggerTime}const $t=m.currentTimeline;de&&$t.delayNextStep(de);const Ot=$t.currentTime;pi(this,E.animation,m),m.previousNode=E,C.currentStaggerTime=$.currentTime-Ot+($.startTime-C.currentTimeline.startTime)}}const Lt={};class en{constructor(E,m,C,$,J,fe,Se,de){this._driver=E,this.element=m,this.subInstructions=C,this._enterClassName=$,this._leaveClassName=J,this.errors=fe,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=de||new Nn(this._driver,m,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,m){if(!E)return;const C=E;let $=this.options;null!=C.duration&&($.duration=Nt(C.duration)),null!=C.delay&&($.delay=Nt(C.delay));const J=C.params;if(J){let fe=$.params;fe||(fe=this.options.params={}),Object.keys(J).forEach(Se=>{(!m||!fe.hasOwnProperty(Se))&&(fe[Se]=ze(J[Se],fe,this.errors))})}}_copyOptions(){const E={};if(this.options){const m=this.options.params;if(m){const C=E.params={};Object.keys(m).forEach($=>{C[$]=m[$]})}}return E}createSubContext(E=null,m,C){const $=m||this.element,J=new en(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,C||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(E),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(E){return this.previousNode=Lt,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,m,C){const $={duration:m??E.duration,delay:this.currentTimeline.currentTime+(C??0)+E.delay,easing:""},J=new Kn(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,$,E.stretchStartingKeyframe);return this.timelines.push(J),$}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,m,C,$,J,fe){let Se=[];if($&&Se.push(this.element),E.length>0){E=(E=E.replace(go,"."+this._enterClassName)).replace(xe,"."+this._leaveClassName);let Qe=this._driver.query(this.element,E,1!=C);0!==C&&(Qe=C<0?Qe.slice(Qe.length+C,Qe.length):Qe.slice(0,C)),Se.push(...Qe)}return!J&&0==Se.length&&fe.push(function yt(W){return new I.vHH(3014,!1)}()),Se}}class Nn{constructor(E,m,C,$){this._driver=E,this.element=m,this.startTime=C,this._elementTimelineStylesLookup=$,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+E),m&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,m){return this.applyStylesToKeyframe(),new Nn(this._driver,E,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,m){this._localTimelineStyles.set(E,m),this._globalTimelineStyles.set(E,m),this._styleSummary.set(E,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[m,C]of this._globalTimelineStyles)this._backFill.set(m,C||pe.l3),this._currentKeyframe.set(m,pe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,m,C,$){m&&this._previousKeyframe.set("easing",m);const J=$&&$.params||{},fe=function jr(W,E){const m=new Map;let C;return W.forEach($=>{if("*"===$){C=C||E.keys();for(let J of C)m.set(J,pe.l3)}else Dt($,m)}),m}(E,this._globalTimelineStyles);for(let[Se,de]of fe){const Qe=ze(de,J,C);this._pendingStyles.set(Se,Qe),this._localTimelineStyles.has(Se)||this._backFill.set(Se,this._globalTimelineStyles.get(Se)??pe.l3),this._updateStyle(Se,Qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,m)=>{this._currentKeyframe.set(m,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,E)}))}snapshotCurrentStyles(){for(let[E,m]of this._localTimelineStyles)this._pendingStyles.set(E,m),this._updateStyle(E,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let m in this._currentKeyframe)E.push(m);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((m,C)=>{const $=this._styleSummary.get(C);(!$||m.time>$.time)&&this._updateStyle(C,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,m=new Set,C=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((Se,de)=>{const Qe=Dt(Se,new Map,this._backFill);Qe.forEach(($t,Ot)=>{$t===pe.k1?E.add(Ot):$t===pe.l3&&m.add(Ot)}),C||Qe.set("offset",de/this.duration),$.push(Qe)});const J=E.size?jt(E.values()):[],fe=m.size?jt(m.values()):[];if(C){const Se=$[0],de=new Map(Se);Se.set("offset",0),de.set("offset",1),$=[Se,de]}return gi(this.element,$,J,fe,this.duration,this.startTime,this.easing,!1)}}class Kn extends Nn{constructor(E,m,C,$,J,fe,Se=!1){super(E,m,fe.delay),this.keyframes=C,this.preStyleProps=$,this.postStyleProps=J,this._stretchStartingKeyframe=Se,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:m,duration:C,easing:$}=this.timings;if(this._stretchStartingKeyframe&&m){const J=[],fe=C+m,Se=m/fe,de=Dt(E[0]);de.set("offset",0),J.push(de);const Qe=Dt(E[0]);Qe.set("offset",Dr(Se)),J.push(Qe);const $t=E.length-1;for(let Ot=1;Ot<=$t;Ot++){let Gn=Dt(E[Ot]);const On=Gn.get("offset");Gn.set("offset",Dr((m+On*C)/fe)),J.push(Gn)}C=fe,m=0,$="",E=J}return gi(this.element,E,this.preStyleProps,this.postStyleProps,C,m,$,!0)}}function Dr(W,E=3){const m=Math.pow(10,E-1);return Math.round(W*m)/m}class Oi{}const Bi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class no extends Oi{normalizePropertyName(E,m){return Mn(E)}normalizeStyleValue(E,m,C,$){let J="";const fe=C.toString().trim();if(Bi.has(m)&&0!==C&&"0"!==C)if("number"==typeof C)J="px";else{const Se=C.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&$.push(function Me(W,E){return new I.vHH(3005,!1)}())}return fe+J}}function Ui(W,E,m,C,$,J,fe,Se,de,Qe,$t,Ot,Gn){return{type:0,element:W,triggerName:E,isRemovalTransition:$,fromState:m,fromStyles:J,toState:C,toStyles:fe,timelines:Se,queriedElements:de,preStyleProps:Qe,postStyleProps:$t,totalTime:Ot,errors:Gn}}const ro={};class ja{constructor(E,m,C){this._triggerName=E,this.ast=m,this._stateStyles=C}match(E,m,C,$){return function Gs(W,E,m,C,$){return W.some(J=>J(E,m,C,$))}(this.ast.matchers,E,m,C,$)}buildStyles(E,m,C){let $=this._stateStyles.get("*");return void 0!==E&&($=this._stateStyles.get(E?.toString())||$),$?$.buildStyles(m,C):new Map}build(E,m,C,$,J,fe,Se,de,Qe,$t){const Ot=[],Gn=this.ast.options&&this.ast.options.params||ro,tn=this.buildStyles(C,Se&&Se.params||ro,Ot),Bt=de&&de.params||ro,br=this.buildStyles($,Bt,Ot),Cn=new Set,Ci=new Map,or=new Map,Rt="void"===$,hr={params:Uo(Bt,Gn),delay:this.ast.options?.delay},si=$t?[]:Fe(E,m,this.ast.animation,J,fe,tn,br,hr,Qe,Ot);let mi=0;if(si.forEach(Xr=>{mi=Math.max(Xr.duration+Xr.delay,mi)}),Ot.length)return Ui(m,this._triggerName,C,$,Rt,tn,br,[],[],Ci,or,mi,Ot);si.forEach(Xr=>{const ei=Xr.element,Hs=Xn(Ci,ei,new Set);Xr.preStyleProps.forEach($s=>Hs.add($s));const vo=Xn(or,ei,new Set);Xr.postStyleProps.forEach($s=>vo.add($s)),ei!==m&&Cn.add(ei)});const ws=jt(Cn.values());return Ui(m,this._triggerName,C,$,Rt,tn,br,si,ws,Ci,or,mi)}}function Uo(W,E){const m=Fn(E);for(const C in W)W.hasOwnProperty(C)&&null!=W[C]&&(m[C]=W[C]);return m}class ks{constructor(E,m,C){this.styles=E,this.defaultParams=m,this.normalizer=C}buildStyles(E,m){const C=new Map,$=Fn(this.defaultParams);return Object.keys(E).forEach(J=>{const fe=E[J];null!==fe&&($[J]=fe)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((fe,Se)=>{fe&&(fe=ze(fe,$,m));const de=this.normalizer.normalizePropertyName(Se,m);fe=this.normalizer.normalizeStyleValue(Se,de,fe,m),C.set(Se,fe)})}),C}}class Xo{constructor(E,m,C){this.name=E,this.ast=m,this._normalizer=C,this.transitionFactories=[],this.states=new Map,m.states.forEach($=>{this.states.set($.name,new ks($.style,$.options&&$.options.params||{},C))}),_o(this.states,"true","1"),_o(this.states,"false","0"),m.transitions.forEach($=>{this.transitionFactories.push(new ja(E,$,this.states))}),this.fallbackTransition=function mo(W,E,m){return new ja(W,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,Se)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,m,C,$){return this.transitionFactories.find(fe=>fe.match(E,m,C,$))||null}matchStyles(E,m,C){return this.fallbackTransition.buildStyles(E,m,C)}}function _o(W,E,m){W.has(E)?W.has(m)||W.set(m,W.get(E)):W.has(m)&&W.set(E,W.get(m))}const Fs=new Is;class Co{constructor(E,m,C){this.bodyNode=E,this._driver=m,this._normalizer=C,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,m){const C=[],J=di(this._driver,m,C,[]);if(C.length)throw function Kt(W){return new I.vHH(3503,!1)}();this._animations.set(E,J)}_buildPlayer(E,m,C){const $=E.element,J=Qn(0,this._normalizer,0,E.keyframes,m,C);return this._driver.animate($,J,E.duration,E.delay,E.easing,[],!0)}create(E,m,C={}){const $=[],J=this._animations.get(E);let fe;const Se=new Map;if(J?(fe=Fe(this._driver,m,J,Nr,fi,new Map,new Map,C,Fs,$),fe.forEach($t=>{const Ot=Xn(Se,$t.element,new Map);$t.postStyleProps.forEach(Gn=>Ot.set(Gn,null))})):($.push(function ct(){return new I.vHH(3300,!1)}()),fe=[]),$.length)throw function bt(W){return new I.vHH(3504,!1)}();Se.forEach(($t,Ot)=>{$t.forEach((Gn,On)=>{$t.set(On,this._driver.computeStyle(Ot,On,pe.l3))})});const Qe=wn(fe.map($t=>{const Ot=Se.get($t.element);return this._buildPlayer($t,new Map,Ot)}));return this._playersById.set(E,Qe),Qe.onDestroy(()=>this.destroy(E)),this.players.push(Qe),Qe}destroy(E){const m=this._getPlayer(E);m.destroy(),this._playersById.delete(E);const C=this.players.indexOf(m);C>=0&&this.players.splice(C,1)}_getPlayer(E){const m=this._playersById.get(E);if(!m)throw function st(W){return new I.vHH(3301,!1)}();return m}listen(E,m,C,$){const J=$n(m,"","","");return fr(this._getPlayer(E),C,J,$),()=>{}}command(E,m,C,$){if("register"==C)return void this.register(E,$[0]);if("create"==C)return void this.create(E,m,$[0]||{});const J=this._getPlayer(E);switch(C){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(E)}}}const ds="ng-animate-queued",ea="ng-animate-disabled",ta=[],Vo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ga={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class vs{get params(){return this.options.params}constructor(E,m=""){this.namespaceId=m;const C=E&&E.hasOwnProperty("value");if(this.value=function Qa(W){return W??null}(C?E.value:E),C){const J=Fn(E);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const m=E.params;if(m){const C=this.options.params;Object.keys(m).forEach($=>{null==C[$]&&(C[$]=m[$])})}}}const is="void",Ls=new vs(is);class ma{constructor(E,m,C){this.id=E,this.hostElement=m,this._engine=C,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Vr(m,this._hostClassName)}listen(E,m,C,$){if(!this._triggers.has(m))throw function Ct(W,E){return new I.vHH(3302,!1)}();if(null==C||0==C.length)throw function kt(W){return new I.vHH(3303,!1)}();if(!function oo(W){return"start"==W||"done"==W}(C))throw function It(W,E){return new I.vHH(3400,!1)}();const J=Xn(this._elementListeners,E,[]),fe={name:m,phase:C,callback:$};J.push(fe);const Se=Xn(this._engine.statesByElement,E,new Map);return Se.has(m)||(Vr(E,er),Vr(E,er+"-"+m),Se.set(m,Ls)),()=>{this._engine.afterFlush(()=>{const de=J.indexOf(fe);de>=0&&J.splice(de,1),this._triggers.has(m)||Se.delete(m)})}}register(E,m){return!this._triggers.has(E)&&(this._triggers.set(E,m),!0)}_getTrigger(E){const m=this._triggers.get(E);if(!m)throw function Yt(W){return new I.vHH(3401,!1)}();return m}trigger(E,m,C,$=!0){const J=this._getTrigger(m),fe=new ss(this.id,m,E);let Se=this._engine.statesByElement.get(E);Se||(Vr(E,er),Vr(E,er+"-"+m),this._engine.statesByElement.set(E,Se=new Map));let de=Se.get(m);const Qe=new vs(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&de&&Qe.absorbOptions(de.options),Se.set(m,Qe),de||(de=Ls),Qe.value!==is&&de.value===Qe.value){if(!function na(W,E){const m=Object.keys(W),C=Object.keys(E);if(m.length!=C.length)return!1;for(let $=0;$<m.length;$++){const J=m[$];if(!E.hasOwnProperty(J)||W[J]!==E[J])return!1}return!0}(de.params,Qe.params)){const Bt=[],br=J.matchStyles(de.value,de.params,Bt),Cn=J.matchStyles(Qe.value,Qe.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{Hn(E,br),qn(E,Cn)})}return}const Gn=Xn(this._engine.playersByElement,E,[]);Gn.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==m&&Bt.queued&&Bt.destroy()});let On=J.matchTransition(de.value,Qe.value,E,Qe.params),tn=!1;if(!On){if(!$)return;On=J.fallbackTransition,tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:m,transition:On,fromState:de,toState:Qe,player:fe,isFallbackTransition:tn}),tn||(Vr(E,ds),fe.onStart(()=>{ts(E,ds)})),fe.onDone(()=>{let Bt=this.players.indexOf(fe);Bt>=0&&this.players.splice(Bt,1);const br=this._engine.playersByElement.get(E);if(br){let Cn=br.indexOf(fe);Cn>=0&&br.splice(Cn,1)}}),this.players.push(fe),Gn.push(fe),fe}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(m=>m.delete(E)),this._elementListeners.forEach((m,C)=>{this._elementListeners.set(C,m.filter($=>$.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const m=this._engine.playersByElement.get(E);m&&(m.forEach(C=>C.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,m){const C=this._engine.driver.query(E,Qr,!0);C.forEach($=>{if($[dr])return;const J=this._engine.fetchNamespacesByElement($);J.size?J.forEach(fe=>fe.triggerLeaveAnimation($,m,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>C.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(E,m,C,$){const J=this._engine.statesByElement.get(E),fe=new Map;if(J){const Se=[];if(J.forEach((de,Qe)=>{if(fe.set(Qe,de.value),this._triggers.has(Qe)){const $t=this.trigger(E,Qe,is,$);$t&&Se.push($t)}}),Se.length)return this._engine.markElementAsRemoved(this.id,E,!0,m,fe),C&&wn(Se).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const m=this._elementListeners.get(E),C=this._engine.statesByElement.get(E);if(m&&C){const $=new Set;m.forEach(J=>{const fe=J.name;if($.has(fe))return;$.add(fe);const de=this._triggers.get(fe).fallbackTransition,Qe=C.get(fe)||Ls,$t=new vs(is),Ot=new ss(this.id,fe,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:fe,transition:de,fromState:Qe,toState:$t,player:Ot,isFallbackTransition:!0})})}}removeNode(E,m){const C=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,m),this.triggerLeaveAnimation(E,m,!0))return;let $=!1;if(C.totalAnimations){const J=C.players.length?C.playersByQueriedElement.get(E):[];if(J&&J.length)$=!0;else{let fe=E;for(;fe=fe.parentNode;)if(C.statesByElement.get(fe)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(E),$)C.markElementAsRemoved(this.id,E,!1,m);else{const J=E[dr];(!J||J===Vo)&&(C.afterFlush(()=>this.clearElementCache(E)),C.destroyInnerAnimations(E),C._onRemovalComplete(E,m))}}insertNode(E,m){Vr(E,this._hostClassName)}drainQueuedTransitions(E){const m=[];return this._queue.forEach(C=>{const $=C.player;if($.destroyed)return;const J=C.element,fe=this._elementListeners.get(J);fe&&fe.forEach(Se=>{if(Se.name==C.triggerName){const de=$n(J,C.triggerName,C.fromState.value,C.toState.value);de._data=E,fr(C.player,Se.phase,de,Se.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):m.push(C)}),this._queue=[],m.sort((C,$)=>{const J=C.transition.ast.depCount,fe=$.transition.ast.depCount;return 0==J||0==fe?J-fe:this._engine.driver.containsElement(C.element,$.element)?1:-1})}destroy(E){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}elementContainsData(E){let m=!1;return this._elementListeners.has(E)&&(m=!0),m=!!this._queue.find(C=>C.element===E)||m,m}}class so{_onRemovalComplete(E,m){this.onRemovalComplete(E,m)}constructor(E,m,C){this.bodyNode=E,this.driver=m,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,J)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(m=>{m.players.forEach(C=>{C.queued&&E.push(C)})}),E}createNamespace(E,m){const C=new ma(E,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(C,m):(this.newHostElements.set(m,C),this.collectEnterElement(m)),this._namespaceLookup[E]=C}_balanceNamespaceList(E,m){const C=this._namespaceList,$=this.namespacesByHostElement;if(C.length-1>=0){let fe=!1,Se=this.driver.getParentElement(m);for(;Se;){const de=$.get(Se);if(de){const Qe=C.indexOf(de);C.splice(Qe+1,0,E),fe=!0;break}Se=this.driver.getParentElement(Se)}fe||C.unshift(E)}else C.push(E);return $.set(m,E),E}register(E,m){let C=this._namespaceLookup[E];return C||(C=this.createNamespace(E,m)),C}registerTrigger(E,m,C){let $=this._namespaceLookup[E];$&&$.register(m,C)&&this.totalAnimations++}destroy(E,m){if(!E)return;const C=this._fetchNamespace(E);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[E];const $=this._namespaceList.indexOf(C);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>C.destroy(m))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const m=new Set,C=this.statesByElement.get(E);if(C)for(let $ of C.values())if($.namespaceId){const J=this._fetchNamespace($.namespaceId);J&&m.add(J)}return m}trigger(E,m,C,$){if(Io(m)){const J=this._fetchNamespace(E);if(J)return J.trigger(m,C,$),!0}return!1}insertNode(E,m,C,$){if(!Io(m))return;const J=m[dr];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(m);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(E){const fe=this._fetchNamespace(E);fe&&fe.insertNode(m,C)}$&&this.collectEnterElement(m)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,m){m?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Vr(E,ea)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),ts(E,ea))}removeNode(E,m,C,$){if(Io(m)){const J=E?this._fetchNamespace(E):null;if(J?J.removeNode(m,$):this.markElementAsRemoved(E,m,!1,$),C){const fe=this.namespacesByHostElement.get(m);fe&&fe.id!==E&&fe.removeNode(m,$)}}else this._onRemovalComplete(m,$)}markElementAsRemoved(E,m,C,$,J){this.collectedLeaveElements.push(m),m[dr]={namespaceId:E,setForRemoval:$,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:J}}listen(E,m,C,$,J){return Io(m)?this._fetchNamespace(E).listen(m,C,$,J):()=>{}}_buildInstruction(E,m,C,$,J){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,C,$,E.fromState.options,E.toState.options,m,J)}destroyInnerAnimations(E){let m=this.driver.query(E,Qr,!0);m.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(E,Xt,!0),m.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(E){const m=this.playersByElement.get(E);m&&m.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(E){const m=this.playersByQueriedElement.get(E);m&&m.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return wn(this.players).onDone(()=>E());E()})}processLeaveNode(E){const m=E[dr];if(m&&m.setForRemoval){if(E[dr]=Vo,m.namespaceId){this.destroyInnerAnimations(E);const C=this._fetchNamespace(m.namespaceId);C&&C.clearElementCache(E)}this._onRemovalComplete(E,m.setForRemoval)}E.classList?.contains(ea)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(E=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,$)=>this._balanceNamespaceList(C,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)Vr(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{m=this._flushAnimations(C,E)}finally{for(let $=0;$<C.length;$++)C[$]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],m.length?wn(m).onDone(()=>{C.forEach($=>$())}):C.forEach($=>$())}}reportError(E){throw function Ue(W){return new I.vHH(3402,!1)}()}_flushAnimations(E,m){const C=new Is,$=[],J=new Map,fe=[],Se=new Map,de=new Map,Qe=new Map,$t=new Set;this.disabledNodes.forEach(Vn=>{$t.add(Vn);const Zn=this.driver.query(Vn,".ng-animate-queued",!0);for(let Wn=0;Wn<Zn.length;Wn++)$t.add(Zn[Wn])});const Ot=this.bodyNode,Gn=Array.from(this.statesByElement.keys()),On=Ao(Gn,this.collectedEnterElements),tn=new Map;let Bt=0;On.forEach((Vn,Zn)=>{const Wn=Nr+Bt++;tn.set(Zn,Wn),Vn.forEach(_r=>Vr(_r,Wn))});const br=[],Cn=new Set,Ci=new Set;for(let Vn=0;Vn<this.collectedLeaveElements.length;Vn++){const Zn=this.collectedLeaveElements[Vn],Wn=Zn[dr];Wn&&Wn.setForRemoval&&(br.push(Zn),Cn.add(Zn),Wn.hasAnimation?this.driver.query(Zn,".ng-star-inserted",!0).forEach(_r=>Cn.add(_r)):Ci.add(Zn))}const or=new Map,Rt=Ao(Gn,Array.from(Cn));Rt.forEach((Vn,Zn)=>{const Wn=fi+Bt++;or.set(Zn,Wn),Vn.forEach(_r=>Vr(_r,Wn))}),E.push(()=>{On.forEach((Vn,Zn)=>{const Wn=tn.get(Zn);Vn.forEach(_r=>ts(_r,Wn))}),Rt.forEach((Vn,Zn)=>{const Wn=or.get(Zn);Vn.forEach(_r=>ts(_r,Wn))}),br.forEach(Vn=>{this.processLeaveNode(Vn)})});const hr=[],si=[];for(let Vn=this._namespaceList.length-1;Vn>=0;Vn--)this._namespaceList[Vn].drainQueuedTransitions(m).forEach(Wn=>{const _r=Wn.player,tt=Wn.element;if(hr.push(_r),this.collectedEnterElements.length){const os=tt[dr];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(Wn.triggerName)){const bo=os.previousTriggersValues.get(Wn.triggerName),qs=this.statesByElement.get(Wn.element);if(qs&&qs.has(Wn.triggerName)){const Ba=qs.get(Wn.triggerName);Ba.value=bo,qs.set(Wn.triggerName,Ba)}}return void _r.destroy()}}const ho=!Ot||!this.driver.containsElement(Ot,tt),Ii=or.get(tt),La=tn.get(tt),pr=this._buildInstruction(Wn,C,La,Ii,ho);if(pr.errors&&pr.errors.length)return void si.push(pr);if(ho)return _r.onStart(()=>Hn(tt,pr.fromStyles)),_r.onDestroy(()=>qn(tt,pr.toStyles)),void $.push(_r);if(Wn.isFallbackTransition)return _r.onStart(()=>Hn(tt,pr.fromStyles)),_r.onDestroy(()=>qn(tt,pr.toStyles)),void $.push(_r);const Rr=[];pr.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||Rr.push(os)}),pr.timelines=Rr,C.append(tt,pr.timelines),fe.push({instruction:pr,player:_r,element:tt}),pr.queriedElements.forEach(os=>Xn(Se,os,[]).push(_r)),pr.preStyleProps.forEach((os,bo)=>{if(os.size){let qs=de.get(bo);qs||de.set(bo,qs=new Set),os.forEach((Ba,hl)=>qs.add(hl))}}),pr.postStyleProps.forEach((os,bo)=>{let qs=Qe.get(bo);qs||Qe.set(bo,qs=new Set),os.forEach((Ba,hl)=>qs.add(hl))})});if(si.length){const Vn=[];si.forEach(Zn=>{Vn.push(function Te(W,E){return new I.vHH(3505,!1)}())}),hr.forEach(Zn=>Zn.destroy()),this.reportError(Vn)}const mi=new Map,ws=new Map;fe.forEach(Vn=>{const Zn=Vn.element;C.has(Zn)&&(ws.set(Zn,Zn),this._beforeAnimationBuild(Vn.player.namespaceId,Vn.instruction,mi))}),$.forEach(Vn=>{const Zn=Vn.element;this._getPreviousPlayers(Zn,!1,Vn.namespaceId,Vn.triggerName,null).forEach(_r=>{Xn(mi,Zn,[]).push(_r),_r.destroy()})});const Xr=br.filter(Vn=>lo(Vn,de,Qe)),ei=new Map;Ti(ei,this.driver,Ci,Qe,pe.l3).forEach(Vn=>{lo(Vn,de,Qe)&&Xr.push(Vn)});const vo=new Map;On.forEach((Vn,Zn)=>{Ti(vo,this.driver,new Set(Vn),de,pe.k1)}),Xr.forEach(Vn=>{const Zn=ei.get(Vn),Wn=vo.get(Vn);ei.set(Vn,new Map([...Array.from(Zn?.entries()??[]),...Array.from(Wn?.entries()??[])]))});const $s=[],Ns=[],dl={};fe.forEach(Vn=>{const{element:Zn,player:Wn,instruction:_r}=Vn;if(C.has(Zn)){if($t.has(Zn))return Wn.onDestroy(()=>qn(Zn,_r.toStyles)),Wn.disabled=!0,Wn.overrideTotalTime(_r.totalTime),void $.push(Wn);let tt=dl;if(ws.size>1){let Ii=Zn;const La=[];for(;Ii=Ii.parentNode;){const pr=ws.get(Ii);if(pr){tt=pr;break}La.push(Ii)}La.forEach(pr=>ws.set(pr,tt))}const ho=this._buildAnimation(Wn.namespaceId,_r,mi,J,vo,ei);if(Wn.setRealPlayer(ho),tt===dl)$s.push(Wn);else{const Ii=this.playersByElement.get(tt);Ii&&Ii.length&&(Wn.parentPlayer=wn(Ii)),$.push(Wn)}}else Hn(Zn,_r.fromStyles),Wn.onDestroy(()=>qn(Zn,_r.toStyles)),Ns.push(Wn),$t.has(Zn)&&$.push(Wn)}),Ns.forEach(Vn=>{const Zn=J.get(Vn.element);if(Zn&&Zn.length){const Wn=wn(Zn);Vn.setRealPlayer(Wn)}}),$.forEach(Vn=>{Vn.parentPlayer?Vn.syncPlayerEvents(Vn.parentPlayer):Vn.destroy()});for(let Vn=0;Vn<br.length;Vn++){const Zn=br[Vn],Wn=Zn[dr];if(ts(Zn,fi),Wn&&Wn.hasAnimation)continue;let _r=[];if(Se.size){let ho=Se.get(Zn);ho&&ho.length&&_r.push(...ho);let Ii=this.driver.query(Zn,Xt,!0);for(let La=0;La<Ii.length;La++){let pr=Se.get(Ii[La]);pr&&pr.length&&_r.push(...pr)}}const tt=_r.filter(ho=>!ho.destroyed);tt.length?zi(this,Zn,tt):this.processLeaveNode(Zn)}return br.length=0,$s.forEach(Vn=>{this.players.push(Vn),Vn.onDone(()=>{Vn.destroy();const Zn=this.players.indexOf(Vn);this.players.splice(Zn,1)}),Vn.play()}),$s}elementContainsData(E,m){let C=!1;const $=m[dr];return $&&$.setForRemoval&&(C=!0),this.playersByElement.has(m)&&(C=!0),this.playersByQueriedElement.has(m)&&(C=!0),this.statesByElement.has(m)&&(C=!0),this._fetchNamespace(E).elementContainsData(m)||C}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,m,C,$,J){let fe=[];if(m){const Se=this.playersByQueriedElement.get(E);Se&&(fe=Se)}else{const Se=this.playersByElement.get(E);if(Se){const de=!J||J==is;Se.forEach(Qe=>{Qe.queued||!de&&Qe.triggerName!=$||fe.push(Qe)})}}return(C||$)&&(fe=fe.filter(Se=>!(C&&C!=Se.namespaceId||$&&$!=Se.triggerName))),fe}_beforeAnimationBuild(E,m,C){const J=m.element,fe=m.isRemovalTransition?void 0:E,Se=m.isRemovalTransition?void 0:m.triggerName;for(const de of m.timelines){const Qe=de.element,$t=Qe!==J,Ot=Xn(C,Qe,[]);this._getPreviousPlayers(Qe,$t,fe,Se,m.toState).forEach(On=>{const tn=On.getRealPlayer();tn.beforeDestroy&&tn.beforeDestroy(),On.destroy(),Ot.push(On)})}Hn(J,m.fromStyles)}_buildAnimation(E,m,C,$,J,fe){const Se=m.triggerName,de=m.element,Qe=[],$t=new Set,Ot=new Set,Gn=m.timelines.map(tn=>{const Bt=tn.element;$t.add(Bt);const br=Bt[dr];if(br&&br.removedBeforeQueried)return new pe.ZN(tn.duration,tn.delay);const Cn=Bt!==de,Ci=function Vi(W){const E=[];return ao(W,E),E}((C.get(Bt)||ta).map(mi=>mi.getRealPlayer())).filter(mi=>!!mi.element&&mi.element===Bt),or=J.get(Bt),Rt=fe.get(Bt),hr=Qn(0,this._normalizer,0,tn.keyframes,or,Rt),si=this._buildPlayer(tn,hr,Ci);if(tn.subTimeline&&$&&Ot.add(Bt),Cn){const mi=new ss(E,Se,Bt);mi.setRealPlayer(si),Qe.push(mi)}return si});Qe.forEach(tn=>{Xn(this.playersByQueriedElement,tn.element,[]).push(tn),tn.onDone(()=>function Ra(W,E,m){let C=W.get(E);if(C){if(C.length){const $=C.indexOf(m);C.splice($,1)}0==C.length&&W.delete(E)}return C}(this.playersByQueriedElement,tn.element,tn))}),$t.forEach(tn=>Vr(tn,zr));const On=wn(Gn);return On.onDestroy(()=>{$t.forEach(tn=>ts(tn,zr)),qn(de,m.toStyles)}),Ot.forEach(tn=>{Xn($,tn,[]).push(On)}),On}_buildPlayer(E,m,C){return m.length>0?this.driver.animate(E.element,m,E.duration,E.delay,E.easing,C):new pe.ZN(E.duration,E.delay)}}class ss{constructor(E,m,C){this.namespaceId=E,this.triggerName=m,this.element=C,this._player=new pe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((m,C)=>{m.forEach($=>fr(E,C,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const m=this._player;m.triggerCallback&&E.onStart(()=>m.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,m){Xn(this._queuedCallbacks,E,[]).push(m)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const m=this._player;m.triggerCallback&&m.triggerCallback(E)}}function Io(W){return W&&1===W.nodeType}function Si(W,E){const m=W.style.display;return W.style.display=E??"none",m}function Ti(W,E,m,C,$){const J=[];m.forEach(de=>J.push(Si(de)));const fe=[];C.forEach((de,Qe)=>{const $t=new Map;de.forEach(Ot=>{const Gn=E.computeStyle(Qe,Ot,$);$t.set(Ot,Gn),(!Gn||0==Gn.length)&&(Qe[dr]=ga,fe.push(Qe))}),W.set(Qe,$t)});let Se=0;return m.forEach(de=>Si(de,J[Se++])),fe}function Ao(W,E){const m=new Map;if(W.forEach(Se=>m.set(Se,[])),0==E.length)return m;const $=new Set(E),J=new Map;function fe(Se){if(!Se)return 1;let de=J.get(Se);if(de)return de;const Qe=Se.parentNode;return de=m.has(Qe)?Qe:$.has(Qe)?1:fe(Qe),J.set(Se,de),de}return E.forEach(Se=>{const de=fe(Se);1!==de&&m.get(de).push(Se)}),m}function Vr(W,E){W.classList?.add(E)}function ts(W,E){W.classList?.remove(E)}function zi(W,E,m){wn(m).onDone(()=>W.processLeaveNode(E))}function ao(W,E){for(let m=0;m<W.length;m++){const C=W[m];C instanceof pe.ZE?ao(C.players,E):E.push(C)}}function lo(W,E,m){const C=m.get(W);if(!C)return!1;let $=E.get(W);return $?C.forEach(J=>$.add(J)):E.set(W,C),m.delete(W),!0}class Ri{constructor(E,m,C){this.bodyNode=E,this._driver=m,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=($,J)=>{},this._transitionEngine=new so(E,m,C),this._timelineEngine=new Co(E,m,C),this._transitionEngine.onRemovalComplete=($,J)=>this.onRemovalComplete($,J)}registerTrigger(E,m,C,$,J){const fe=E+"-"+$;let Se=this._triggerCache[fe];if(!Se){const de=[],$t=di(this._driver,J,de,[]);if(de.length)throw function Vt(W,E){return new I.vHH(3404,!1)}();Se=function To(W,E,m){return new Xo(W,E,m)}($,$t,this._normalizer),this._triggerCache[fe]=Se}this._transitionEngine.registerTrigger(m,$,Se)}register(E,m){this._transitionEngine.register(E,m)}destroy(E,m){this._transitionEngine.destroy(E,m)}onInsert(E,m,C,$){this._transitionEngine.insertNode(E,m,C,$)}onRemove(E,m,C,$){this._transitionEngine.removeNode(E,m,$||!1,C)}disableAnimations(E,m){this._transitionEngine.markElementAsDisabled(E,m)}process(E,m,C,$){if("@"==C.charAt(0)){const[J,fe]=ir(C);this._timelineEngine.command(J,m,fe,$)}else this._transitionEngine.trigger(E,m,C,$)}listen(E,m,C,$,J){if("@"==C.charAt(0)){const[fe,Se]=ir(C);return this._timelineEngine.listen(fe,m,Se,J)}return this._transitionEngine.listen(E,m,C,$,J)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ho=(()=>{class W{constructor(m,C,$){this._element=m,this._startStyles=C,this._endStyles=$,this._state=0;let J=W.initialStylesByElement.get(m);J||W.initialStylesByElement.set(m,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&qn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qn(this._element,this._initialStyles),this._endStyles&&(qn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W.initialStylesByElement.delete(this._element),this._startStyles&&(Hn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hn(this._element,this._endStyles),this._endStyles=null),qn(this._element,this._initialStyles),this._state=3)}}return W.initialStylesByElement=new WeakMap,W})();function ra(W){let E=null;return W.forEach((m,C)=>{(function bs(W){return"display"===W||"position"===W})(C)&&(E=E||new Map,E.set(C,m))}),E}class As{constructor(E,m,C,$){this.element=E,this.keyframes=m,this.options=C,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const m=[];return E.forEach(C=>{m.push(Object.fromEntries(C))}),m}_triggerWebAnimation(E,m,C){return E.animate(this._convertKeyframesToObject(m),C)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((C,$)=>{"offset"!==$&&E.set($,this._finished?C:Cs(this.element,$))}),this.currentSnapshot=E}triggerCallback(E){const m="start"===E?this._onStartFns:this._onDoneFns;m.forEach(C=>C()),m.length=0}}class ia{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,m){return!1}containsElement(E,m){return Tn(E,m)}getParentElement(E){return dt(E)}query(E,m,C){return An(E,m,C)}computeStyle(E,m,C){return window.getComputedStyle(E)[m]}animate(E,m,C,$,J,fe=[]){const de={duration:C,delay:$,fill:0==$?"both":"forwards"};J&&(de.easing=J);const Qe=new Map,$t=fe.filter(On=>On instanceof As);(function Jr(W,E){return 0===W||0===E})(C,$)&&$t.forEach(On=>{On.currentSnapshot.forEach((tn,Bt)=>Qe.set(Bt,tn))});let Ot=function _e(W){return W.length?W[0]instanceof Map?W:W.map(E=>Ie(E)):[]}(m).map(On=>Dt(On));Ot=function Rs(W,E,m){if(m.size&&E.length){let C=E[0],$=[];if(m.forEach((J,fe)=>{C.has(fe)||$.push(fe),C.set(fe,J)}),$.length)for(let J=1;J<E.length;J++){let fe=E[J];$.forEach(Se=>fe.set(Se,Cs(W,Se)))}}return E}(E,Ot,Qe);const Gn=function zs(W,E){let m=null,C=null;return Array.isArray(E)&&E.length?(m=ra(E[0]),E.length>1&&(C=ra(E[E.length-1]))):E instanceof Map&&(m=ra(E)),m||C?new Ho(W,m,C):null}(E,Ot);return new As(E,Ot,de,Gn)}}var Yn=j(6895);let $o=(()=>{class W extends pe._j{constructor(m,C){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(C.body,{id:"0",encapsulation:I.ifc.None,styles:[],data:{animation:[]}})}build(m){const C=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(m)?(0,pe.vP)(m):m;return sa(this._renderer,null,C,"register",[$]),new uo(C,this._renderer)}}return W.\u0275fac=function(m){return new(m||W)(I.LFG(I.FYo),I.LFG(Yn.K0))},W.\u0275prov=I.Yz7({token:W,factory:W.\u0275fac}),W})();class uo extends pe.LC{constructor(E,m){super(),this._id=E,this._renderer=m}create(E,m){return new Mo(this._id,E,m||{},this._renderer)}}class Mo{constructor(E,m,C,$){this.id=E,this.element=m,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(E,m){return this._renderer.listen(this.element,`@@${this.id}:${E}`,m)}_command(E,...m){return sa(this._renderer,this.element,this.id,E,m)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function sa(W,E,m,C,$){return W.setProperty(E,`@@${m}:${C}`,$)}const _a="@.disabled";let ya=(()=>{class W{constructor(m,C,$){this.delegate=m,this.engine=C,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(J,fe)=>{const Se=fe?.parentNode(J);Se&&fe.removeChild(Se,J)}}createRenderer(m,C){const J=this.delegate.createRenderer(m,C);if(!(m&&C&&C.data&&C.data.animation)){let $t=this._rendererCache.get(J);return $t||($t=new No("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,$t)),$t}const fe=C.id,Se=C.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,m);const de=$t=>{Array.isArray($t)?$t.forEach(de):this.engine.registerTrigger(fe,Se,m,$t.name,$t)};return C.data.animation.forEach(de),new k(this,Se,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,C,$){m>=0&&m<this._microtaskId?this._zone.run(()=>C($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[fe,Se]=J;fe(Se)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return W.\u0275fac=function(m){return new(m||W)(I.LFG(I.FYo),I.LFG(Ri),I.LFG(I.R0b))},W.\u0275prov=I.Yz7({token:W,factory:W.\u0275fac}),W})();class No{constructor(E,m,C,$){this.namespaceId=E,this.delegate=m,this.engine=C,this._onDestroy=$,this.destroyNode=this.delegate.destroyNode?J=>m.destroyNode(J):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(E,m){return this.delegate.createElement(E,m)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,m){this.delegate.appendChild(E,m),this.engine.onInsert(this.namespaceId,m,E,!1)}insertBefore(E,m,C,$=!0){this.delegate.insertBefore(E,m,C),this.engine.onInsert(this.namespaceId,m,E,$)}removeChild(E,m,C){this.engine.onRemove(this.namespaceId,m,this.delegate,C)}selectRootElement(E,m){return this.delegate.selectRootElement(E,m)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,m,C,$){this.delegate.setAttribute(E,m,C,$)}removeAttribute(E,m,C){this.delegate.removeAttribute(E,m,C)}addClass(E,m){this.delegate.addClass(E,m)}removeClass(E,m){this.delegate.removeClass(E,m)}setStyle(E,m,C,$){this.delegate.setStyle(E,m,C,$)}removeStyle(E,m,C){this.delegate.removeStyle(E,m,C)}setProperty(E,m,C){"@"==m.charAt(0)&&m==_a?this.disableAnimations(E,!!C):this.delegate.setProperty(E,m,C)}setValue(E,m){this.delegate.setValue(E,m)}listen(E,m,C){return this.delegate.listen(E,m,C)}disableAnimations(E,m){this.engine.disableAnimations(E,m)}}class k extends No{constructor(E,m,C,$,J){super(m,C,$,J),this.factory=E,this.namespaceId=m}setProperty(E,m,C){"@"==m.charAt(0)?"."==m.charAt(1)&&m==_a?this.disableAnimations(E,C=void 0===C||!!C):this.engine.process(this.namespaceId,E,m.slice(1),C):this.delegate.setProperty(E,m,C)}listen(E,m,C){if("@"==m.charAt(0)){const $=function L(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(E);let J=m.slice(1),fe="";return"@"!=J.charAt(0)&&([J,fe]=function F(W){const E=W.indexOf(".");return[W.substring(0,E),W.slice(E+1)]}(J)),this.engine.listen(this.namespaceId,$,J,fe,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,C,Se)})}return this.delegate.listen(E,m,C)}}const qr=[{provide:pe._j,useClass:$o},{provide:Oi,useFactory:function rt(){return new no}},{provide:Ri,useClass:(()=>{class W extends Ri{constructor(m,C,$,J){super(m.body,C,$)}ngOnDestroy(){this.flush()}}return W.\u0275fac=function(m){return new(m||W)(I.LFG(Yn.K0),I.LFG(bn),I.LFG(Oi),I.LFG(I.z2F))},W.\u0275prov=I.Yz7({token:W,factory:W.\u0275fac}),W})()},{provide:I.FYo,useFactory:function En(W,E,m){return new ya(W,E,m)},deps:[a.se,Ri,I.R0b]}],ii=[{provide:bn,useFactory:()=>new ia},{provide:I.QbO,useValue:"BrowserAnimations"},...qr],Bs=[{provide:bn,useClass:zn},{provide:I.QbO,useValue:"NoopAnimations"},...qr];let Us=(()=>{class W{static withConfig(m){return{ngModule:W,providers:m.disableAnimations?Bs:ii}}}return W.\u0275fac=function(m){return new(m||W)},W.\u0275mod=I.oAB({type:W}),W.\u0275inj=I.cJS({providers:ii,imports:[a.b2]}),W})();var Pi=j(5861),mr=j(433),hs=j(8949),Wi=j(9062),Es=j(9061),Go=j(7185);function zo(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"O email precisa ser preenchido."),I.qZA())}function za(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,'O email precisa seguir o formato "usuario@dominio.com".'),I.qZA())}function al(W,E){if(1&W&&(I.TgZ(0,"div",22),I.YNc(1,zo,2,0,"span",23),I.YNc(2,za,2,0,"span",23),I.qZA()),2&W){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",null==m.email||null==m.email.errors?null:m.email.errors.required),I.xp6(1),I.Q6J("ngIf",null==m.email||null==m.email.errors?null:m.email.errors.email)}}function Ja(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"A senha precisa ser preenchida."),I.qZA())}function Ws(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"A senha deve ter no m\xednimo 6 caracteres."),I.qZA())}function xa(W,E){if(1&W&&(I.TgZ(0,"div",22),I.YNc(1,Ja,2,0,"span",23),I.YNc(2,Ws,2,0,"span",23),I.qZA()),2&W){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",null==m.senha||null==m.senha.errors?null:m.senha.errors.required),I.xp6(1),I.Q6J("ngIf",null==m.senha||null==m.senha.errors?null:m.senha.errors.minlength)}}function Wa(W,E){if(1&W){const m=I.EpF();I.TgZ(0,"div",24)(1,"h4",25),I._uU(2,"Recupera\xe7\xe3o de Conta"),I.qZA(),I.TgZ(3,"button",26),I.NdJ("click",function(){const J=I.CHM(m).$implicit;return I.KtG(J.dismiss("fechar"))}),I.qZA()(),I.TgZ(4,"form",6),I.NdJ("ngSubmit",function(){const J=I.CHM(m).$implicit;return I.KtG(J.close("enviar"))}),I.TgZ(5,"div",27)(6,"div",28),I._uU(7," Enviaremos um email para o endere\xe7o informado com instru\xe7\xf5es de recupera\xe7\xe3o. "),I.qZA(),I.TgZ(8,"div",29)(9,"label",30),I._uU(10,"Endere\xe7o de email"),I.qZA(),I._UZ(11,"input",31),I.qZA()(),I.TgZ(12,"div",32)(13,"button",33),I.NdJ("click",function(){const J=I.CHM(m).$implicit;return I.KtG(J.dismiss("fechar"))}),I._uU(14," Cancelar"),I.qZA(),I.TgZ(15,"button",34),I._uU(16,"Enviar"),I.qZA()()()}if(2&W){const m=I.oxw();I.xp6(4),I.Q6J("formGroup",m.formRecuperacao)}}class oa{constructor(E,m,C,$,J){this.formBuilder=E,this.authService=m,this.router=C,this.modalService=$,this.toastrService=J}ngOnInit(){this.form=this.formBuilder.group({email:new mr.NI(""),senha:new mr.NI("")}),this.formRecuperacao=this.formBuilder.group({emailRecuperacao:new mr.NI("")})}get email(){return this.form.get("email")}get senha(){return this.form.get("senha")}get emailRecuperacao(){return this.formRecuperacao.get("emailRecuperacao")}login(){var E=this;return(0,Pi.Z)(function*(){const m=E.email?.value,C=E.senha?.value;try{(yield E.authService.login(m,C))?.user&&E.router.navigate(["/painel"])}catch($){E.toastrService.error($,"Falha na tentativa de login")}})()}abrirModalRecuperacao(E){var m=this;return(0,Pi.Z)(function*(){try{"enviar"===(yield m.modalService.open(E).result)&&(m.authService.resetarSenha(m.emailRecuperacao?.value),m.toastrService.success(`Um email com instru\xe7\xf5es de recupera\xe7\xe3o foi enviado com sucesso para: ${m.emailRecuperacao?.value}.`,"Email de recupera\xe7\xe3o enviado"))}catch(C){"0"!=C&&"1"!=C&&"fechar"!=C&&m.toastrService.error("Houve um erro ao tentar enviar o email! Verifique o endere\xe7o.","Falha na recupera\xe7\xe3o de conta")}})()}}oa.\u0275fac=function(E){return new(E||oa)(I.Y36(mr.qu),I.Y36(hs.$),I.Y36(Wi.F0),I.Y36(Es.FF),I.Y36(Go._W))},oa.\u0275cmp=I.Xpm({type:oa,selectors:[["app-login"]],decls:33,vars:5,consts:[[1,"mt-5"],[1,"container","py-3","px-3","px-md-5"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6"],["src","../assets/img/img-inicial.jpg","alt","Phone image",1,"img-fluid","rounded-3",2,"display","grid"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[3,"formGroup","ngSubmit"],[1,"text-primary","fw-semibold","text-center",2,"padding-top","10px"],[1,"text-primary","fw-semibold","text-center"],[1,"form-group","my-3","position-relative"],["for","email",1,"form-label"],["data-cy","email","formControlName","email","type","text","id","email",1,"form-control","form-control-lg",3,"ngClass"],["class","invalid-tooltip",4,"ngIf"],["for","senha",1,"form-label"],["data-cy","senha","formControlName","senha","type","password","id","senha",1,"form-control","form-control-lg",3,"ngClass"],[1,"form-group","my-3"],["role","button","routerLink","/cadastro",1,"text-primary","text-decoration-none"],["role","button",1,"text-primary","text-decoration-none",3,"click"],[1,"card-footer","g-grid","d-flex","gap-1","mt-4"],["data-cy","btnEntrar","type","submit",1,"btn","btn-primary","px-5"],[1,"pi","pi-arrow-right","me-2","mr-"],["content",""],[1,"invalid-tooltip"],[4,"ngIf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning"],[1,"form-group","mb-3"],["for","emailRecuperacao",1,"form-label"],["formControlName","emailRecuperacao","type","email","placeholder","Digite o endere\xe7o de email",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","col-md-3",3,"click"],["type","submit",1,"btn","btn-primary","col-md-3"]],template:function(E,m){if(1&E){const C=I.EpF();I.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),I._UZ(4,"img",4),I.qZA(),I.TgZ(5,"div",5)(6,"form",6),I.NdJ("ngSubmit",function(){return m.login()}),I.TgZ(7,"h1",7),I._uU(8,"Sistema De Auxilio a Depress\xe3o "),I.qZA(),I.TgZ(9,"h3",8),I._uU(10,"Login "),I.qZA(),I.TgZ(11,"div",9)(12,"label",10),I._uU(13,"E-mail"),I.qZA(),I._UZ(14,"input",11),I.YNc(15,al,3,2,"div",12),I.qZA(),I.TgZ(16,"div",9)(17,"label",13),I._uU(18,"Senha"),I.qZA(),I._UZ(19,"input",14),I.YNc(20,xa,3,2,"div",12),I.qZA(),I.TgZ(21,"div",15),I._uU(22," Ainda n\xe3o \xe9 um usu\xe1rio? "),I.TgZ(23,"a",16),I._uU(24,"Clique aqui e cadastre-se!"),I.qZA()(),I.TgZ(25,"a",17),I.NdJ("click",function(){I.CHM(C);const J=I.MAs(32);return I.KtG(m.abrirModalRecuperacao(J))}),I._uU(26,"Esqueceu sua senha?"),I.qZA(),I.TgZ(27,"div",18)(28,"button",19),I._UZ(29,"i",20),I._uU(30," Entrar "),I.qZA()()()()()()(),I.YNc(31,Wa,17,1,"ng-template",null,21,I.W1O)}2&E&&(I.xp6(6),I.Q6J("formGroup",m.form),I.xp6(8),I.Q6J("ngClass",null!=m.email&&m.email.touched&&null!=m.email&&m.email.invalid?"is-invalid":""),I.xp6(1),I.Q6J("ngIf",(null==m.email?null:m.email.touched)&&(null==m.email?null:m.email.invalid)),I.xp6(4),I.Q6J("ngClass",null!=m.senha&&m.senha.touched&&null!=m.senha&&m.senha.invalid?"is-invalid":""),I.xp6(1),I.Q6J("ngIf",(null==m.senha?null:m.senha.touched)&&(null==m.senha?null:m.senha.invalid)))},dependencies:[Yn.mk,Yn.O5,Wi.rH,mr._Y,mr.Fj,mr.JJ,mr.JL,mr.sg,mr.u]});var ka=j(5698),aa=j(4004);class Zs{constructor(E,m){this.authService=E,this.router=m}canActivate(){return this.authService.usuarioLogado.pipe((0,ka.q)(1),(0,aa.U)(E=>!!E||(this.router.navigate(["/login"]),!1)))}}Zs.\u0275fac=function(E){return new(E||Zs)(I.LFG(hs.$),I.LFG(Wi.F0))},Zs.\u0275prov=I.Yz7({token:Zs,factory:Zs.\u0275fac,providedIn:"root"});class la{constructor(E,m){this.authService=E,this.router=m}ngOnInit(){this.usuarioLogado$=this.authService.usuarioLogado.subscribe(E=>this.emailUsuario=E?.email)}ngOnDestroy(){this.usuarioLogado$.unsubscribe()}sair(){this.authService.logout().then(()=>this.router.navigate(["/login"]))}}la.\u0275fac=function(E){return new(E||la)(I.Y36(hs.$),I.Y36(Wi.F0))},la.\u0275cmp=I.Xpm({type:la,selectors:[["app-painel"]],decls:49,vars:0,consts:[[1,"container","text-center"],[1,"row"],[1,"col-lg-10","mx-auto"],[1,"p-1","p-md-3"],[1,"pt-3","p-md-5","mb-4","rounded-3"],["src","../assets/img/logo.png","alt","Phone image",1,"mx-auto","d-block","w-50","py-0"],[1,"display-6","fw-bold"],[1,"text-primary"],[1,"fs-4","mt-4"],[1,"services","bg-primary"],[1,"my-5","p-1","p-md-3"],[1,"py-1","pt-3","p-md-5","mb-4","rounded-3"],[1,"text-light"],[1,"text-light","fs-4","mt-4"],[2,"font-weight","bold"],[1,"row","row-cols-1","row-cols-md-3","g-4"],[1,"col"],[1,"card","h-50"],["src","https://ohoje.com/public/imagens/fotos/amp/2023/03/close-up-da-senhora-irreconhecivel-fazendo-anotacoes-1024x684.jpg.webp","routerLink","/anotacoes","alt","...",1,"card-img-top","rounded",2,"cursor","pointer"],["src","https://contabilidadeconsciente.com.br/wp-content/uploads/2022/01/17.COMO-CUIDAR-DEPRESSAO-scaled.jpg","routerLink","/ajuda","alt","...",1,"card-img-top","rounded",2,"cursor","pointer"],["src","https://www.santacasamaringa.com.br/uploads/noticias/noticias-15344377681423828462.jpg","routerLink","/medicos","alt","...",1,"card-img-top","rounded",2,"cursor","pointer"],[1,"footer","text-center"],[1,"copyright-text"],["href","https://pt.vecteezy.com/fotos-gratis"]],template:function(E,m){1&E&&(I.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),I._UZ(5,"img",5),I.TgZ(6,"h1",6)(7,"span",7),I._uU(8," Ol\xe1, Seja bem vindo!"),I.qZA()(),I.TgZ(9,"p",8),I._uU(10," Seja bem-vindo ao Sistema de Auxilio a Depress\xe3o da "),I.TgZ(11,"span",7),I._uU(12,"Web Emotional Balance"),I.qZA(),I._uU(13," Voc\xea pode acessar os servi\xe7os tanto pela barra de navega\xe7\xe3o acima ou clicar nas fotos localizadas abaixo. "),I.qZA()()()()()(),I.TgZ(14,"div",9)(15,"div",0)(16,"div",1)(17,"div",2)(18,"div",10)(19,"div",11)(20,"h1",12),I._uU(21,"Servi\xe7os"),I.qZA(),I.TgZ(22,"p",13),I._uU(23,"O site depress\xe3o-app oferece diversos servi\xe7os, entre eles a cria\xe7\xe3o de anota\xe7oes di\xe1rias na aba "),I.TgZ(24,"span",14),I._uU(25,"Anota\xe7oes"),I.qZA(),I._uU(26,", os exercicios na aba "),I.TgZ(27,"span",14),I._uU(28,"Ajuda"),I.qZA(),I._uU(29," e o contato dos m\xe9dicos na aba "),I.TgZ(30,"span",14),I._uU(31,"M\xe9dicos"),I.qZA(),I._uU(32,"."),I.qZA(),I.TgZ(33,"div",15)(34,"div",16)(35,"div",17),I._UZ(36,"img",18),I.qZA()(),I.TgZ(37,"div",16)(38,"div",17),I._UZ(39,"img",19),I.qZA()(),I.TgZ(40,"div",16)(41,"div",17),I._UZ(42,"img",20),I.qZA()()()()()()()()(),I.TgZ(43,"div",21)(44,"div",1)(45,"p",22),I._uU(46,"Copyright \xa9 2023 todos os direitos de Fotos e vetores reservados pelo "),I.TgZ(47,"a",23),I._uU(48,"Vecteezy"),I.qZA()()()())},dependencies:[Wi.rH],styles:[".card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:saturate(100%);transition:1s}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:saturate(60%)}.footer[_ngcontent-%COMP%]{height:10em;position:relative;background-color:#869abe}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 -50% 0 0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff}a[_ngcontent-%COMP%]{color:#fff}"]});var ll=j(8501);const co=new I.OlP("ngx-mask config"),vl=new I.OlP("new ngx-mask config"),Ll=new I.OlP("initial ngx-mask config"),ul={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new I.vpe,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},Ms=["Hh:m0:s0","Hh:m0","m0:s0"],Oo=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let Fr=(()=>{class W{constructor(m){this._config=m,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(C,$,J,fe)=>{let Se=[],de="";if(Array.isArray(J)){const On=new RegExp(J.map(tn=>"[\\^$.|?*+()".indexOf(tn)>=0?`\\${tn}`:tn).join("|"));Se=C.split(On),de=C.match(On)?.[0]??""}else Se=C.split(J),de=J;const Qe=Se.length>1?`${de}${Se[1]}`:"";let $t=Se[0];const Ot=this.separatorLimit.replace(/\s/g,"");Ot&&+Ot&&($t="-"===$t[0]?`-${$t.slice(1,$t.length).slice(0,Ot.length)}`:$t.slice(0,Ot.length));const Gn=/(\d+)(\d{3})/;for(;$&&Gn.test($t);)$t=$t.replace(Gn,"$1"+$+"$2");return void 0===fe?$t+Qe:0===fe?$t:$t+Qe.substr(0,fe+1)},this.percentage=C=>Number(C)>=0&&Number(C)<=100,this.getPrecision=C=>{const $=C.split(".");return $.length>1?Number($[$.length-1]):1/0},this.checkAndRemoveSuffix=C=>{for(let $=this.suffix?.length-1;$>=0;$--){const J=this.suffix.substr($,this.suffix?.length);if(C.includes(J)&&($-1<0||!C.includes(this.suffix.substr($-1,this.suffix?.length))))return C.replace(J,"")}return C},this.checkInputPrecision=(C,$,J)=>{if($<1/0){if(Array.isArray(J)){const de=J.find(Qe=>Qe!==this.thousandSeparator);J=de||J[0]}const fe=new RegExp(this._charToRegExpExpression(J)+`\\d{${$}}.*$`),Se=C.match(fe);Se&&Se[0].length-1>$&&(C=C.substring(0,C.length-(Se[0].length-1-$))),0===$&&this._compareOrIncludes(C[C.length-1],J,this.thousandSeparator)&&(C=C.substring(0,C.length-1))}return C},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(m,C){const[$,J]=C;return this.customPattern=J,this.applyMask(m,$)}applyMask(m,C,$=0,J=!1,fe=!1,Se=(()=>{})){if(!C||"string"!=typeof m)return"";let de=0,Qe="",$t=!1,Ot=!1,Gn=1,On=!1;m.slice(0,this.prefix.length)===this.prefix&&(m=m.slice(this.prefix.length,m.length)),this.suffix&&m?.length>0&&(m=this.checkAndRemoveSuffix(m));const tn=m.toString().split("");"IP"===C&&(this.ipError=tn.filter(Rt=>"."===Rt).length<3&&tn.length<7,C="099.099.099.099");const Bt=[];for(let Rt=0;Rt<m.length;Rt++)m[Rt]?.match("\\d")&&Bt.push(m[Rt]);if("CPF_CNPJ"===C&&(this.cpfCnpjError=11!==Bt.length&&14!==Bt.length,C=Bt.length>11?"00.000.000/0000-00":"000.000.000-00"),C.startsWith("percent")){if(m.match("[a-z]|[A-Z]")||m.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){m=this._stripToDecimal(m);const Rt=this.getPrecision(C);m=this.checkInputPrecision(m,Rt,this.decimalMarker)}m.indexOf(".")>0&&!this.percentage(m.substring(0,m.indexOf(".")))&&(m=`${m.substring(0,m.indexOf(".")-1)}${m.substring(m.indexOf("."),m.length)}`),Qe=this.percentage(m)?m:m.substring(0,m.length-1)}else if(C.startsWith("separator")){(m.match("[w\u0430-\u044f\u0410-\u042f]")||m.match("[\u0401\u0451\u0410-\u044f]")||m.match("[a-z]|[A-Z]")||m.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||m.match("[^A-Za-z0-9,]"))&&(m=this._stripToDecimal(m)),m=m.length>1&&"0"===m[0]&&!this._compareOrIncludes(m[1],this.decimalMarker,this.thousandSeparator)&&!fe?m.slice(1,m.length):m,fe&&(m=this._compareOrIncludes(m[m.length-1],this.decimalMarker,this.thousandSeparator)?m.slice(0,m.length-1):m);const Rt=this._charToRegExpExpression(this.thousandSeparator);let hr='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(Rt,"");if(Array.isArray(this.decimalMarker))for(const Hs of this.decimalMarker)hr=hr.replace(this._charToRegExpExpression(Hs),"");else hr=hr.replace(this._charToRegExpExpression(this.decimalMarker),"");const si=new RegExp("["+hr+"]");(m.match(si)||1===m.length&&this._compareOrIncludes(m,this.decimalMarker,this.thousandSeparator))&&(m=m.substring(0,m.length-1));const mi=this.getPrecision(C),ws=(m=this.checkInputPrecision(m,mi,this.decimalMarker)).replace(new RegExp(Rt,"g"),"");Qe=this._formatWithSeparators(ws,this.thousandSeparator,this.decimalMarker,mi);const Xr=Qe.indexOf(",")-m.indexOf(","),ei=Qe.length-m.length;if(ei>0&&","!==Qe[$]){Ot=!0;let Hs=0;do{this._shift.add($+Hs),Hs++}while(Hs<ei)}else 0!==Xr&&$>0&&!(Qe.indexOf(",")>=$&&$>3)||!(Qe.indexOf(".")>=$&&$>3)&&ei<=0?(this._shift.clear(),Ot=!0,Gn=ei,this._shift.add($+=ei)):this._shift.clear()}else for(let Rt=0,hr=tn[0];Rt<tn.length&&de!==C.length;Rt++,hr=tn[Rt])if(this._checkSymbolMask(hr,C[de])&&"?"===C[de+1])Qe+=hr,de+=2;else if("*"===C[de+1]&&$t&&this._checkSymbolMask(hr,C[de+2]))Qe+=hr,de+=3,$t=!1;else if(this._checkSymbolMask(hr,C[de])&&"*"===C[de+1])Qe+=hr,$t=!0;else if("?"===C[de+1]&&this._checkSymbolMask(hr,C[de+2]))Qe+=hr,de+=3;else if(this._checkSymbolMask(hr,C[de])){if("H"===C[de]&&Number(hr)>2){de+=1,this._shiftStep(C,de,tn.length),Rt--,this.leadZeroDateTime&&(Qe+="0");continue}if("h"===C[de]&&"2"===Qe&&Number(hr)>3){de+=1,Rt--;continue}if("m"===C[de]&&Number(hr)>5){de+=1,this._shiftStep(C,de,tn.length),Rt--,this.leadZeroDateTime&&(Qe+="0");continue}if("s"===C[de]&&Number(hr)>5){de+=1,this._shiftStep(C,de,tn.length),Rt--,this.leadZeroDateTime&&(Qe+="0");continue}const si=31;if("d"===C[de]&&(Number(hr)>3&&this.leadZeroDateTime||Number(m.slice(de,de+2))>si||"/"===m[de+1])){de+=1,this._shiftStep(C,de,tn.length),Rt--,this.leadZeroDateTime&&(Qe+="0");continue}if("M"===C[de]){const ws=0===de&&(Number(hr)>2||Number(m.slice(de,de+2))>12||"/"===m[de+1]),Xr=m.slice(de-3,de-1).includes("/")&&("/"===m[de-2]&&Number(m.slice(de-1,de+1))>12&&"/"!==m[de]||"/"===m[de]||"/"===m[de-3]&&Number(m.slice(de-2,de))>12&&"/"!==m[de-1]||"/"===m[de-1]),ei=Number(m.slice(de-3,de-1))<=si&&!m.slice(de-3,de-1).includes("/")&&"/"===m[de-1]&&(Number(m.slice(de,de+2))>12||"/"===m[de+1]),Hs=Number(m.slice(de-3,de-1))>si&&!m.slice(de-3,de-1).includes("/")&&!m.slice(de-2,de).includes("/")&&Number(m.slice(de-2,de))>12,vo=Number(m.slice(de-3,de-1))<=si&&!m.slice(de-3,de-1).includes("/")&&"/"!==m[de-1]&&Number(m.slice(de-1,de+1))>12;if(Number(hr)>1&&this.leadZeroDateTime||ws||Xr||ei||Hs||vo){de+=1,this._shiftStep(C,de,tn.length),Rt--,this.leadZeroDateTime&&(Qe+="0");continue}}Qe+=hr,de++}else" "===hr&&" "===C[de]?(Qe+=hr,de++):-1!==this.maskSpecialCharacters.indexOf(C[de])?(Qe+=C[de],de++,this._shiftStep(C,de,tn.length),Rt--):this.maskSpecialCharacters.indexOf(hr)>-1&&this.maskAvailablePatterns[C[de]]&&this.maskAvailablePatterns[C[de]]?.optional?(tn[de]&&"099.099.099.099"!==C&&"000.000.000-00"!==C&&"00.000.000/0000-00"!==C&&!C.match(/^9+\.0+$/)&&(Qe+=tn[de]),de++,Rt--):"*"===this.maskExpression[de+1]&&this._findSpecialChar(this.maskExpression[de+2])&&this._findSpecialChar(hr)===this.maskExpression[de+2]&&$t||"?"===this.maskExpression[de+1]&&this._findSpecialChar(this.maskExpression[de+2])&&this._findSpecialChar(hr)===this.maskExpression[de+2]&&$t?(de+=3,Qe+=hr):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(hr)<0&&hr!==this.placeHolderCharacter&&(On=!0);Qe.length+1===C.length&&-1!==this.maskSpecialCharacters.indexOf(C[C.length-1])&&(Qe+=C[C.length-1]);let br=$+1;for(;this._shift.has(br);)Gn++,br++;let Cn=J&&!C.startsWith("separator")?de:this._shift.has($)?Gn:0;On&&Cn--,Se(Cn,Ot),Gn<0&&this._shift.clear();let Ci=!1;fe&&(Ci=tn.every(Rt=>this.maskSpecialCharacters.includes(Rt)));let or=`${this.prefix}${Ci?"":Qe}${this.suffix}`;return 0===Qe.length&&(or=`${this.prefix}${Qe}`),or}_findSpecialChar(m){return this.maskSpecialCharacters.find(C=>C===m)}_checkSymbolMask(m,C){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[C]&&this.maskAvailablePatterns[C].pattern&&this.maskAvailablePatterns[C].pattern.test(m)}_stripToDecimal(m){return m.split("").filter((C,$)=>C.match("^-?\\d")||C.match("\\s")||"."===C||","===C||"-"===C&&0===$&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(m){return m&&(" "===m?"\\s":"[\\^$.|?*+()".indexOf(m)>=0?`\\${m}`:m)}_shiftStep(m,C,$){const J=/[*?]/g.test(m.slice(0,C))?$:C;this._shift.add(J+this.prefix.length||0)}_compareOrIncludes(m,C,$){return Array.isArray(C)?C.filter(J=>J!==$).includes(m):m===C}}return W.\u0275fac=function(m){return new(m||W)(I.LFG(co))},W.\u0275prov=I.Yz7({token:W,factory:W.\u0275fac}),W})(),ua=(()=>{class W extends Fr{constructor(m,C,$,J){super(C),this.document=m,this._config=C,this._elementRef=$,this._renderer=J,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=fe=>{}}applyMask(m,C,$=0,J=!1,fe=!1,Se=(()=>{})){if(!C)return m!==this.actualValue?this.actualValue:m;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(m||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(m||"#")),!m&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const de=m&&"number"==typeof this.selStart?m[this.selStart]:"";let Qe="";if(this.hiddenInput&&!this.writingValue){let On=this.actualValue.split("");""!==m&&On.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(m.length>On.length?On.splice(this.selStart,0,de):m.length<On.length&&(On.length-m.length==1?On.splice(this.selStart-1,1):On.splice(this.selStart,this.selEnd-this.selStart))):On=[],this.showMaskTyped&&(m=this.removeMask(m)),Qe=this.actualValue.length&&On.length<=m.length?this.shiftTypedSymbols(On.join("")):m}Qe=Boolean(Qe)&&Qe.length?Qe:m;const $t=super.applyMask(Qe,C,$,J,fe,Se);if(this.actualValue=this.getActualValue($t),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(On=>!this._compareOrIncludes(On,this.decimalMarker,this.thousandSeparator))),this.formControlResult($t),!this.showMaskTyped)return this.hiddenInput&&$t&&$t.length?this.hideInput($t,this.maskExpression):$t;const Ot=$t.length,Gn=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const On=this._numberSkipedSymbols($t);return $t+Gn.slice(Ot+On)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?$t+Gn:$t+Gn.slice(Ot)}_numberSkipedSymbols(m){const C=/(^|\D)(\d\D)/g;let $=C.exec(m),J=0;for(;null!=$;)J+=1,$=C.exec(m);return J}applyValueChanges(m,C,$,J=(()=>{})){const fe=this._elementRef.nativeElement;fe.value=this.applyMask(fe.value,this.maskExpression,m,C,$,J),fe!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(m,C){return m.split("").map(($,J)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[C[J]]&&this.maskAvailablePatterns[C[J]]?.symbol?this.maskAvailablePatterns[C[J]]?.symbol:$).join("")}getActualValue(m){const C=m.split("").filter(($,J)=>this._checkSymbolMask($,this.maskExpression[J])||this.maskSpecialCharacters.includes(this.maskExpression[J])&&$===this.maskExpression[J]);return C.join("")===m?C.join(""):m}shiftTypedSymbols(m){let C="";return(m&&m.split("").map((J,fe)=>{if(this.maskSpecialCharacters.includes(m[fe+1])&&m[fe+1]!==this.maskExpression[fe+1])return C=J,m[fe+1];if(C.length){const Se=C;return C="",Se}return J})||[]).join("")}numberToString(m){return m||0===m?Number(m).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(m)}showMaskInInput(m){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(m){if("IP"===this.maskExpression)return this._checkForIp(m);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(m)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const m=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==m.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(m.value,this.maskExpression))}set formElementProperty([m,C]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,m,C))}checkSpecialCharAmount(m){return m.split("").filter($=>this._findSpecialChar($)).length}removeMask(m){return this._removeMask(this._removeSuffix(this._removePrefix(m)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(m){if("#"===m)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const C=[];for(let $=0;$<m.length;$++)m[$]?.match("\\d")&&C.push(m[$]);return C.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:C.length>3&&C.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:C.length>6&&C.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(m){const C=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,$=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===m)return C;const J=[];for(let fe=0;fe<m.length;fe++)m[fe]?.match("\\d")&&J.push(m[fe]);return J.length<=3?C.slice(J.length,C.length):J.length>3&&J.length<=6?C.slice(J.length+1,C.length):J.length>6&&J.length<=9?C.slice(J.length+2,C.length):J.length>9&&J.length<11?C.slice(J.length+3,C.length):11===J.length?"":12===J.length?$.slice(17===m.length?16:15,$.length):J.length>12&&J.length<=14?$.slice(J.length+4,$.length):""}_getActiveElement(m=this.document){const C=m?.activeElement?.shadowRoot;return C?.activeElement?this._getActiveElement(C):m.activeElement}formControlResult(m){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(m)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(m)):this._removeSuffix(m))}_toNumber(m){if(!this.isNumberValue||""===m)return m;const C=Number(m);return Number.isNaN(C)?m:C}_removeMask(m,C){return m&&m.replace(this._regExpForRemove(C),"")}_removePrefix(m){return this.prefix?m&&m.replace(this.prefix,""):m}_removeSuffix(m){return this.suffix?m&&m.replace(this.suffix,""):m}_retrieveSeparatorValue(m){return this._removeMask(this._removeSuffix(this._removePrefix(m)),this.maskSpecialCharacters)}_regExpForRemove(m){return new RegExp(m.map(C=>`\\${C}`).join("|"),"gi")}_checkSymbols(m){if(""===m)return m;const C=this._retrieveSeparatorPrecision(this.maskExpression);let $=this._retrieveSeparatorValue(m);return"."!==this.decimalMarker&&!Array.isArray(this.decimalMarker)&&($=$.replace(this.decimalMarker,".")),this.isNumberValue?C?m===this.decimalMarker?null:this._checkPrecision(this.maskExpression,$):Number($):$}_retrieveSeparatorPrecision(m){const C=m.match(new RegExp("^separator\\.([^d]*)"));return C?Number(C[1]):null}_checkPrecision(m,C){return m.indexOf("2")>0?Number(C).toFixed(2):Number(C)}}return W.\u0275fac=function(m){return new(m||W)(I.LFG(Yn.K0),I.LFG(co),I.LFG(I.SBq),I.LFG(I.Qsj))},W.\u0275prov=I.Yz7({token:W,factory:W.\u0275fac}),W})(),Xa=(()=>{class W{constructor(m,C,$){this.document=m,this._maskService=C,this._config=$,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new I.vpe,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=J=>{},this.onTouch=()=>{}}ngOnChanges(m){const{maskExpression:C,specialCharacters:$,patterns:J,prefix:fe,suffix:Se,thousandSeparator:de,decimalMarker:Qe,dropSpecialCharacters:$t,hiddenInput:Ot,showMaskTyped:Gn,placeHolderCharacter:On,shownMaskExpression:tn,showTemplate:Bt,clearIfNotMatch:br,validation:Cn,separatorLimit:Ci,allowNegativeNumbers:or,leadZeroDateTime:Rt,triggerOnMaskChange:hr}=m;if(C&&(C.currentValue!==C.previousValue&&!C.firstChange&&(this._maskService.maskChanged=!0),C.currentValue&&C.currentValue.split("||").length>1?(this._maskExpressionArray=C.currentValue.split("||").sort((si,mi)=>si.length-mi.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=C.currentValue||"",this._maskService.maskExpression=this._maskValue)),$){if(!$.currentValue||!Array.isArray($.currentValue))return;this._maskService.maskSpecialCharacters=$.currentValue||[]}J&&J.currentValue&&(this._maskService.maskAvailablePatterns=J.currentValue),fe&&(this._maskService.prefix=fe.currentValue),Se&&(this._maskService.suffix=Se.currentValue),de&&(this._maskService.thousandSeparator=de.currentValue),Qe&&(this._maskService.decimalMarker=Qe.currentValue),$t&&(this._maskService.dropSpecialCharacters=$t.currentValue),Ot&&(this._maskService.hiddenInput=Ot.currentValue),Gn&&(this._maskService.showMaskTyped=Gn.currentValue),On&&(this._maskService.placeHolderCharacter=On.currentValue),tn&&(this._maskService.shownMaskExpression=tn.currentValue),Bt&&(this._maskService.showTemplate=Bt.currentValue),br&&(this._maskService.clearIfNotMatch=br.currentValue),Cn&&(this._maskService.validation=Cn.currentValue),Ci&&(this._maskService.separatorLimit=Ci.currentValue),or&&(this._maskService.allowNegativeNumbers=or.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(si=>"-"!==si))),Rt&&(this._maskService.leadZeroDateTime=Rt.currentValue),hr&&(this._maskService.triggerOnMaskChange=hr.currentValue),this._applyMask()}validate({value:m}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(m);if(this._maskService.cpfCnpjError)return this._createValidationError(m);if(this._maskValue.startsWith("separator")||Oo.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(Ms.includes(this._maskValue))return this._validateTime(m);if(m&&m.toString().length>=1){let C=0;for(const $ in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[$].optional&&(this._maskValue.indexOf($)!==this._maskValue.lastIndexOf($)?C+=this._maskValue.split("").filter(fe=>fe===$).join("").length:-1!==this._maskValue.indexOf($)&&C++,-1!==this._maskValue.indexOf($)&&m.toString().length>=this._maskValue.indexOf($)||C===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&m.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&m.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&m.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(m);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const $=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-C:this._maskValue.length-C;if(m.toString().length<$)return this._createValidationError(m)}}return m&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(m){(""===m||null==m)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(m){const C=m.target;if(this._inputValue=C.value,this._setMask(),!this._maskValue)return void this.onChange(C.value);const $=1===C.selectionStart?C.selectionStart+this._maskService.prefix.length:C.selectionStart;let J=0,fe=!1;if(this._maskService.applyValueChanges($,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(de,Qe)=>{this._justPasted=!1,J=de,fe=Qe}),this._getActiveElement()!==C)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let Se=this._position?this._inputValue.length+$+J:$+("Backspace"!==this._code||fe?J:0);Se>this._getActualInputLength()&&(Se=this._getActualInputLength()),Se<0&&(Se=0),C.setSelectionRange(Se,Se),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(m){if(!this._maskValue)return;const C=m.target;null!==C&&null!==C.selectionStart&&C.selectionStart===C.selectionEnd&&C.selectionStart>this._maskService.prefix.length&&38!==m.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),C.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===C.value?(C.focus(),C.setSelectionRange(0,0)):C.selectionStart>this._maskService.actualValue.length&&C.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const fe=C.value&&C.value!==this._maskService.prefix?C.value:this._maskService.prefix+this._maskService.maskIsShown;C.value!==fe&&(C.value=fe),(C.selectionStart||C.selectionEnd)<=this._maskService.prefix.length?C.selectionStart=this._maskService.prefix.length:C.selectionEnd>this._getActualInputLength()&&(C.selectionEnd=this._getActualInputLength())}onKeyDown(m){if(!this._maskValue)return;this._code=m.code?m.code:m.key;const C=m.target;if(this._inputValue=C.value,this._setMask(),38===m.keyCode&&m.preventDefault(),37===m.keyCode||8===m.keyCode||46===m.keyCode){if(8===m.keyCode&&0===C.value.length&&(C.selectionStart=C.selectionEnd),8===m.keyCode&&0!==C.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&C.selectionStart<=this.prefix.length)C.setSelectionRange(this.prefix.length,C.selectionEnd);else if(this._inputValue.length!==C.selectionStart&&1!==C.selectionStart)for(;this.specialCharacters.includes(this._inputValue[C.selectionStart-1].toString())&&(this.prefix.length>=1&&C.selectionStart>this.prefix.length||0===this.prefix.length);)C.setSelectionRange(C.selectionStart-1,C.selectionEnd);this.checkSelectionOnDeletion(C),this._maskService.prefix.length&&C.selectionStart<=this._maskService.prefix.length&&C.selectionEnd<=this._maskService.prefix.length&&m.preventDefault(),8===m.keyCode&&!C.readOnly&&0===C.selectionStart&&C.selectionEnd===C.value.length&&0!==C.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<C.selectionStart?C.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===m.keyCode&&m.ctrlKey||65===m.keyCode&&m.metaKey)&&(C.setSelectionRange(0,this._getActualInputLength()),m.preventDefault()),this._maskService.selStart=C.selectionStart,this._maskService.selEnd=C.selectionEnd}writeValue(m){var C=this;return(0,Pi.Z)(function*(){"object"==typeof m&&null!==m&&"value"in m&&("disable"in m&&C.setDisabledState(Boolean(m.disable)),m=m.value),("number"==typeof m||C._maskValue.startsWith("separator"))&&(m=C._maskService.numberToString(m),Array.isArray(C.decimalMarker)||(m="."!==C.decimalMarker?m.replace(".",C.decimalMarker):m),C._maskService.isNumberValue=!0),"string"!=typeof m&&(m=""),C._inputValue=m,C._setMask(),m&&C._maskService.maskExpression||C._maskService.maskExpression&&(C._maskService.prefix||C._maskService.showMaskTyped)?(C._maskService.writingValue=!0,C._maskService.formElementProperty=["value",C._maskService.applyMask(m,C._maskService.maskExpression)],C._maskService.writingValue=!1):C._maskService.formElementProperty=["value",m],C._inputValue=m})()}registerOnChange(m){this.onChange=m,this._maskService.onChange=this.onChange}registerOnTouched(m){this.onTouch=m}_getActiveElement(m=this.document){const C=m?.activeElement?.shadowRoot;return C?.activeElement?this._getActiveElement(C):m.activeElement}checkSelectionOnDeletion(m){m.selectionStart=Math.min(Math.max(this.prefix.length,m.selectionStart),this._inputValue.length-this.suffix.length),m.selectionEnd=Math.min(Math.max(this.prefix.length,m.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(m){this._maskService.formElementProperty=["disabled",m]}_repeatPatternSymbols(m){return m.match(/{[0-9]+}/)&&m.split("").reduce((C,$,J)=>{if(this._start="{"===$?J:this._start,"}"!==$)return this._maskService._findSpecialChar($)?C+$:C;this._end=J;const fe=Number(m.slice(this._start+1,this._end));return C+new Array(fe+1).join(m[this._start-1])},"")||m}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(m){const C=this._maskValue.split("").filter($=>":"!==$).length;return m&&(0==+m[m.length-1]&&m.length<C||m.length<=C-2)?this._createValidationError(m):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(m){return{mask:{requiredMask:this._maskValue,actualValue:m}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(m=>{const C=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(m)?.length;if(this._inputValue&&C)return this._maskValue=m,this.maskExpression=m,this._maskService.maskExpression=m,C;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return W.\u0275fac=function(m){return new(m||W)(I.Y36(Yn.K0),I.Y36(ua),I.Y36(co))},W.\u0275dir=I.lG2({type:W,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(m,C){1&m&&I.NdJ("paste",function(){return C.onPaste()})("ngModelChange",function(J){return C.onModelChange(J)})("input",function(J){return C.onInput(J)})("blur",function(){return C.onBlur()})("click",function(J){return C.onClick(J)})("keydown",function(J){return C.onKeyDown(J)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[I._Bn([{provide:mr.JU,useExisting:(0,I.Gpc)(()=>W),multi:!0},{provide:mr.Cf,useExisting:(0,I.Gpc)(()=>W),multi:!0},ua]),I.TTD]}),W})();function Bl(W,E){return E instanceof Function?{...W,...E()}:{...W,...E}}let Ul=(()=>{class W{static forRoot(m){return{ngModule:W,providers:[{provide:vl,useValue:m},{provide:Ll,useValue:ul},{provide:co,useFactory:Bl,deps:[Ll,vl]},Fr]}}static forChild(){return{ngModule:W}}}return W.\u0275fac=function(m){return new(m||W)},W.\u0275mod=I.oAB({type:W}),W.\u0275inj=I.cJS({}),W})();const cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fa(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"O email precisa ser preenchido."),I.qZA())}function ba(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,'O email precisa seguir o formato "usuario@dominio.com".'),I.qZA())}function x(W,E){if(1&W&&(I.TgZ(0,"div",24),I.YNc(1,Fa,2,0,"span",25),I.YNc(2,ba,2,0,"span",25),I.qZA()),2&W){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",null==m.email||null==m.email.errors?null:m.email.errors.required),I.xp6(1),I.Q6J("ngIf",null==m.email||null==m.email.errors?null:m.email.errors.email)}}function K(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"O email precisa ser preenchido."),I.qZA())}function V(W,E){if(1&W&&(I.TgZ(0,"div",24),I.YNc(1,K,2,0,"span",25),I.qZA()),2&W){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",null==m.email||null==m.email.errors?null:m.email.errors.required)}}function ne(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"O telefone precisa ser preenchido."),I.qZA())}function be(W,E){if(1&W&&(I.TgZ(0,"div",24),I.YNc(1,ne,2,0,"span",25),I.qZA()),2&W){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",null==m.telefone||null==m.telefone.errors?null:m.telefone.errors.required)}}function lt(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"A senha precisa ser preenchida."),I.qZA())}function Et(W,E){1&W&&(I.TgZ(0,"span"),I._uU(1,"A senha deve ter no m\xednimo 6 caracteres."),I.qZA())}function Dn(W,E){if(1&W&&(I.TgZ(0,"div",24),I.YNc(1,lt,2,0,"span",25),I.YNc(2,Et,2,0,"span",25),I.qZA()),2&W){const m=I.oxw();I.xp6(1),I.Q6J("ngIf",null==m.senha||null==m.senha.errors?null:m.senha.errors.required),I.xp6(1),I.Q6J("ngIf",null==m.senha||null==m.senha.errors?null:m.senha.errors.minlength)}}cl.KeyboardEvent||(cl.KeyboardEvent=function(W,E){});class Sr{constructor(E,m,C,$,J){this.formBuilder=E,this.authService=m,this.router=C,this.toastrService=$,this.afs=J}ngOnInit(){this.form=this.formBuilder.group({email:new mr.NI("",[mr.kI.required]),nome:new mr.NI("",[mr.kI.required]),telefone:new mr.NI("",[mr.kI.required,mr.kI.pattern(/^\([1-9]{2}\) [0-9]{4,5}-[0-9]{4}$/)]),senha:new mr.NI("",[mr.kI.required])})}get email(){return this.form.get("email")}get nome(){return this.form.get("nome")}get telefone(){return this.form.get("telefone")}get senha(){return this.form.get("senha")}cadastrar(){var E=this;return(0,Pi.Z)(function*(){const m=E.email?.value,C=E.nome?.value,$=E.senha?.value,J=E.telefone?.value;try{if((yield E.authService.cadastrar(m,$))?.user){const Se={email:m,nome:C,senha:$,telefone:J};E.afs.collection("usuarios").add(Se),E.router.navigate(["/painel"])}}catch(fe){E.toastrService.error(fe,"Falha na tentativa de login")}})()}}Sr.\u0275fac=function(E){return new(E||Sr)(I.Y36(mr.qu),I.Y36(hs.$),I.Y36(Wi.F0),I.Y36(Go._W),I.Y36(ll.ST))},Sr.\u0275cmp=I.Xpm({type:Sr,selectors:[["app-cadastro"]],decls:39,vars:9,consts:[[1,"mt-5"],[1,"container","py-3","px-3","px-md-5"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6"],["src","../assets/img/img-inicial.jpg","alt","Phone image",1,"img-fluid","rounded-3",2,"display","grid"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],[3,"formGroup","ngSubmit"],[1,"text-primary","fw-semibold","text-center",2,"padding-top","10px"],[1,"text-primary","fw-semibold","text-center"],[1,"form-group","my-3","position-relative"],["for","email",1,"form-label"],["data-cy","email","formControlName","email","type","text","id","email",1,"form-control","form-control-lg",3,"ngClass"],["class","invalid-tooltip",4,"ngIf"],["for","nome",1,"form-label"],["data-cy","nome","formControlName","nome","type","text","id","nome",1,"form-control","form-control-lg",3,"ngClass"],["for","telefone",1,"form-label"],["data-cy","telefone","formControlName","telefone","mask","(00) 0000-0000||(00) 00000-0000","id","telefone",1,"form-control","form-control-lg",3,"ngClass"],["for","senha",1,"form-label"],["data-cy","senha","formControlName","senha","type","password","id","senha",1,"form-control","form-control-lg",3,"ngClass"],[1,"form-group","my-3"],["role","button","routerLink","/login",1,"text-primary","text-decoration-none"],[1,"card-footer","g-grid","d-flex","gap-1","mt-4"],["data-cy","btnCadastrar","type","submit",1,"btn","btn-primary","px-5"],[1,"pi","pi-arrow-right","me-2","mr-"],[1,"invalid-tooltip"],[4,"ngIf"]],template:function(E,m){1&E&&(I.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),I._UZ(4,"img",4),I.qZA(),I.TgZ(5,"div",5)(6,"form",6),I.NdJ("ngSubmit",function(){return m.cadastrar()}),I.TgZ(7,"h1",7),I._uU(8,"Sistema De Auxilio a Depress\xe3o"),I.qZA(),I.TgZ(9,"h3",8),I._uU(10,"Cadastro "),I.qZA(),I.TgZ(11,"div",9)(12,"label",10),I._uU(13,"E-mail"),I.qZA(),I._UZ(14,"input",11),I.YNc(15,x,3,2,"div",12),I.qZA(),I.TgZ(16,"div",9)(17,"label",13),I._uU(18,"Nome"),I.qZA(),I._UZ(19,"input",14),I.YNc(20,V,2,1,"div",12),I.qZA(),I.TgZ(21,"div",9)(22,"label",15),I._uU(23,"Telefone"),I.qZA(),I._UZ(24,"input",16),I.YNc(25,be,2,1,"div",12),I.qZA(),I.TgZ(26,"div",9)(27,"label",17),I._uU(28,"Senha"),I.qZA(),I._UZ(29,"input",18),I.YNc(30,Dn,3,2,"div",12),I.qZA(),I.TgZ(31,"div",19),I._uU(32," Ainda n\xe3o \xe9 um usu\xe1rio? "),I.TgZ(33,"a",20),I._uU(34,"J\xe1 possui uma conta? Entre aqui!"),I.qZA()(),I.TgZ(35,"div",21)(36,"button",22),I._UZ(37,"i",23),I._uU(38," Entrar "),I.qZA()()()()()()()),2&E&&(I.xp6(6),I.Q6J("formGroup",m.form),I.xp6(8),I.Q6J("ngClass",null!=m.email&&m.email.touched&&null!=m.email&&m.email.invalid?"is-invalid":""),I.xp6(1),I.Q6J("ngIf",(null==m.email?null:m.email.touched)&&(null==m.email?null:m.email.invalid)),I.xp6(4),I.Q6J("ngClass",null!=m.nome&&m.nome.touched&&null!=m.nome&&m.nome.invalid?"is-invalid":""),I.xp6(1),I.Q6J("ngIf",(null==m.nome?null:m.nome.touched)&&(null==m.nome?null:m.nome.invalid)),I.xp6(4),I.Q6J("ngClass",null!=m.telefone&&m.telefone.touched&&null!=m.telefone&&m.telefone.invalid?"is-invalid":""),I.xp6(1),I.Q6J("ngIf",(null==m.telefone?null:m.telefone.touched)&&(null==m.telefone?null:m.telefone.invalid)),I.xp6(4),I.Q6J("ngClass",null!=m.senha&&m.senha.touched&&null!=m.senha&&m.senha.invalid?"is-invalid":""),I.xp6(1),I.Q6J("ngIf",(null==m.senha?null:m.senha.touched)&&(null==m.senha?null:m.senha.invalid)))},dependencies:[Yn.mk,Yn.O5,Wi.rH,mr._Y,mr.Fj,mr.JJ,mr.JL,mr.sg,mr.u,Xa],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]});const Tr=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:oa},{path:"cadastro",component:Sr},{path:"painel",component:la,canActivate:[Zs]},{path:"anotacoes",loadChildren:()=>j.e(818).then(j.bind(j,2818)).then(W=>W.AnotacaoModule),canActivate:[Zs]},{path:"ajuda",loadChildren:()=>j.e(716).then(j.bind(j,6716)).then(W=>W.AjudaModule),canActivate:[Zs]},{path:"medicos",loadChildren:()=>j.e(983).then(j.bind(j,7983)).then(W=>W.MedicosModule),canActivate:[Zs]}];class mt{}function gn(W,E){if(1&W){const m=I.EpF();I.TgZ(0,"div")(1,"nav",1)(2,"div",2)(3,"a",3),I._UZ(4,"img",4),I._uU(5,"Depress\xe3o-app"),I.qZA(),I.TgZ(6,"button",5),I.NdJ("click",function(){I.CHM(m);const $=I.oxw();return I.KtG($.estaColapsada=!$.estaColapsada)}),I._UZ(7,"span",6),I.qZA(),I.TgZ(8,"div",7)(9,"div",8)(10,"ul",9)(11,"li",10)(12,"a",11),I._UZ(13,"i",12),I._uU(14," Anota\xe7\xf5es"),I.qZA()(),I.TgZ(15,"li",10)(16,"a",13),I._UZ(17,"i",14),I._uU(18," Ajuda"),I.qZA()(),I.TgZ(19,"li",10)(20,"a",15),I._UZ(21,"i",16),I._uU(22," Contatos"),I.qZA()(),I.TgZ(23,"div",17)(24,"a",18),I.NdJ("click",function(){I.CHM(m);const $=I.oxw();return I.KtG($.sair())}),I._UZ(25,"i",19),I._uU(26," Sair"),I.qZA()()()()()()()()}if(2&W){const m=I.oxw();I.xp6(8),I.Q6J("ngbCollapse",!m.estaColapsada)}}mt.\u0275fac=function(E){return new(E||mt)},mt.\u0275mod=I.oAB({type:mt}),mt.\u0275inj=I.cJS({imports:[Wi.Bz.forRoot(Tr),Wi.Bz]});class Cr{constructor(E,m){this.authService=E,this.router=m,this.estaColapsada=!1}ngOnInit(){this.usuarioLogado=this.authService.usuarioLogado}sair(){this.authService.logout().then(()=>this.router.navigate(["/login"]))}}Cr.\u0275fac=function(E){return new(E||Cr)(I.Y36(hs.$),I.Y36(Wi.F0))},Cr.\u0275cmp=I.Xpm({type:Cr,selectors:[["app-navbar"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["routerLink","/painel","aria-current","page",1,"navbar-brand","text-primary","fw-semibold"],["src","../assets/img/logo.png","width","40","height","40"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"links","fw-semibold","w-100","text-center"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/anotacoes",1,"nav-link","active","text-primary"],[1,"pi","pi-book"],["aria-current","page","routerLink","/ajuda",1,"nav-link","active","text-primary"],[1,"pi","pi-heart"],["aria-current","page","routerLink","/medicos",1,"nav-link","active","text-primary"],[1,"pi","pi-calendar-plus"],[1,"ms-auto",2,"margin","0 auto"],["role","button",1,"btn","btn-primary","px-5",3,"click"],[1,"pi","pi-sign-out"]],template:function(E,m){1&E&&(I.YNc(0,gn,27,1,"div",0),I.ALo(1,"async")),2&E&&I.Q6J("ngIf",I.lcZ(1,1,m.usuarioLogado))},dependencies:[Yn.O5,Wi.rH,Es._D,Es.M2,Yn.Ov],styles:[".nav-item[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:hover{filter:drop-shadow(1px 1px rgb(124,176,245))}"]});class Gr{constructor(){this.title="depressao-app"}}Gr.\u0275fac=function(E){return new(E||Gr)},Gr.\u0275cmp=I.Xpm({type:Gr,selectors:[["app-root"]],decls:3,vars:0,template:function(E,m){1&E&&(I._UZ(0,"app-navbar"),I.TgZ(1,"main"),I._UZ(2,"router-outlet"),I.qZA())},dependencies:[Wi.lC,Cr]});var zt=j(2011),_n=j(1205);const li=void 0;(0,Yn.qS)(["pt",[["AM","PM"],li,li],li,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],li,[["a.C.","d.C."],li,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",li,li,li],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[li,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[li,"\u20b1"],PTE:["Esc."],RON:[li,"L"],SYP:[li,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function an(W){const m=Math.floor(Math.abs(W)),C=W.toString().replace(/^[^.]*\.?/,"").length,$=parseInt(W.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return m===Math.floor(m)&&m>=0&&m<=1?1:0===$&&0!==m&&m%1e6==0&&0===C||!($>=0&&$<=5)?4:5}]);class Wr{}Wr.\u0275fac=function(E){return new(E||Wr)},Wr.\u0275mod=I.oAB({type:Wr,bootstrap:[Gr]}),Wr.\u0275inj=I.cJS({providers:[hs.$,{provide:I.soG,useValue:"pt"},{provide:I.EJc,useValue:"BRL"}],imports:[a.b2,Us,mt,Es.IJ,mr.UX,zt.hO.initializeApp({apiKey:"AIzaSyCdZxyoJcoXUXHvBgBTD9HsAYumn6pc2hY",authDomain:"depressao-app.firebaseapp.com",databaseURL:"https://depressao-app-default-rtdb.firebaseio.com",projectId:"depressao-app",storageBucket:"depressao-app.appspot.com",messagingSenderId:"262364894669",appId:"1:262364894669:web:4d12bd2b77667acb85e084"}),_n.ww,ll.yb,Go.Rh.forRoot({positionClass:"toast-bottom-right"}),Ul.forRoot({validation:!1}),Ul.forChild()]}),a.q6().bootstrapModule(Wr).catch(W=>console.error(W))},1135:(un,et,j)=>{j.d(et,{X:()=>te});var a=j(7579);class te extends a.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const we=super._subscribe(pe);return!we.closed&&pe.next(this._value),we}getValue(){const{hasError:pe,thrownError:we,_value:De}=this;if(pe)throw we;return this._throwIfClosed(),De}next(pe){super.next(this._value=pe)}}},9751:(un,et,j)=>{j.d(et,{y:()=>Oe});var a=j(930),te=j(727),I=j(8822),pe=j(9635),we=j(2416),De=j(576),je=j(2806);let Oe=(()=>{class Me{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const St=new Me;return St.source=this,St.operator=ft,St}subscribe(ft,St,qt){const nt=function he(Me){return Me&&Me instanceof a.Lv||function ye(Me){return Me&&(0,De.m)(Me.next)&&(0,De.m)(Me.error)&&(0,De.m)(Me.complete)}(Me)&&(0,te.Nn)(Me)}(ft)?ft:new a.Hp(ft,St,qt);return(0,je.x)(()=>{const{operator:At,source:ve}=this;nt.add(At?At.call(nt,ve):ve?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(ft){try{return this._subscribe(ft)}catch(St){ft.error(St)}}forEach(ft,St){return new(St=Ge(St))((qt,nt)=>{const At=new a.Hp({next:ve=>{try{ft(ve)}catch(Ft){nt(Ft),At.unsubscribe()}},error:nt,complete:qt});this.subscribe(At)})}_subscribe(ft){var St;return null===(St=this.source)||void 0===St?void 0:St.subscribe(ft)}[I.L](){return this}pipe(...ft){return(0,pe.U)(ft)(this)}toPromise(ft){return new(ft=Ge(ft))((St,qt)=>{let nt;this.subscribe(At=>nt=At,At=>qt(At),()=>St(nt))})}}return Me.create=Pt=>new Me(Pt),Me})();function Ge(Me){var Pt;return null!==(Pt=Me??we.v.Promise)&&void 0!==Pt?Pt:Promise}},7579:(un,et,j)=>{j.d(et,{x:()=>je});var a=j(9751),te=j(727);const pe=(0,j(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=j(8737),De=j(2806);let je=(()=>{class Ge extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Me=new Oe(this,this);return Me.operator=he,Me}_throwIfClosed(){if(this.closed)throw new pe}next(he){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(he)}})}error(he){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Me}=this;for(;Me.length;)Me.shift().error(he)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Me,isStopped:Pt,observers:ft}=this;return Me||Pt?te.Lc:(this.currentObservers=null,ft.push(he),new te.w0(()=>{this.currentObservers=null,(0,we.P)(ft,he)}))}_checkFinalizedStatuses(he){const{hasError:Me,thrownError:Pt,isStopped:ft}=this;Me?he.error(Pt):ft&&he.complete()}asObservable(){const he=new a.y;return he.source=this,he}}return Ge.create=(ye,he)=>new Oe(ye,he),Ge})();class Oe extends je{constructor(ye,he){super(),this.destination=ye,this.source=he}next(ye){var he,Me;null===(Me=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Me||Me.call(he,ye)}error(ye){var he,Me;null===(Me=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Me||Me.call(he,ye)}complete(){var ye,he;null===(he=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===he||he.call(ye)}_subscribe(ye){var he,Me;return null!==(Me=null===(he=this.source)||void 0===he?void 0:he.subscribe(ye))&&void 0!==Me?Me:te.Lc}}},930:(un,et,j)=>{j.d(et,{Hp:()=>qt,Lv:()=>Me});var a=j(576),te=j(727),I=j(2416),pe=j(7849),we=j(5032);const De=Ge("C",void 0,void 0);function Ge(Ye,ge,We){return{kind:Ye,value:ge,error:We}}var ye=j(3410),he=j(2806);class Me extends te.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,te.Nn)(ge)&&ge.add(this)):this.destination=Ft}static create(ge,We,yt){return new qt(ge,We,yt)}next(ge){this.isStopped?ve(function Oe(Ye){return Ge("N",Ye,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?ve(function je(Ye){return Ge("E",void 0,Ye)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?ve(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pt=Function.prototype.bind;function ft(Ye,ge){return Pt.call(Ye,ge)}class St{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:We}=this;if(We.next)try{We.next(ge)}catch(yt){nt(yt)}}error(ge){const{partialObserver:We}=this;if(We.error)try{We.error(ge)}catch(yt){nt(yt)}else nt(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(We){nt(We)}}}class qt extends Me{constructor(ge,We,yt){let Tt;if(super(),(0,a.m)(ge)||!ge)Tt={next:ge??void 0,error:We??void 0,complete:yt??void 0};else{let ae;this&&I.v.useDeprecatedNextContext?(ae=Object.create(ge),ae.unsubscribe=()=>this.unsubscribe(),Tt={next:ge.next&&ft(ge.next,ae),error:ge.error&&ft(ge.error,ae),complete:ge.complete&&ft(ge.complete,ae)}):Tt=ge}this.destination=new St(Tt)}}function nt(Ye){I.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Ye):(0,pe.h)(Ye)}function ve(Ye,ge){const{onStoppedNotification:We}=I.v;We&&ye.z.setTimeout(()=>We(Ye,ge))}const Ft={closed:!0,next:we.Z,error:function At(Ye){throw Ye},complete:we.Z}},727:(un,et,j)=>{j.d(et,{Lc:()=>De,w0:()=>we,Nn:()=>je});var a=j(576);const I=(0,j(3888).d)(Ge=>function(he){Ge(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Me,Pt)=>`${Pt+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var pe=j(8737);class we{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ft of he)ft.remove(this);else he.remove(this);const{initialTeardown:Me}=this;if((0,a.m)(Me))try{Me()}catch(ft){ye=ft instanceof I?ft.errors:[ft]}const{_finalizers:Pt}=this;if(Pt){this._finalizers=null;for(const ft of Pt)try{Oe(ft)}catch(St){ye=ye??[],St instanceof I?ye=[...ye,...St.errors]:ye.push(St)}}if(ye)throw new I(ye)}}add(ye){var he;if(ye&&ye!==this)if(this.closed)Oe(ye);else{if(ye instanceof we){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ye)}}_hasParent(ye){const{_parentage:he}=this;return he===ye||Array.isArray(he)&&he.includes(ye)}_addParent(ye){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ye),he):he?[he,ye]:ye}_removeParent(ye){const{_parentage:he}=this;he===ye?this._parentage=null:Array.isArray(he)&&(0,pe.P)(he,ye)}remove(ye){const{_finalizers:he}=this;he&&(0,pe.P)(he,ye),ye instanceof we&&ye._removeParent(this)}}we.EMPTY=(()=>{const Ge=new we;return Ge.closed=!0,Ge})();const De=we.EMPTY;function je(Ge){return Ge instanceof we||Ge&&"closed"in Ge&&(0,a.m)(Ge.remove)&&(0,a.m)(Ge.add)&&(0,a.m)(Ge.unsubscribe)}function Oe(Ge){(0,a.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(un,et,j)=>{j.d(et,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(un,et,j)=>{j.d(et,{a:()=>ye});var a=j(9751),te=j(4742),I=j(8996),pe=j(4671),we=j(3268),De=j(3269),je=j(1810),Oe=j(5403),Ge=j(9672);function ye(...Pt){const ft=(0,De.yG)(Pt),St=(0,De.jO)(Pt),{args:qt,keys:nt}=(0,te.D)(Pt);if(0===qt.length)return(0,I.D)([],ft);const At=new a.y(function he(Pt,ft,St=pe.y){return qt=>{Me(ft,()=>{const{length:nt}=Pt,At=new Array(nt);let ve=nt,Ft=nt;for(let Ye=0;Ye<nt;Ye++)Me(ft,()=>{const ge=(0,I.D)(Pt[Ye],ft);let We=!1;ge.subscribe((0,Oe.x)(qt,yt=>{At[Ye]=yt,We||(We=!0,Ft--),Ft||qt.next(St(At.slice()))},()=>{--ve||qt.complete()}))},qt)},qt)}}(qt,ft,nt?ve=>(0,je.n)(nt,ve):pe.y));return St?At.pipe((0,we.Z)(St)):At}function Me(Pt,ft,St){Pt?(0,Ge.f)(St,Pt,ft):ft()}},7272:(un,et,j)=>{j.d(et,{z:()=>we});var a=j(8189),I=j(3269),pe=j(8996);function we(...De){return function te(){return(0,a.J)(1)}()((0,pe.D)(De,(0,I.yG)(De)))}},515:(un,et,j)=>{j.d(et,{E:()=>te});const te=new(j(9751).y)(we=>we.complete())},8996:(un,et,j)=>{j.d(et,{D:()=>ge});var a=j(8421),te=j(5363),I=j(9468),De=j(9751),Oe=j(2202),Ge=j(576),ye=j(9672);function Me(We,yt){if(!We)throw new Error("Iterable cannot be null");return new De.y(Tt=>{(0,ye.f)(Tt,yt,()=>{const ae=We[Symbol.asyncIterator]();(0,ye.f)(Tt,yt,()=>{ae.next().then(at=>{at.done?Tt.complete():Tt.next(at.value)})},0,!0)})})}var Pt=j(3670),ft=j(8239),St=j(1144),qt=j(6495),nt=j(2206),At=j(4532),ve=j(3260);function ge(We,yt){return yt?function Ye(We,yt){if(null!=We){if((0,Pt.c)(We))return function pe(We,yt){return(0,a.Xf)(We).pipe((0,I.R)(yt),(0,te.Q)(yt))}(We,yt);if((0,St.z)(We))return function je(We,yt){return new De.y(Tt=>{let ae=0;return yt.schedule(function(){ae===We.length?Tt.complete():(Tt.next(We[ae++]),Tt.closed||this.schedule())})})}(We,yt);if((0,ft.t)(We))return function we(We,yt){return(0,a.Xf)(We).pipe((0,I.R)(yt),(0,te.Q)(yt))}(We,yt);if((0,nt.D)(We))return Me(We,yt);if((0,qt.T)(We))return function he(We,yt){return new De.y(Tt=>{let ae;return(0,ye.f)(Tt,yt,()=>{ae=We[Oe.h](),(0,ye.f)(Tt,yt,()=>{let at,pt;try{({value:at,done:pt}=ae.next())}catch(Vt){return void Tt.error(Vt)}pt?Tt.complete():Tt.next(at)},0,!0)}),()=>(0,Ge.m)(ae?.return)&&ae.return()})}(We,yt);if((0,ve.L)(We))return function Ft(We,yt){return Me((0,ve.Q)(We),yt)}(We,yt)}throw(0,At.z)(We)}(We,yt):(0,a.Xf)(We)}},4968:(un,et,j)=>{j.d(et,{R:()=>ye});var a=j(8421),te=j(9751),I=j(5577),pe=j(1144),we=j(576),De=j(3268);const je=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],Ge=["on","off"];function ye(St,qt,nt,At){if((0,we.m)(nt)&&(At=nt,nt=void 0),At)return ye(St,qt,nt).pipe((0,De.Z)(At));const[ve,Ft]=function ft(St){return(0,we.m)(St.addEventListener)&&(0,we.m)(St.removeEventListener)}(St)?Oe.map(Ye=>ge=>St[Ye](qt,ge,nt)):function Me(St){return(0,we.m)(St.addListener)&&(0,we.m)(St.removeListener)}(St)?je.map(he(St,qt)):function Pt(St){return(0,we.m)(St.on)&&(0,we.m)(St.off)}(St)?Ge.map(he(St,qt)):[];if(!ve&&(0,pe.z)(St))return(0,I.z)(Ye=>ye(Ye,qt,nt))((0,a.Xf)(St));if(!ve)throw new TypeError("Invalid event target");return new te.y(Ye=>{const ge=(...We)=>Ye.next(1<We.length?We:We[0]);return ve(ge),()=>Ft(ge)})}function he(St,qt){return nt=>At=>St[nt](qt,At)}},8421:(un,et,j)=>{j.d(et,{Xf:()=>Pt});var a=j(655),te=j(1144),I=j(8239),pe=j(9751),we=j(3670),De=j(2206),je=j(4532),Oe=j(6495),Ge=j(3260),ye=j(576),he=j(7849),Me=j(8822);function Pt(Ye){if(Ye instanceof pe.y)return Ye;if(null!=Ye){if((0,we.c)(Ye))return function ft(Ye){return new pe.y(ge=>{const We=Ye[Me.L]();if((0,ye.m)(We.subscribe))return We.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ye);if((0,te.z)(Ye))return function St(Ye){return new pe.y(ge=>{for(let We=0;We<Ye.length&&!ge.closed;We++)ge.next(Ye[We]);ge.complete()})}(Ye);if((0,I.t)(Ye))return function qt(Ye){return new pe.y(ge=>{Ye.then(We=>{ge.closed||(ge.next(We),ge.complete())},We=>ge.error(We)).then(null,he.h)})}(Ye);if((0,De.D)(Ye))return At(Ye);if((0,Oe.T)(Ye))return function nt(Ye){return new pe.y(ge=>{for(const We of Ye)if(ge.next(We),ge.closed)return;ge.complete()})}(Ye);if((0,Ge.L)(Ye))return function ve(Ye){return At((0,Ge.Q)(Ye))}(Ye)}throw(0,je.z)(Ye)}function At(Ye){return new pe.y(ge=>{(function Ft(Ye,ge){var We,yt,Tt,ae;return(0,a.mG)(this,void 0,void 0,function*(){try{for(We=(0,a.KL)(Ye);!(yt=yield We.next()).done;)if(ge.next(yt.value),ge.closed)return}catch(at){Tt={error:at}}finally{try{yt&&!yt.done&&(ae=We.return)&&(yield ae.call(We))}finally{if(Tt)throw Tt.error}}ge.complete()})})(Ye,ge).catch(We=>ge.error(We))})}},6451:(un,et,j)=>{j.d(et,{T:()=>De});var a=j(8189),te=j(8421),I=j(515),pe=j(3269),we=j(8996);function De(...je){const Oe=(0,pe.yG)(je),Ge=(0,pe._6)(je,1/0),ye=je;return ye.length?1===ye.length?(0,te.Xf)(ye[0]):(0,a.J)(Ge)((0,we.D)(ye,Oe)):I.E}},9646:(un,et,j)=>{j.d(et,{of:()=>I});var a=j(3269),te=j(8996);function I(...pe){const we=(0,a.yG)(pe);return(0,te.D)(pe,we)}},5963:(un,et,j)=>{j.d(et,{H:()=>we});var a=j(9751),te=j(4986),I=j(3532);function we(De=0,je,Oe=te.P){let Ge=-1;return null!=je&&((0,I.K)(je)?Oe=je:Ge=je),new a.y(ye=>{let he=function pe(De){return De instanceof Date&&!isNaN(De)}(De)?+De-Oe.now():De;he<0&&(he=0);let Me=0;return Oe.schedule(function(){ye.closed||(ye.next(Me++),0<=Ge?this.schedule(void 0,Ge):ye.complete())},he)})}},5403:(un,et,j)=>{j.d(et,{x:()=>te});var a=j(930);function te(pe,we,De,je,Oe){return new I(pe,we,De,je,Oe)}class I extends a.Lv{constructor(we,De,je,Oe,Ge,ye){super(we),this.onFinalize=Ge,this.shouldUnsubscribe=ye,this._next=De?function(he){try{De(he)}catch(Me){we.error(Me)}}:super._next,this._error=Oe?function(he){try{Oe(he)}catch(Me){we.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(he){we.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},6590:(un,et,j)=>{j.d(et,{d:()=>I});var a=j(4482),te=j(5403);function I(pe){return(0,a.e)((we,De)=>{let je=!1;we.subscribe((0,te.x)(De,Oe=>{je=!0,De.next(Oe)},()=>{je||De.next(pe),De.complete()}))})}},1884:(un,et,j)=>{j.d(et,{x:()=>pe});var a=j(4671),te=j(4482),I=j(5403);function pe(De,je=a.y){return De=De??we,(0,te.e)((Oe,Ge)=>{let ye,he=!0;Oe.subscribe((0,I.x)(Ge,Me=>{const Pt=je(Me);(he||!De(ye,Pt))&&(he=!1,ye=Pt,Ge.next(Me))}))})}function we(De,je){return De===je}},9300:(un,et,j)=>{j.d(et,{h:()=>I});var a=j(4482),te=j(5403);function I(pe,we){return(0,a.e)((De,je)=>{let Oe=0;De.subscribe((0,te.x)(je,Ge=>pe.call(we,Ge,Oe++)&&je.next(Ge)))})}},590:(un,et,j)=>{j.d(et,{P:()=>je});var a=j(6805),te=j(9300),I=j(5698),pe=j(6590),we=j(8068),De=j(4671);function je(Oe,Ge){const ye=arguments.length>=2;return he=>he.pipe(Oe?(0,te.h)((Me,Pt)=>Oe(Me,Pt,he)):De.y,(0,I.q)(1),ye?(0,pe.d)(Ge):(0,we.T)(()=>new a.K))}},4004:(un,et,j)=>{j.d(et,{U:()=>I});var a=j(4482),te=j(5403);function I(pe,we){return(0,a.e)((De,je)=>{let Oe=0;De.subscribe((0,te.x)(je,Ge=>{je.next(pe.call(we,Ge,Oe++))}))})}},9718:(un,et,j)=>{j.d(et,{h:()=>te});var a=j(4004);function te(I){return(0,a.U)(()=>I)}},8189:(un,et,j)=>{j.d(et,{J:()=>I});var a=j(5577),te=j(4671);function I(pe=1/0){return(0,a.z)(te.y,pe)}},5577:(un,et,j)=>{j.d(et,{z:()=>Oe});var a=j(4004),te=j(8421),I=j(4482),pe=j(9672),we=j(5403),je=j(576);function Oe(Ge,ye,he=1/0){return(0,je.m)(ye)?Oe((Me,Pt)=>(0,a.U)((ft,St)=>ye(Me,ft,Pt,St))((0,te.Xf)(Ge(Me,Pt))),he):("number"==typeof ye&&(he=ye),(0,I.e)((Me,Pt)=>function De(Ge,ye,he,Me,Pt,ft,St,qt){const nt=[];let At=0,ve=0,Ft=!1;const Ye=()=>{Ft&&!nt.length&&!At&&ye.complete()},ge=yt=>At<Me?We(yt):nt.push(yt),We=yt=>{ft&&ye.next(yt),At++;let Tt=!1;(0,te.Xf)(he(yt,ve++)).subscribe((0,we.x)(ye,ae=>{Pt?.(ae),ft?ge(ae):ye.next(ae)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(At--;nt.length&&At<Me;){const ae=nt.shift();St?(0,pe.f)(ye,St,()=>We(ae)):We(ae)}Ye()}catch(ae){ye.error(ae)}}))};return Ge.subscribe((0,we.x)(ye,ge,()=>{Ft=!0,Ye()})),()=>{qt?.()}}(Me,Pt,Ge,he)))}},5363:(un,et,j)=>{j.d(et,{Q:()=>pe});var a=j(9672),te=j(4482),I=j(5403);function pe(we,De=0){return(0,te.e)((je,Oe)=>{je.subscribe((0,I.x)(Oe,Ge=>(0,a.f)(Oe,we,()=>Oe.next(Ge),De),()=>(0,a.f)(Oe,we,()=>Oe.complete(),De),Ge=>(0,a.f)(Oe,we,()=>Oe.error(Ge),De)))})}},5026:(un,et,j)=>{j.d(et,{R:()=>pe});var a=j(4482),te=j(5403);function I(we,De,je,Oe,Ge){return(ye,he)=>{let Me=je,Pt=De,ft=0;ye.subscribe((0,te.x)(he,St=>{const qt=ft++;Pt=Me?we(Pt,St,qt):(Me=!0,St),Oe&&he.next(Pt)},Ge&&(()=>{Me&&he.next(Pt),he.complete()})))}}function pe(we,De){return(0,a.e)(I(we,De,arguments.length>=2,!0))}},3099:(un,et,j)=>{j.d(et,{B:()=>we});var a=j(8421),te=j(7579),I=j(930),pe=j(4482);function we(je={}){const{connector:Oe=(()=>new te.x),resetOnError:Ge=!0,resetOnComplete:ye=!0,resetOnRefCountZero:he=!0}=je;return Me=>{let Pt,ft,St,qt=0,nt=!1,At=!1;const ve=()=>{ft?.unsubscribe(),ft=void 0},Ft=()=>{ve(),Pt=St=void 0,nt=At=!1},Ye=()=>{const ge=Pt;Ft(),ge?.unsubscribe()};return(0,pe.e)((ge,We)=>{qt++,!At&&!nt&&ve();const yt=St=St??Oe();We.add(()=>{qt--,0===qt&&!At&&!nt&&(ft=De(Ye,he))}),yt.subscribe(We),!Pt&&qt>0&&(Pt=new I.Hp({next:Tt=>yt.next(Tt),error:Tt=>{At=!0,ve(),ft=De(Ft,Ge,Tt),yt.error(Tt)},complete:()=>{nt=!0,ve(),ft=De(Ft,ye),yt.complete()}}),(0,a.Xf)(ge).subscribe(Pt))})(Me)}}function De(je,Oe,...Ge){if(!0===Oe)return void je();if(!1===Oe)return;const ye=new I.Hp({next:()=>{ye.unsubscribe(),je()}});return(0,a.Xf)(Oe(...Ge)).subscribe(ye)}},8675:(un,et,j)=>{j.d(et,{O:()=>pe});var a=j(7272),te=j(3269),I=j(4482);function pe(...we){const De=(0,te.yG)(we);return(0,I.e)((je,Oe)=>{(De?(0,a.z)(we,je,De):(0,a.z)(we,je)).subscribe(Oe)})}},9468:(un,et,j)=>{j.d(et,{R:()=>te});var a=j(4482);function te(I,pe=0){return(0,a.e)((we,De)=>{De.add(I.schedule(()=>we.subscribe(De),pe))})}},3900:(un,et,j)=>{j.d(et,{w:()=>pe});var a=j(8421),te=j(4482),I=j(5403);function pe(we,De){return(0,te.e)((je,Oe)=>{let Ge=null,ye=0,he=!1;const Me=()=>he&&!Ge&&Oe.complete();je.subscribe((0,I.x)(Oe,Pt=>{Ge?.unsubscribe();let ft=0;const St=ye++;(0,a.Xf)(we(Pt,St)).subscribe(Ge=(0,I.x)(Oe,qt=>Oe.next(De?De(Pt,qt,St,ft++):qt),()=>{Ge=null,Me()}))},()=>{he=!0,Me()}))})}},5698:(un,et,j)=>{j.d(et,{q:()=>pe});var a=j(515),te=j(4482),I=j(5403);function pe(we){return we<=0?()=>a.E:(0,te.e)((De,je)=>{let Oe=0;De.subscribe((0,I.x)(je,Ge=>{++Oe<=we&&(je.next(Ge),we<=Oe&&je.complete())}))})}},2722:(un,et,j)=>{j.d(et,{R:()=>we});var a=j(4482),te=j(5403),I=j(8421),pe=j(5032);function we(De){return(0,a.e)((je,Oe)=>{(0,I.Xf)(De).subscribe((0,te.x)(Oe,()=>Oe.complete(),pe.Z)),!Oe.closed&&je.subscribe(Oe)})}},8505:(un,et,j)=>{j.d(et,{b:()=>we});var a=j(576),te=j(4482),I=j(5403),pe=j(4671);function we(De,je,Oe){const Ge=(0,a.m)(De)||je||Oe?{next:De,error:je,complete:Oe}:De;return Ge?(0,te.e)((ye,he)=>{var Me;null===(Me=Ge.subscribe)||void 0===Me||Me.call(Ge);let Pt=!0;ye.subscribe((0,I.x)(he,ft=>{var St;null===(St=Ge.next)||void 0===St||St.call(Ge,ft),he.next(ft)},()=>{var ft;Pt=!1,null===(ft=Ge.complete)||void 0===ft||ft.call(Ge),he.complete()},ft=>{var St;Pt=!1,null===(St=Ge.error)||void 0===St||St.call(Ge,ft),he.error(ft)},()=>{var ft,St;Pt&&(null===(ft=Ge.unsubscribe)||void 0===ft||ft.call(Ge)),null===(St=Ge.finalize)||void 0===St||St.call(Ge)}))}):pe.y}},8068:(un,et,j)=>{j.d(et,{T:()=>pe});var a=j(6805),te=j(4482),I=j(5403);function pe(De=we){return(0,te.e)((je,Oe)=>{let Ge=!1;je.subscribe((0,I.x)(Oe,ye=>{Ge=!0,Oe.next(ye)},()=>Ge?Oe.complete():Oe.error(De())))})}function we(){return new a.K}},4408:(un,et,j)=>{j.d(et,{o:()=>we});var a=j(727);class te extends a.w0{constructor(je,Oe){super()}schedule(je,Oe=0){return this}}const I={setInterval(De,je,...Oe){const{delegate:Ge}=I;return Ge?.setInterval?Ge.setInterval(De,je,...Oe):setInterval(De,je,...Oe)},clearInterval(De){const{delegate:je}=I;return(je?.clearInterval||clearInterval)(De)},delegate:void 0};var pe=j(8737);class we extends te{constructor(je,Oe){super(je,Oe),this.scheduler=je,this.work=Oe,this.pending=!1}schedule(je,Oe=0){var Ge;if(this.closed)return this;this.state=je;const ye=this.id,he=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(he,ye,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(he,this.id,Oe),this}requestAsyncId(je,Oe,Ge=0){return I.setInterval(je.flush.bind(je,this),Ge)}recycleAsyncId(je,Oe,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return Oe;null!=Oe&&I.clearInterval(Oe)}execute(je,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(je,Oe);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,Oe){let ye,Ge=!1;try{this.work(je)}catch(he){Ge=!0,ye=he||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:je,scheduler:Oe}=this,{actions:Ge}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ge,this),null!=je&&(this.id=this.recycleAsyncId(Oe,je,null)),this.delay=null,super.unsubscribe()}}}},7565:(un,et,j)=>{j.d(et,{v:()=>I});var a=j(6063);class te{constructor(we,De=te.now){this.schedulerActionCtor=we,this.now=De}schedule(we,De=0,je){return new this.schedulerActionCtor(this,we).schedule(je,De)}}te.now=a.l.now;class I extends te{constructor(we,De=te.now){super(we,De),this.actions=[],this._active=!1}flush(we){const{actions:De}=this;if(this._active)return void De.push(we);let je;this._active=!0;do{if(je=we.execute(we.state,we.delay))break}while(we=De.shift());if(this._active=!1,je){for(;we=De.shift();)we.unsubscribe();throw je}}}},4986:(un,et,j)=>{j.d(et,{P:()=>pe,z:()=>I});var a=j(4408);const I=new(j(7565).v)(a.o),pe=I},6063:(un,et,j)=>{j.d(et,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(un,et,j)=>{j.d(et,{z:()=>a});const a={setTimeout(te,I,...pe){const{delegate:we}=a;return we?.setTimeout?we.setTimeout(te,I,...pe):setTimeout(te,I,...pe)},clearTimeout(te){const{delegate:I}=a;return(I?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(un,et,j)=>{j.d(et,{h:()=>te});const te=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(un,et,j)=>{j.d(et,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(un,et,j)=>{j.d(et,{K:()=>te});const te=(0,j(3888).d)(I=>function(){I(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(un,et,j)=>{j.d(et,{_6:()=>De,jO:()=>pe,yG:()=>we});var a=j(576),te=j(3532);function I(je){return je[je.length-1]}function pe(je){return(0,a.m)(I(je))?je.pop():void 0}function we(je){return(0,te.K)(I(je))?je.pop():void 0}function De(je,Oe){return"number"==typeof I(je)?je.pop():Oe}},4742:(un,et,j)=>{j.d(et,{D:()=>we});const{isArray:a}=Array,{getPrototypeOf:te,prototype:I,keys:pe}=Object;function we(je){if(1===je.length){const Oe=je[0];if(a(Oe))return{args:Oe,keys:null};if(function De(je){return je&&"object"==typeof je&&te(je)===I}(Oe)){const Ge=pe(Oe);return{args:Ge.map(ye=>Oe[ye]),keys:Ge}}}return{args:je,keys:null}}},8737:(un,et,j)=>{function a(te,I){if(te){const pe=te.indexOf(I);0<=pe&&te.splice(pe,1)}}j.d(et,{P:()=>a})},3888:(un,et,j)=>{function a(te){const pe=te(we=>{Error.call(we),we.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}j.d(et,{d:()=>a})},1810:(un,et,j)=>{function a(te,I){return te.reduce((pe,we,De)=>(pe[we]=I[De],pe),{})}j.d(et,{n:()=>a})},2806:(un,et,j)=>{j.d(et,{O:()=>pe,x:()=>I});var a=j(2416);let te=null;function I(we){if(a.v.useDeprecatedSynchronousErrorHandling){const De=!te;if(De&&(te={errorThrown:!1,error:null}),we(),De){const{errorThrown:je,error:Oe}=te;if(te=null,je)throw Oe}}else we()}function pe(we){a.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=we)}},9672:(un,et,j)=>{function a(te,I,pe,we=0,De=!1){const je=I.schedule(function(){pe(),De?te.add(this.schedule(null,we)):this.unsubscribe()},we);if(te.add(je),!De)return je}j.d(et,{f:()=>a})},4671:(un,et,j)=>{function a(te){return te}j.d(et,{y:()=>a})},1144:(un,et,j)=>{j.d(et,{z:()=>a});const a=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(un,et,j)=>{j.d(et,{D:()=>te});var a=j(576);function te(I){return Symbol.asyncIterator&&(0,a.m)(I?.[Symbol.asyncIterator])}},576:(un,et,j)=>{function a(te){return"function"==typeof te}j.d(et,{m:()=>a})},3670:(un,et,j)=>{j.d(et,{c:()=>I});var a=j(8822),te=j(576);function I(pe){return(0,te.m)(pe[a.L])}},6495:(un,et,j)=>{j.d(et,{T:()=>I});var a=j(2202),te=j(576);function I(pe){return(0,te.m)(pe?.[a.h])}},8239:(un,et,j)=>{j.d(et,{t:()=>te});var a=j(576);function te(I){return(0,a.m)(I?.then)}},3260:(un,et,j)=>{j.d(et,{L:()=>pe,Q:()=>I});var a=j(655),te=j(576);function I(we){return(0,a.FC)(this,arguments,function*(){const je=we.getReader();try{for(;;){const{value:Oe,done:Ge}=yield(0,a.qq)(je.read());if(Ge)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Oe)}}finally{je.releaseLock()}})}function pe(we){return(0,te.m)(we?.getReader)}},3532:(un,et,j)=>{j.d(et,{K:()=>te});var a=j(576);function te(I){return I&&(0,a.m)(I.schedule)}},4482:(un,et,j)=>{j.d(et,{A:()=>te,e:()=>I});var a=j(576);function te(pe){return(0,a.m)(pe?.lift)}function I(pe){return we=>{if(te(we))return we.lift(function(De){try{return pe(De,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(un,et,j)=>{j.d(et,{Z:()=>pe});var a=j(4004);const{isArray:te}=Array;function pe(we){return(0,a.U)(De=>function I(we,De){return te(De)?we(...De):we(De)}(we,De))}},5032:(un,et,j)=>{function a(){}j.d(et,{Z:()=>a})},9635:(un,et,j)=>{j.d(et,{U:()=>I,z:()=>te});var a=j(4671);function te(...pe){return I(pe)}function I(pe){return 0===pe.length?a.y:1===pe.length?pe[0]:function(De){return pe.reduce((je,Oe)=>Oe(je),De)}}},7849:(un,et,j)=>{j.d(et,{h:()=>I});var a=j(2416),te=j(3410);function I(pe){te.z.setTimeout(()=>{const{onUnhandledError:we}=a.v;if(!we)throw pe;we(pe)})}},4532:(un,et,j)=>{function a(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(et,{z:()=>a})},655:(un,et,j)=>{function pe(ct,bt){var st={};for(var Ct in ct)Object.prototype.hasOwnProperty.call(ct,Ct)&&bt.indexOf(Ct)<0&&(st[Ct]=ct[Ct]);if(null!=ct&&"function"==typeof Object.getOwnPropertySymbols){var kt=0;for(Ct=Object.getOwnPropertySymbols(ct);kt<Ct.length;kt++)bt.indexOf(Ct[kt])<0&&Object.prototype.propertyIsEnumerable.call(ct,Ct[kt])&&(st[Ct[kt]]=ct[Ct[kt]])}return st}function Me(ct,bt,st,Ct){return new(st||(st=Promise))(function(It,Yt){function Ue(Ce){try{Te(Ct.next(Ce))}catch(Ke){Yt(Ke)}}function Mt(Ce){try{Te(Ct.throw(Ce))}catch(Ke){Yt(Ke)}}function Te(Ce){Ce.done?It(Ce.value):function kt(It){return It instanceof st?It:new st(function(Yt){Yt(It)})}(Ce.value).then(Ue,Mt)}Te((Ct=Ct.apply(ct,bt||[])).next())})}function Ye(ct){return this instanceof Ye?(this.v=ct,this):new Ye(ct)}function ge(ct,bt,st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var kt,Ct=st.apply(ct,bt||[]),It=[];return kt={},Yt("next"),Yt("throw"),Yt("return"),kt[Symbol.asyncIterator]=function(){return this},kt;function Yt(Jt){Ct[Jt]&&(kt[Jt]=function(wn){return new Promise(function(Qn,fr){It.push([Jt,wn,Qn,fr])>1||Ue(Jt,wn)})})}function Ue(Jt,wn){try{!function Mt(Jt){Jt.value instanceof Ye?Promise.resolve(Jt.value.v).then(Te,Ce):Ke(It[0][2],Jt)}(Ct[Jt](wn))}catch(Qn){Ke(It[0][3],Qn)}}function Te(Jt){Ue("next",Jt)}function Ce(Jt){Ue("throw",Jt)}function Ke(Jt,wn){Jt(wn),It.shift(),It.length&&Ue(It[0][0],It[0][1])}}function yt(ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,bt=ct[Symbol.asyncIterator];return bt?bt.call(ct):(ct=function qt(ct){var bt="function"==typeof Symbol&&Symbol.iterator,st=bt&&ct[bt],Ct=0;if(st)return st.call(ct);if(ct&&"number"==typeof ct.length)return{next:function(){return ct&&Ct>=ct.length&&(ct=void 0),{value:ct&&ct[Ct++],done:!ct}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(ct),st={},Ct("next"),Ct("throw"),Ct("return"),st[Symbol.asyncIterator]=function(){return this},st);function Ct(It){st[It]=ct[It]&&function(Yt){return new Promise(function(Ue,Mt){!function kt(It,Yt,Ue,Mt){Promise.resolve(Mt).then(function(Te){It({value:Te,done:Ue})},Yt)}(Ue,Mt,(Yt=ct[It](Yt)).done,Yt.value)})}}}j.d(et,{FC:()=>ge,KL:()=>yt,_T:()=>pe,mG:()=>Me,qq:()=>Ye})},7340:(un,et,j)=>{j.d(et,{LC:()=>te,SB:()=>Ge,X$:()=>pe,ZE:()=>ve,ZN:()=>At,_j:()=>a,eR:()=>he,jt:()=>we,k1:()=>Ft,l3:()=>I,oB:()=>Oe,vP:()=>je});class a{}class te{}const I="*";function pe(Ye,ge){return{type:7,name:Ye,definitions:ge,options:{}}}function we(Ye,ge=null){return{type:4,styles:ge,timings:Ye}}function je(Ye,ge=null){return{type:2,steps:Ye,options:ge}}function Oe(Ye){return{type:6,styles:Ye,offset:null}}function Ge(Ye,ge,We){return{type:0,name:Ye,styles:ge,options:We}}function he(Ye,ge,We=null){return{type:1,expr:Ye,animation:ge,options:We}}function nt(Ye){Promise.resolve().then(Ye)}class At{constructor(ge=0,We=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ge+We}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}onStart(ge){this._originalOnStartFns.push(ge),this._onStartFns.push(ge)}onDone(ge){this._originalOnDoneFns.push(ge),this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ge=>ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ge){this._position=this.totalTime?ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ge){const We="start"==ge?this._onStartFns:this._onDoneFns;We.forEach(yt=>yt()),We.length=0}}class ve{constructor(ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ge;let We=0,yt=0,Tt=0;const ae=this.players.length;0==ae?nt(()=>this._onFinish()):this.players.forEach(at=>{at.onDone(()=>{++We==ae&&this._onFinish()}),at.onDestroy(()=>{++yt==ae&&this._onDestroy()}),at.onStart(()=>{++Tt==ae&&this._onStart()})}),this.totalTime=this.players.reduce((at,pt)=>Math.max(at,pt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}init(){this.players.forEach(ge=>ge.init())}onStart(ge){this._onStartFns.push(ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ge=>ge()),this._onStartFns=[])}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ge=>ge.play())}pause(){this.players.forEach(ge=>ge.pause())}restart(){this.players.forEach(ge=>ge.restart())}finish(){this._onFinish(),this.players.forEach(ge=>ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ge=>ge.destroy()),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this.players.forEach(ge=>ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ge){const We=ge*this.totalTime;this.players.forEach(yt=>{const Tt=yt.totalTime?Math.min(1,We/yt.totalTime):1;yt.setPosition(Tt)})}getPosition(){const ge=this.players.reduce((We,yt)=>null===We||yt.totalTime>We.totalTime?yt:We,null);return null!=ge?ge.getPosition():0}beforeDestroy(){this.players.forEach(ge=>{ge.beforeDestroy&&ge.beforeDestroy()})}triggerCallback(ge){const We="start"==ge?this._onStartFns:this._onDoneFns;We.forEach(yt=>yt()),We.length=0}}const Ft="!"},6895:(un,et,j)=>{j.d(et,{Do:()=>ve,EM:()=>Ls,HT:()=>pe,JF:()=>Qa,K0:()=>De,Mn:()=>Ct,Mx:()=>Fi,NF:()=>Vo,O5:()=>ji,Ov:()=>Kn,PM:()=>ga,S$:()=>qt,Tn:()=>Vt,UT:()=>kt,V_:()=>Ge,Ye:()=>Ft,Zx:()=>mo,ax:()=>Ni,b0:()=>At,bD:()=>yo,ez:()=>ea,mk:()=>tr,ol:()=>st,p6:()=>Ai,q:()=>I,qS:()=>ci,sg:()=>Ni,tP:()=>_s,uU:()=>Ui,w_:()=>we,x:()=>pt});var a=j(4650);let te=null;function I(){return te}function pe(x){te||(te=x)}class we{}const De=new a.OlP("DocumentToken");let je=(()=>{class x{historyGo(V){throw new Error("Not implemented")}}return x.\u0275fac=function(V){return new(V||x)},x.\u0275prov=a.Yz7({token:x,factory:function(){return function Oe(){return(0,a.LFG)(ye)}()},providedIn:"platform"}),x})();const Ge=new a.OlP("Location Initialized");let ye=(()=>{class x extends je{constructor(V){super(),this._doc=V,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(V){const ne=I().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",V,!1),()=>ne.removeEventListener("popstate",V)}onHashChange(V){const ne=I().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",V,!1),()=>ne.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,ne,be){he()?this._history.pushState(V,ne,be):this._location.hash=be}replaceState(V,ne,be){he()?this._history.replaceState(V,ne,be):this._location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return x.\u0275fac=function(V){return new(V||x)(a.LFG(De))},x.\u0275prov=a.Yz7({token:x,factory:function(){return function Me(){return new ye((0,a.LFG)(De))}()},providedIn:"platform"}),x})();function he(){return!!window.history.pushState}function Pt(x,K){if(0==x.length)return K;if(0==K.length)return x;let V=0;return x.endsWith("/")&&V++,K.startsWith("/")&&V++,2==V?x+K.substring(1):1==V?x+K:x+"/"+K}function ft(x){const K=x.match(/#|\?|$/),V=K&&K.index||x.length;return x.slice(0,V-("/"===x[V-1]?1:0))+x.slice(V)}function St(x){return x&&"?"!==x[0]?"?"+x:x}let qt=(()=>{class x{historyGo(V){throw new Error("Not implemented")}}return x.\u0275fac=function(V){return new(V||x)},x.\u0275prov=a.Yz7({token:x,factory:function(){return(0,a.f3M)(At)},providedIn:"root"}),x})();const nt=new a.OlP("appBaseHref");let At=(()=>{class x extends qt{constructor(V,ne){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Pt(this._baseHref,V)}path(V=!1){const ne=this._platformLocation.pathname+St(this._platformLocation.search),be=this._platformLocation.hash;return be&&V?`${ne}${be}`:ne}pushState(V,ne,be,lt){const Et=this.prepareExternalUrl(be+St(lt));this._platformLocation.pushState(V,ne,Et)}replaceState(V,ne,be,lt){const Et=this.prepareExternalUrl(be+St(lt));this._platformLocation.replaceState(V,ne,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return x.\u0275fac=function(V){return new(V||x)(a.LFG(je),a.LFG(nt,8))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),ve=(()=>{class x extends qt{constructor(V,ne){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(V){const ne=Pt(this._baseHref,V);return ne.length>0?"#"+ne:ne}pushState(V,ne,be,lt){let Et=this.prepareExternalUrl(be+St(lt));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(V,ne,Et)}replaceState(V,ne,be,lt){let Et=this.prepareExternalUrl(be+St(lt));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(V,ne,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}}return x.\u0275fac=function(V){return new(V||x)(a.LFG(je),a.LFG(nt,8))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac}),x})(),Ft=(()=>{class x{constructor(V){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const ne=this._locationStrategy.getBaseHref();this._basePath=function yt(x){if(new RegExp("^(https?:)?//").test(x)){const[,V]=x.split(/\/\/[^\/]+/);return V}return x}(ft(We(ne))),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,ne=""){return this.path()==this.normalize(V+St(ne))}normalize(V){return x.stripTrailingSlash(function ge(x,K){return x&&new RegExp(`^${x}([/;?#]|$)`).test(K)?K.substring(x.length):K}(this._basePath,We(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,ne="",be=null){this._locationStrategy.pushState(be,"",V,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+St(ne)),be)}replaceState(V,ne="",be=null){this._locationStrategy.replaceState(be,"",V,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+St(ne)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",ne){this._urlChangeListeners.forEach(be=>be(V,ne))}subscribe(V,ne,be){return this._subject.subscribe({next:V,error:ne,complete:be})}}return x.normalizeQueryParams=St,x.joinWithSlash=Pt,x.stripTrailingSlash=ft,x.\u0275fac=function(V){return new(V||x)(a.LFG(qt))},x.\u0275prov=a.Yz7({token:x,factory:function(){return function Ye(){return new Ft((0,a.LFG)(qt))}()},providedIn:"root"}),x})();function We(x){return x.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Percent=1]="Percent",ae[ae.Currency=2]="Currency",ae[ae.Scientific=3]="Scientific",ae))(),pt=(()=>((pt=pt||{})[pt.Format=0]="Format",pt[pt.Standalone=1]="Standalone",pt))(),Vt=(()=>((Vt=Vt||{})[Vt.Narrow=0]="Narrow",Vt[Vt.Abbreviated=1]="Abbreviated",Vt[Vt.Wide=2]="Wide",Vt[Vt.Short=3]="Short",Vt))(),rn=(()=>((rn=rn||{})[rn.Short=0]="Short",rn[rn.Medium=1]="Medium",rn[rn.Long=2]="Long",rn[rn.Full=3]="Full",rn))(),Kt=(()=>((Kt=Kt||{})[Kt.Decimal=0]="Decimal",Kt[Kt.Group=1]="Group",Kt[Kt.List=2]="List",Kt[Kt.PercentSign=3]="PercentSign",Kt[Kt.PlusSign=4]="PlusSign",Kt[Kt.MinusSign=5]="MinusSign",Kt[Kt.Exponential=6]="Exponential",Kt[Kt.SuperscriptingExponent=7]="SuperscriptingExponent",Kt[Kt.PerMille=8]="PerMille",Kt[Kt.Infinity=9]="Infinity",Kt[Kt.NaN=10]="NaN",Kt[Kt.TimeSeparator=11]="TimeSeparator",Kt[Kt.CurrencyDecimal=12]="CurrencyDecimal",Kt[Kt.CurrencyGroup=13]="CurrencyGroup",Kt))();function st(x,K,V){const ne=(0,a.cg1)(x),lt=Le([ne[a.wAp.DayPeriodsFormat],ne[a.wAp.DayPeriodsStandalone]],K);return Le(lt,V)}function Ct(x,K,V){const ne=(0,a.cg1)(x),lt=Le([ne[a.wAp.DaysFormat],ne[a.wAp.DaysStandalone]],K);return Le(lt,V)}function kt(x,K,V){const ne=(0,a.cg1)(x),lt=Le([ne[a.wAp.MonthsFormat],ne[a.wAp.MonthsStandalone]],K);return Le(lt,V)}function Mt(x,K){return Le((0,a.cg1)(x)[a.wAp.DateFormat],K)}function Te(x,K){return Le((0,a.cg1)(x)[a.wAp.TimeFormat],K)}function Ce(x,K){return Le((0,a.cg1)(x)[a.wAp.DateTimeFormat],K)}function Ke(x,K){const V=(0,a.cg1)(x),ne=V[a.wAp.NumberSymbols][K];if(typeof ne>"u"){if(K===Kt.CurrencyDecimal)return V[a.wAp.NumberSymbols][Kt.Decimal];if(K===Kt.CurrencyGroup)return V[a.wAp.NumberSymbols][Kt.Group]}return ne}function Xn(x){if(!x[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${x[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Le(x,K){for(let V=K;V>-1;V--)if(typeof x[V]<"u")return x[V];throw new Error("Locale data API: locale data undefined")}function dt(x){const[K,V]=x.split(":");return{hours:+K,minutes:+V}}const jn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sr={},Pr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kn=(()=>((kn=kn||{})[kn.Short=0]="Short",kn[kn.ShortGMT=1]="ShortGMT",kn[kn.Long=2]="Long",kn[kn.Extended=3]="Extended",kn))(),Tn=(()=>((Tn=Tn||{})[Tn.FullYear=0]="FullYear",Tn[Tn.Month=1]="Month",Tn[Tn.Date=2]="Date",Tn[Tn.Hours=3]="Hours",Tn[Tn.Minutes=4]="Minutes",Tn[Tn.Seconds=5]="Seconds",Tn[Tn.FractionalSeconds=6]="FractionalSeconds",Tn[Tn.Day=7]="Day",Tn))(),An=(()=>((An=An||{})[An.DayPeriods=0]="DayPeriods",An[An.Days=1]="Days",An[An.Months=2]="Months",An[An.Eras=3]="Eras",An))();function Ai(x,K,V,ne){let be=function fn(x){if(Hn(x))return x;if("number"==typeof x&&!isNaN(x))return new Date(x);if("string"==typeof x){if(x=x.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(x)){const[be,lt=1,Et=1]=x.split("-").map(Dn=>+Dn);return zn(be,lt-1,Et)}const V=parseFloat(x);if(!isNaN(x-V))return new Date(V);let ne;if(ne=x.match(jn))return function qn(x){const K=new Date(0);let V=0,ne=0;const be=x[8]?K.setUTCFullYear:K.setFullYear,lt=x[8]?K.setUTCHours:K.setHours;x[9]&&(V=Number(x[9]+x[10]),ne=Number(x[9]+x[11])),be.call(K,Number(x[1]),Number(x[2])-1,Number(x[3]));const Et=Number(x[4]||0)-V,Dn=Number(x[5]||0)-ne,Sr=Number(x[6]||0),Tr=Math.floor(1e3*parseFloat("0."+(x[7]||0)));return lt.call(K,Et,Dn,Sr,Tr),K}(ne)}const K=new Date(x);if(!Hn(K))throw new Error(`Unable to convert "${x}" into a date`);return K}(x);K=bn(V,K)||K;let Dn,Et=[];for(;K;){if(Dn=Pr.exec(K),!Dn){Et.push(K);break}{Et=Et.concat(Dn.slice(1));const mt=Et.pop();if(!mt)break;K=mt}}let Sr=be.getTimezoneOffset();ne&&(Sr=ke(ne,Sr),be=function it(x,K,V){const ne=V?-1:1,be=x.getTimezoneOffset();return function Dt(x,K){return(x=new Date(x.getTime())).setMinutes(x.getMinutes()+K),x}(x,ne*(ke(K,be)-be))}(be,ne,!0));let Tr="";return Et.forEach(mt=>{const gn=function _e(x){if(Ie[x])return Ie[x];let K;switch(x){case"G":case"GG":case"GGG":K=er(An.Eras,Vt.Abbreviated);break;case"GGGG":K=er(An.Eras,Vt.Wide);break;case"GGGGG":K=er(An.Eras,Vt.Narrow);break;case"y":K=Nr(Tn.FullYear,1,0,!1,!0);break;case"yy":K=Nr(Tn.FullYear,2,0,!0,!0);break;case"yyy":K=Nr(Tn.FullYear,3,0,!1,!0);break;case"yyyy":K=Nr(Tn.FullYear,4,0,!1,!0);break;case"Y":K=Fn(1);break;case"YY":K=Fn(2,!0);break;case"YYY":K=Fn(3);break;case"YYYY":K=Fn(4);break;case"M":case"L":K=Nr(Tn.Month,1,1);break;case"MM":case"LL":K=Nr(Tn.Month,2,1);break;case"MMM":K=er(An.Months,Vt.Abbreviated);break;case"MMMM":K=er(An.Months,Vt.Wide);break;case"MMMMM":K=er(An.Months,Vt.Narrow);break;case"LLL":K=er(An.Months,Vt.Abbreviated,pt.Standalone);break;case"LLLL":K=er(An.Months,Vt.Wide,pt.Standalone);break;case"LLLLL":K=er(An.Months,Vt.Narrow,pt.Standalone);break;case"w":K=Rn(1);break;case"ww":K=Rn(2);break;case"W":K=Rn(1,!0);break;case"d":K=Nr(Tn.Date,1);break;case"dd":K=Nr(Tn.Date,2);break;case"c":case"cc":K=Nr(Tn.Day,1);break;case"ccc":K=er(An.Days,Vt.Abbreviated,pt.Standalone);break;case"cccc":K=er(An.Days,Vt.Wide,pt.Standalone);break;case"ccccc":K=er(An.Days,Vt.Narrow,pt.Standalone);break;case"cccccc":K=er(An.Days,Vt.Short,pt.Standalone);break;case"E":case"EE":case"EEE":K=er(An.Days,Vt.Abbreviated);break;case"EEEE":K=er(An.Days,Vt.Wide);break;case"EEEEE":K=er(An.Days,Vt.Narrow);break;case"EEEEEE":K=er(An.Days,Vt.Short);break;case"a":case"aa":case"aaa":K=er(An.DayPeriods,Vt.Abbreviated);break;case"aaaa":K=er(An.DayPeriods,Vt.Wide);break;case"aaaaa":K=er(An.DayPeriods,Vt.Narrow);break;case"b":case"bb":case"bbb":K=er(An.DayPeriods,Vt.Abbreviated,pt.Standalone,!0);break;case"bbbb":K=er(An.DayPeriods,Vt.Wide,pt.Standalone,!0);break;case"bbbbb":K=er(An.DayPeriods,Vt.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":K=er(An.DayPeriods,Vt.Abbreviated,pt.Format,!0);break;case"BBBB":K=er(An.DayPeriods,Vt.Wide,pt.Format,!0);break;case"BBBBB":K=er(An.DayPeriods,Vt.Narrow,pt.Format,!0);break;case"h":K=Nr(Tn.Hours,1,-12);break;case"hh":K=Nr(Tn.Hours,2,-12);break;case"H":K=Nr(Tn.Hours,1);break;case"HH":K=Nr(Tn.Hours,2);break;case"m":K=Nr(Tn.Minutes,1);break;case"mm":K=Nr(Tn.Minutes,2);break;case"s":K=Nr(Tn.Seconds,1);break;case"ss":K=Nr(Tn.Seconds,2);break;case"S":K=Nr(Tn.FractionalSeconds,1);break;case"SS":K=Nr(Tn.FractionalSeconds,2);break;case"SSS":K=Nr(Tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":K=zr(kn.Short);break;case"ZZZZZ":K=zr(kn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":K=zr(kn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":K=zr(kn.Long);break;default:return null}return Ie[x]=K,K}(mt);Tr+=gn?gn(be,V,Sr):"''"===mt?"'":mt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Tr}function zn(x,K,V){const ne=new Date(0);return ne.setFullYear(x,K,V),ne.setHours(0,0,0),ne}function bn(x,K){const V=function bt(x){return(0,a.cg1)(x)[a.wAp.LocaleId]}(x);if(sr[V]=sr[V]||{},sr[V][K])return sr[V][K];let ne="";switch(K){case"shortDate":ne=Mt(x,rn.Short);break;case"mediumDate":ne=Mt(x,rn.Medium);break;case"longDate":ne=Mt(x,rn.Long);break;case"fullDate":ne=Mt(x,rn.Full);break;case"shortTime":ne=Te(x,rn.Short);break;case"mediumTime":ne=Te(x,rn.Medium);break;case"longTime":ne=Te(x,rn.Long);break;case"fullTime":ne=Te(x,rn.Full);break;case"short":const be=bn(x,"shortTime"),lt=bn(x,"shortDate");ne=Er(Ce(x,rn.Short),[be,lt]);break;case"medium":const Et=bn(x,"mediumTime"),Dn=bn(x,"mediumDate");ne=Er(Ce(x,rn.Medium),[Et,Dn]);break;case"long":const Sr=bn(x,"longTime"),Tr=bn(x,"longDate");ne=Er(Ce(x,rn.Long),[Sr,Tr]);break;case"full":const mt=bn(x,"fullTime"),gn=bn(x,"fullDate");ne=Er(Ce(x,rn.Full),[mt,gn])}return ne&&(sr[V][K]=ne),ne}function Er(x,K){return K&&(x=x.replace(/\{([^}]+)}/g,function(V,ne){return null!=K&&ne in K?K[ne]:V})),x}function Yr(x,K,V="-",ne,be){let lt="";(x<0||be&&x<=0)&&(be?x=1-x:(x=-x,lt=V));let Et=String(x);for(;Et.length<K;)Et="0"+Et;return ne&&(Et=Et.slice(Et.length-K)),lt+Et}function Nr(x,K,V=0,ne=!1,be=!1){return function(lt,Et){let Dn=function fi(x,K){switch(x){case Tn.FullYear:return K.getFullYear();case Tn.Month:return K.getMonth();case Tn.Date:return K.getDate();case Tn.Hours:return K.getHours();case Tn.Minutes:return K.getMinutes();case Tn.Seconds:return K.getSeconds();case Tn.FractionalSeconds:return K.getMilliseconds();case Tn.Day:return K.getDay();default:throw new Error(`Unknown DateType value "${x}".`)}}(x,lt);if((V>0||Dn>-V)&&(Dn+=V),x===Tn.Hours)0===Dn&&-12===V&&(Dn=12);else if(x===Tn.FractionalSeconds)return function ki(x,K){return Yr(x,3).substring(0,K)}(Dn,K);const Sr=Ke(Et,Kt.MinusSign);return Yr(Dn,K,Sr,ne,be)}}function er(x,K,V=pt.Format,ne=!1){return function(be,lt){return function Qr(x,K,V,ne,be,lt){switch(V){case An.Months:return kt(K,be,ne)[x.getMonth()];case An.Days:return Ct(K,be,ne)[x.getDay()];case An.DayPeriods:const Et=x.getHours(),Dn=x.getMinutes();if(lt){const Tr=function ir(x){const K=(0,a.cg1)(x);return Xn(K),(K[a.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?dt(ne):[dt(ne[0]),dt(ne[1])])}(K),mt=function Ve(x,K,V){const ne=(0,a.cg1)(x);Xn(ne);const lt=Le([ne[a.wAp.ExtraData][0],ne[a.wAp.ExtraData][1]],K)||[];return Le(lt,V)||[]}(K,be,ne),gn=Tr.findIndex(Cr=>{if(Array.isArray(Cr)){const[Gr,zt]=Cr,_n=Et>=Gr.hours&&Dn>=Gr.minutes,li=Et<zt.hours||Et===zt.hours&&Dn<zt.minutes;if(Gr.hours<zt.hours){if(_n&&li)return!0}else if(_n||li)return!0}else if(Cr.hours===Et&&Cr.minutes===Dn)return!0;return!1});if(-1!==gn)return mt[gn]}return st(K,be,ne)[Et<12?0:1];case An.Eras:return function It(x,K){return Le((0,a.cg1)(x)[a.wAp.Eras],K)}(K,ne)[x.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(be,lt,x,K,V,ne)}}function zr(x){return function(K,V,ne){const be=-1*ne,lt=Ke(V,Kt.MinusSign),Et=be>0?Math.floor(be/60):Math.ceil(be/60);switch(x){case kn.Short:return(be>=0?"+":"")+Yr(Et,2,lt)+Yr(Math.abs(be%60),2,lt);case kn.ShortGMT:return"GMT"+(be>=0?"+":"")+Yr(Et,1,lt);case kn.Long:return"GMT"+(be>=0?"+":"")+Yr(Et,2,lt)+":"+Yr(Math.abs(be%60),2,lt);case kn.Extended:return 0===ne?"Z":(be>=0?"+":"")+Yr(Et,2,lt)+":"+Yr(Math.abs(be%60),2,lt);default:throw new Error(`Unknown zone width "${x}"`)}}}function Un(x){return zn(x.getFullYear(),x.getMonth(),x.getDate()+(4-x.getDay()))}function Rn(x,K=!1){return function(V,ne){let be;if(K){const lt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Et=V.getDate();be=1+Math.floor((Et+lt)/7)}else{const lt=Un(V),Et=function cn(x){const K=zn(x,0,1).getDay();return zn(x,0,1+(K<=4?4:11)-K)}(lt.getFullYear()),Dn=lt.getTime()-Et.getTime();be=1+Math.round(Dn/6048e5)}return Yr(be,x,Ke(ne,Kt.MinusSign))}}function Fn(x,K=!1){return function(V,ne){return Yr(Un(V).getFullYear(),x,Ke(ne,Kt.MinusSign),K)}}const Ie={};function ke(x,K){x=x.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+x)/6e4;return isNaN(V)?K:V}function Hn(x){return x instanceof Date&&!isNaN(x.valueOf())}const xr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function eo(x){const K=parseInt(x);if(isNaN(K))throw new Error("Invalid integer literal when parsing "+x);return K}function ci(x,K,V){return(0,a.dwT)(x,K,V)}function Fi(x,K){K=encodeURIComponent(K);for(const V of x.split(";")){const ne=V.indexOf("="),[be,lt]=-1==ne?[V,""]:[V.slice(0,ne),V.slice(ne+1)];if(be.trim()===K)return decodeURIComponent(lt)}return null}const rs=/\s+/,hn=[];let tr=(()=>{class x{constructor(V,ne,be,lt){this._iterableDiffers=V,this._keyValueDiffers=ne,this._ngEl=be,this._renderer=lt,this.initialClasses=hn,this.stateMap=new Map}set klass(V){this.initialClasses=null!=V?V.trim().split(rs):hn}set ngClass(V){this.rawClass="string"==typeof V?V.trim().split(rs):V}ngDoCheck(){for(const ne of this.initialClasses)this._updateState(ne,!0);const V=this.rawClass;if(Array.isArray(V)||V instanceof Set)for(const ne of V)this._updateState(ne,!0);else if(null!=V)for(const ne of Object.keys(V))this._updateState(ne,Boolean(V[ne]));this._applyStateDiff()}_updateState(V,ne){const be=this.stateMap.get(V);void 0!==be?(be.enabled!==ne&&(be.changed=!0,be.enabled=ne),be.touched=!0):this.stateMap.set(V,{enabled:ne,changed:!0,touched:!0})}_applyStateDiff(){for(const V of this.stateMap){const ne=V[0],be=V[1];be.changed?(this._toggleClass(ne,be.enabled),be.changed=!1):be.touched||(be.enabled&&this._toggleClass(ne,!1),this.stateMap.delete(ne)),be.touched=!1}}_toggleClass(V,ne){(V=V.trim()).length>0&&V.split(rs).forEach(be=>{ne?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),x})();class di{constructor(K,V,ne,be){this.$implicit=K,this.ngForOf=V,this.index=ne,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class x{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,ne,be){this._viewContainer=V,this._template=ne,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ne=this._viewContainer;V.forEachOperation((be,lt,Et)=>{if(null==be.previousIndex)ne.createEmbeddedView(this._template,new di(be.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)ne.remove(null===lt?void 0:lt);else if(null!==lt){const Dn=ne.get(lt);ne.move(Dn,Et),Ar(Dn,be)}});for(let be=0,lt=ne.length;be<lt;be++){const Dn=ne.get(be).context;Dn.index=be,Dn.count=lt,Dn.ngForOf=this._ngForOf}V.forEachIdentityChange(be=>{Ar(ne.get(be.currentIndex),be)})}static ngTemplateContextGuard(V,ne){return!0}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function Ar(x,K){x.context.$implicit=K.item}let ji=(()=>{class x{constructor(V,ne){this._viewContainer=V,this._context=new cr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){to("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){to("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ne){return!0}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.s_b),a.Y36(a.Rgc))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class cr{constructor(){this.$implicit=null,this.ngIf=null}}function to(x,K){if(K&&!K.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,a.AaK)(K)}'.`)}let _s=(()=>{class x{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(V.ngTemplateOutlet||V.ngTemplateOutletInjector){const ne=this._viewContainerRef;if(this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:lt,ngTemplateOutletInjector:Et}=this;this._viewRef=ne.createEmbeddedView(be,lt,Et?{injector:Et}:void 0)}else this._viewRef=null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.s_b))},x.\u0275dir=a.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),x})();function Fe(x,K){return new a.vHH(2100,!1)}class Xe{createSubscription(K,V){return K.subscribe({next:V,error:ne=>{throw ne}})}dispose(K){K.unsubscribe()}}class Lt{createSubscription(K,V){return K.then(V,ne=>{throw ne})}dispose(K){}}const en=new Lt,Nn=new Xe;let Kn=(()=>{class x{constructor(V){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=V}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,ne=>this._updateLatestValue(V,ne))}_selectStrategy(V){if((0,a.QGY)(V))return en;if((0,a.F4k)(V))return Nn;throw Fe()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,ne){V===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.sBO,16))},x.\u0275pipe=a.Yjl({name:"async",type:x,pure:!1,standalone:!0}),x})();const Bi=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),no=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ui=(()=>{class x{constructor(V,ne,be){this.locale=V,this.defaultTimezone=ne,this.defaultOptions=be}transform(V,ne,be,lt){if(null==V||""===V||V!=V)return null;try{return Ai(V,ne??this.defaultOptions?.dateFormat??"mediumDate",lt||this.locale,be??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Et){throw Fe()}}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.soG,16),a.Y36(Bi,24),a.Y36(no,24))},x.\u0275pipe=a.Yjl({name:"date",type:x,pure:!0,standalone:!0}),x})(),mo=(()=>{class x{constructor(V){this._locale=V}transform(V,ne,be){if(!function Fs(x){return!(null==x||""===x||x!=x)}(V))return null;be=be||this._locale;try{return function pi(x,K,V){return function Jr(x,K,V,ne,be,lt,Et=!1){let Dn="",Sr=!1;if(isFinite(x)){let Tr=function Ps(x){let ne,be,lt,Et,Dn,K=Math.abs(x)+"",V=0;for((be=K.indexOf("."))>-1&&(K=K.replace(".","")),(lt=K.search(/e/i))>0?(be<0&&(be=lt),be+=+K.slice(lt+1),K=K.substring(0,lt)):be<0&&(be=K.length),lt=0;"0"===K.charAt(lt);lt++);if(lt===(Dn=K.length))ne=[0],be=1;else{for(Dn--;"0"===K.charAt(Dn);)Dn--;for(be-=lt,ne=[],Et=0;lt<=Dn;lt++,Et++)ne[Et]=Number(K.charAt(lt))}return be>22&&(ne=ne.splice(0,21),V=be-1,be=1),{digits:ne,exponent:V,integerLen:be}}(x);Et&&(Tr=function Yi(x){if(0===x.digits[0])return x;const K=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===K?x.digits.push(0,0):1===K&&x.digits.push(0),x.integerLen+=2),x}(Tr));let mt=K.minInt,gn=K.minFrac,Cr=K.maxFrac;if(lt){const ht=lt.match(xr);if(null===ht)throw new Error(`${lt} is not a valid digit info`);const Ht=ht[1],Wr=ht[3],W=ht[5];null!=Ht&&(mt=eo(Ht)),null!=Wr&&(gn=eo(Wr)),null!=W?Cr=eo(W):null!=Wr&&gn>Cr&&(Cr=gn)}!function cs(x,K,V){if(K>V)throw new Error(`The minimum number of digits after fraction (${K}) is higher than the maximum (${V}).`);let ne=x.digits,be=ne.length-x.integerLen;const lt=Math.min(Math.max(K,be),V);let Et=lt+x.integerLen,Dn=ne[Et];if(Et>0){ne.splice(Math.max(x.integerLen,Et));for(let gn=Et;gn<ne.length;gn++)ne[gn]=0}else{be=Math.max(0,be),x.integerLen=1,ne.length=Math.max(1,Et=lt+1),ne[0]=0;for(let gn=1;gn<Et;gn++)ne[gn]=0}if(Dn>=5)if(Et-1<0){for(let gn=0;gn>Et;gn--)ne.unshift(0),x.integerLen++;ne.unshift(1),x.integerLen++}else ne[Et-1]++;for(;be<Math.max(0,lt);be++)ne.push(0);let Sr=0!==lt;const Tr=K+x.integerLen,mt=ne.reduceRight(function(gn,Cr,Gr,zt){return zt[Gr]=(Cr+=gn)<10?Cr:Cr-10,Sr&&(0===zt[Gr]&&Gr>=Tr?zt.pop():Sr=!1),Cr>=10?1:0},0);mt&&(ne.unshift(mt),x.integerLen++)}(Tr,gn,Cr);let Gr=Tr.digits,zt=Tr.integerLen;const _n=Tr.exponent;let li=[];for(Sr=Gr.every(ht=>!ht);zt<mt;zt++)Gr.unshift(0);for(;zt<0;zt++)Gr.unshift(0);zt>0?li=Gr.splice(zt,Gr.length):(li=Gr,Gr=[0]);const an=[];for(Gr.length>=K.lgSize&&an.unshift(Gr.splice(-K.lgSize,Gr.length).join(""));Gr.length>K.gSize;)an.unshift(Gr.splice(-K.gSize,Gr.length).join(""));Gr.length&&an.unshift(Gr.join("")),Dn=an.join(Ke(V,ne)),li.length&&(Dn+=Ke(V,be)+li.join("")),_n&&(Dn+=Ke(V,Kt.Exponential)+"+"+_n)}else Dn=Ke(V,Kt.Infinity);return Dn=x<0&&!Sr?K.negPre+Dn+K.negSuf:K.posPre+Dn+K.posSuf,Dn}(x,function kr(x,K="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ne=x.split(";"),be=ne[0],lt=ne[1],Et=-1!==be.indexOf(".")?be.split("."):[be.substring(0,be.lastIndexOf("0")+1),be.substring(be.lastIndexOf("0")+1)],Dn=Et[0],Sr=Et[1]||"";V.posPre=Dn.substring(0,Dn.indexOf("#"));for(let mt=0;mt<Sr.length;mt++){const gn=Sr.charAt(mt);"0"===gn?V.minFrac=V.maxFrac=mt+1:"#"===gn?V.maxFrac=mt+1:V.posSuf+=gn}const Tr=Dn.split(",");if(V.gSize=Tr[1]?Tr[1].length:0,V.lgSize=Tr[2]||Tr[1]?(Tr[2]||Tr[1]).length:0,lt){const mt=be.length-V.posPre.length-V.posSuf.length,gn=lt.indexOf("#");V.negPre=lt.substring(0,gn).replace(/'/g,""),V.negSuf=lt.slice(gn+mt).replace(/'/g,"")}else V.negPre=K+V.posPre,V.negSuf=V.posSuf;return V}(function Jt(x,K){return(0,a.cg1)(x)[a.wAp.NumberFormats][K]}(K,ae.Percent),Ke(K,Kt.MinusSign)),K,Kt.Group,Kt.Decimal,V,!0).replace(new RegExp("%","g"),Ke(K,Kt.PercentSign))}(function Co(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}(V),be,ne)}catch(lt){throw Fe()}}}return x.\u0275fac=function(V){return new(V||x)(a.Y36(a.soG,16))},x.\u0275pipe=a.Yjl({name:"percent",type:x,pure:!0,standalone:!0}),x})();let ea=(()=>{class x{}return x.\u0275fac=function(V){return new(V||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({}),x})();const yo="browser";function Vo(x){return x===yo}function ga(x){return"server"===x}let Ls=(()=>{class x{}return x.\u0275prov=(0,a.Yz7)({token:x,providedIn:"root",factory:()=>new ma((0,a.LFG)(De),window)}),x})();class ma{constructor(K,V){this.document=K,this.window=V,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const V=function ss(x,K){const V=x.getElementById(K)||x.getElementsByName(K)[0];if(V)return V;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const ne=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let be=ne.currentNode;for(;be;){const lt=be.shadowRoot;if(lt){const Et=lt.getElementById(K)||lt.querySelector(`[name="${K}"]`);if(Et)return Et}be=ne.nextNode()}}return null}(this.document,K);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=K)}}scrollToElement(K){const V=K.getBoundingClientRect(),ne=V.left+this.window.pageXOffset,be=V.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(ne-lt[0],be-lt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=so(this.window.history)||so(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function so(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class Qa{}},4650:(un,et,j)=>{j.d(et,{$8M:()=>Vn,$WT:()=>ci,$Z:()=>jm,AFp:()=>hb,ALo:()=>O0,AaK:()=>Oe,BQk:()=>eu,CHM:()=>F,CRH:()=>$0,CZH:()=>uy,CqO:()=>gp,D6c:()=>Mw,EJc:()=>zE,EiD:()=>$p,EpF:()=>p_,F$t:()=>y_,F4k:()=>kg,FYo:()=>md,FiY:()=>mu,Gf:()=>V0,GfV:()=>kh,GkF:()=>pp,Gpc:()=>he,Hsn:()=>Fg,Ikx:()=>Mp,JOm:()=>xo,JVY:()=>Ze,JZr:()=>qt,KtG:()=>re,L6k:()=>xt,LAX:()=>Ln,LFG:()=>Xt,LMc:()=>Ow,LSH:()=>Pf,Lbi:()=>HE,Lck:()=>Na,MAs:()=>Xh,MGl:()=>rf,MMx:()=>Av,MT6:()=>hf,NdJ:()=>mp,OlP:()=>Rr,Oqu:()=>Tc,P3R:()=>Zd,PXZ:()=>ow,Q6J:()=>Ei,QGY:()=>hh,QbO:()=>$E,Qsj:()=>_d,QtT:()=>Q,R0b:()=>Ku,RDi:()=>Ml,Rgc:()=>ym,SBq:()=>hu,SDv:()=>b,Sil:()=>ZE,Suo:()=>H0,TTD:()=>is,TgZ:()=>ef,Tol:()=>Wu,Udp:()=>Gg,VKq:()=>w0,W1O:()=>W0,WLB:()=>D0,X6Q:()=>dw,XFs:()=>ot,Xpm:()=>Jr,Xts:()=>g,Y36:()=>nh,YKP:()=>Ki,YNc:()=>xg,Yjl:()=>eo,Yz7:()=>Ke,Z0I:()=>fr,ZZ4:()=>Xv,_Bn:()=>So,_UZ:()=>fp,_Vd:()=>Ol,_c5:()=>Iw,_uU:()=>Kg,aQg:()=>e0,c2e:()=>jE,cJS:()=>wn,cg1:()=>qu,d8E:()=>mf,dDg:()=>nw,dqk:()=>kn,dwT:()=>_f,eBb:()=>pn,eFA:()=>Tb,ekj:()=>zg,eoX:()=>wb,f3M:()=>cn,g9A:()=>pb,h0i:()=>wi,hGG:()=>Aw,hij:()=>uf,iGM:()=>U0,ifc:()=>Hn,ip1:()=>db,jDz:()=>g0,kEZ:()=>S0,kL8:()=>sm,l5B:()=>T0,lG2:()=>cs,lcZ:()=>R0,lqb:()=>Ss,lri:()=>bb,mCW:()=>tl,n5z:()=>vo,oAB:()=>kr,oJD:()=>jp,oxw:()=>__,pB0:()=>yr,pQV:()=>Z,q3G:()=>ko,q4F:()=>Kd,qLn:()=>Tu,qOj:()=>Dg,qZA:()=>Yc,qzn:()=>Y,rWj:()=>Eb,s9C:()=>nf,sBO:()=>hw,s_b:()=>oy,soG:()=>cy,tb:()=>gb,tp0:()=>z,uIk:()=>Ng,vHH:()=>nt,vpe:()=>td,wAp:()=>Ir,xi3:()=>P0,xp6:()=>Yp,ynx:()=>pa,z2F:()=>dy,z3N:()=>A,zSh:()=>vi,zs3:()=>Hc});var a=j(7579),te=j(727),I=j(9751),pe=j(6451),we=j(3099);function De(n){for(let r in n)if(n[r]===De)return r;throw Error("Could not find renamed property on target object.")}function je(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ge(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ye=De({__forward_ref__:De});function he(n){return n.__forward_ref__=he,n.toString=function(){return Oe(this())},n}function Me(n){return Pt(n)?n():n}function Pt(n){return"function"==typeof n&&n.hasOwnProperty(ye)&&n.__forward_ref__===he}function ft(n){return n&&!!n.\u0275providers}const qt="https://g.co/ng/security#xss";class nt extends Error{constructor(r,o){super(function At(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function ve(n){return"string"==typeof n?n:null==n?"":String(n)}function yt(n,r){throw new nt(-201,!1)}function Ue(n,r,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${r} <=Actual]`))}function Ke(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qn(n){return wr(n,Ve)||wr(n,Le)}function fr(n){return null!==Qn(n)}function wr(n,r){return n.hasOwnProperty(r)?n[r]:null}function ir(n){return n&&(n.hasOwnProperty(He)||n.hasOwnProperty(dt))?n[He]:null}const Ve=De({\u0275prov:De}),He=De({\u0275inj:De}),Le=De({ngInjectableDef:De}),dt=De({ngInjectorDef:De});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let ln;function jn(n){const r=ln;return ln=n,r}function sr(n,r,o){const u=Qn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&ot.Optional?null:void 0!==r?r:void yt(Oe(n))}const kn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zn={},bn="__NG_DI_FLAG__",Er="ngTempTokenPath",ki=/\n/gm,fi="__source";let er;function Qr(n){const r=er;return er=n,r}function zr(n,r=ot.Default){if(void 0===er)throw new nt(-203,!1);return null===er?sr(n,void 0,r):er.get(n,r&ot.Optional?null:void 0,r)}function Xt(n,r=ot.Default){return(function gr(){return ln}()||zr)(Me(n),r)}function cn(n,r=ot.Default){return Xt(n,Un(r))}function Un(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rn(n){const r=[];for(let o=0;o<n.length;o++){const u=Me(n[o]);if(Array.isArray(u)){if(0===u.length)throw new nt(900,!1);let h,_=ot.Default;for(let S=0;S<u.length;S++){const R=u[S],B=Ie(R);"number"==typeof B?-1===B?h=R.token:_|=B:h=R}r.push(Xt(h,_))}else r.push(Xt(u))}return r}function Fn(n,r){return n[bn]=r,n.prototype[bn]=r,n}function Ie(n){return n[bn]}function Dt(n){return{toString:n}.toString()}var it=(()=>((it=it||{})[it.OnPush=0]="OnPush",it[it.Default=1]="Default",it))(),Hn=(()=>{return(n=Hn||(Hn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Hn;var n})();const xr={},Ne=[],Pe=De({\u0275cmp:De}),ue=De({\u0275dir:De}),ze=De({\u0275pipe:De}),jt=De({\u0275mod:De}),sn=De({\u0275fac:De}),Mn=De({__NG_ELEMENT_ID__:De});let ai=0;function Jr(n){return Dt(()=>{const o=!0===n.standalone,u={},h={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===it.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ne,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Hn.Emulated,id:"c"+ai++,styles:n.styles||Ne,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=n.dependencies,S=n.features;return h.inputs=Ps(n.inputs,u),h.outputs=Ps(n.outputs),S&&S.forEach(R=>R(h)),h.directiveDefs=_?()=>("function"==typeof _?_():_).map(pi).filter(Cs):null,h.pipeDefs=_?()=>("function"==typeof _?_():_).map(ui).filter(Cs):null,h})}function pi(n){return vr(n)||Mi(n)}function Cs(n){return null!==n}function kr(n){return Dt(()=>({type:n.type,bootstrap:n.bootstrap||Ne,declarations:n.declarations||Ne,imports:n.imports||Ne,exports:n.exports||Ne,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ps(n,r){if(null==n)return xr;const o={};for(const u in n)if(n.hasOwnProperty(u)){let h=n[u],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),o[h]=u,r&&(r[h]=_)}return o}const cs=Jr;function eo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function vr(n){return n[Pe]||null}function Mi(n){return n[ue]||null}function ui(n){return n[ze]||null}function ci(n){const r=vr(n)||Mi(n)||ui(n);return null!==r&&r.standalone}function Fi(n,r){const o=n[jt]||null;if(!o&&!0===r)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return o}function Di(n){return Array.isArray(n)&&"object"==typeof n[1]}function Oi(n){return Array.isArray(n)&&!0===n[1]}function Xi(n){return 0!=(4&n.flags)}function Bi(n){return n.componentOffset>-1}function no(n){return 1==(1&n.flags)}function Ui(n){return null!==n.template}function ro(n){return 0!=(256&n[2])}function dr(n,r){return n.hasOwnProperty(sn)?n[sn]:null}class vs{constructor(r,o,u){this.previousValue=r,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function is(){return Ls}function Ls(n){return n.type.prototype.ngOnChanges&&(n.setInput=so),ma}function ma(){const n=Ra(this),r=n?.current;if(r){const o=n.previous;if(o===xr)n.previous=r;else for(let u in r)o[u]=r[u];n.current=null,this.ngOnChanges(r)}}function so(n,r,o,u){const h=this.declaredInputs[o],_=Ra(n)||function Qa(n,r){return n[ss]=r}(n,{previous:xr,current:null}),S=_.current||(_.current={}),R=_.previous,B=R[h];S[h]=new vs(B&&B.currentValue,r,R===xr),n[u]=r}is.ngInherit=!0;const ss="__ngSimpleChanges__";function Ra(n){return n[ss]||null}function Vr(n){for(;Array.isArray(n);)n=n[0];return n}function zi(n,r){return Vr(r[n])}function Vi(n,r){return Vr(r[n.index])}function na(n,r){return n.data[r]}function lo(n,r){return n[r]}function Ri(n,r){const o=r[n];return Di(o)?o:o[0]}function Ho(n){return 64==(64&n[2])}function bs(n,r){return null==r?null:n[r]}function As(n){n[18]=0}function ia(n,r){n[5]+=r;let o=n,u=n[3];for(;null!==u&&(1===r&&1===o[5]||-1===r&&0===o[5]);)u[5]+=r,o=u,u=u[3]}const Yn={lFrame:la(null),bindingsEnabled:!0};function _a(){return Yn.bindingsEnabled}function k(){return Yn.lFrame.lView}function L(){return Yn.lFrame.tView}function F(n){return Yn.lFrame.contextLView=n,n[8]}function re(n){return Yn.lFrame.contextLView=null,n}function rt(){let n=En();for(;null!==n&&64===n.type;)n=n.parent;return n}function En(){return Yn.lFrame.currentTNode}function qr(){const n=Yn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function ii(n,r){const o=Yn.lFrame;o.currentTNode=n,o.isParent=r}function Bs(){return Yn.lFrame.isParent}function Us(){Yn.lFrame.isParent=!1}function Pi(){const n=Yn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function mr(){return Yn.lFrame.bindingIndex}function Wi(){return Yn.lFrame.bindingIndex++}function Es(n){const r=Yn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function zo(n){Yn.lFrame.inI18n=n}function za(n,r){const o=Yn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ja(r)}function Ja(n){Yn.lFrame.currentDirectiveIndex=n}function Ws(n){const r=Yn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function xa(){return Yn.lFrame.currentQueryIndex}function Wa(n){Yn.lFrame.currentQueryIndex=n}function oa(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ka(n,r,o){if(o&ot.SkipSelf){let h=r,_=n;for(;!(h=h.parent,null!==h||o&ot.Host||(h=oa(_),null===h||(_=_[15],10&h.type))););if(null===h)return!1;r=h,n=_}const u=Yn.lFrame=Zs();return u.currentTNode=r,u.lView=n,!0}function aa(n){const r=Zs(),o=n[1];Yn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Zs(){const n=Yn.lFrame,r=null===n?null:n.child;return null===r?la(n):r}function la(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ll(){const n=Yn.lFrame;return Yn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const co=ll;function vl(){const n=ll();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ms(){return Yn.lFrame.selectedIndex}function Oo(n){Yn.lFrame.selectedIndex=n}function Fr(){const n=Yn.lFrame;return na(n.tView,n.selectedIndex)}function Fa(n,r){for(let o=r.directiveStart,u=r.directiveEnd;o<u;o++){const _=n.data[o].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:R,ngAfterViewInit:B,ngAfterViewChecked:q,ngOnDestroy:ie}=_;S&&(n.contentHooks||(n.contentHooks=[])).push(-o,S),R&&((n.contentHooks||(n.contentHooks=[])).push(o,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,R)),B&&(n.viewHooks||(n.viewHooks=[])).push(-o,B),q&&((n.viewHooks||(n.viewHooks=[])).push(o,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,q)),null!=ie&&(n.destroyHooks||(n.destroyHooks=[])).push(o,ie)}}function ba(n,r,o){V(n,r,3,o)}function x(n,r,o,u){(3&n[2])===o&&V(n,r,o,u)}function K(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function V(n,r,o,u){const _=u??-1,S=r.length-1;let R=0;for(let B=void 0!==u?65535&n[18]:0;B<S;B++)if("number"==typeof r[B+1]){if(R=r[B],null!=u&&R>=u)break}else r[B]<0&&(n[18]+=65536),(R<_||-1==_)&&(ne(n,o,r,B),n[18]=(4294901760&n[18])+B+2),B++}function ne(n,r,o,u){const h=o[u]<0,_=o[u+1],R=n[h?-o[u]:o[u]];if(h){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{_.call(R)}finally{}}}else try{_.call(R)}finally{}}class lt{constructor(r,o,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function zt(n,r,o){let u=0;for(;u<o.length;){const h=o[u];if("number"==typeof h){if(0!==h)break;u++;const _=o[u++],S=o[u++],R=o[u++];n.setAttribute(r,S,R,_)}else{const _=h,S=o[++u];li(_)?n.setProperty(r,_,S):n.setAttribute(r,_,S),u++}}return u}function _n(n){return 3===n||4===n||6===n}function li(n){return 64===n.charCodeAt(0)}function an(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let u=0;u<r.length;u++){const h=r[u];"number"==typeof h?o=h:0===o||ht(n,o,h,null,-1===o||2===o?r[++u]:null)}}return n}function ht(n,r,o,u,h){let _=0,S=n.length;if(-1===r)S=-1;else for(;_<n.length;){const R=n[_++];if("number"==typeof R){if(R===r){S=-1;break}if(R>r){S=_-1;break}}}for(;_<n.length;){const R=n[_];if("number"==typeof R)break;if(R===o){if(null===u)return void(null!==h&&(n[_+1]=h));if(u===n[_+1])return void(n[_+2]=h)}_++,null!==u&&_++,null!==h&&_++}-1!==S&&(n.splice(S,0,r),_=S+1),n.splice(_++,0,o),null!==u&&n.splice(_++,0,u),null!==h&&n.splice(_++,0,h)}function Ht(n){return-1!==n}function Wr(n){return 32767&n}function E(n,r){let o=function W(n){return n>>16}(n),u=r;for(;o>0;)u=u[15],o--;return u}let m=!0;function C(n){const r=m;return m=n,r}let Se=0;const de={};function $t(n,r){const o=Gn(n,r);if(-1!==o)return o;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,Ot(u.data,n),Ot(r,null),Ot(u.blueprint,null));const h=On(n,r),_=n.injectorIndex;if(Ht(h)){const S=Wr(h),R=E(h,r),B=R[1].data;for(let q=0;q<8;q++)r[_+q]=R[S+q]|B[S+q]}return r[_+8]=h,_}function Ot(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Gn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function On(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,h=r;for(;null!==h;){if(u=dl(h),null===u)return-1;if(o++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function tn(n,r,o){!function Qe(n,r,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Mn)&&(u=o[Mn]),null==u&&(u=o[Mn]=Se++);const h=255&u;r.data[n+(h>>5)]|=1<<h}(n,r,o)}function br(n,r,o){if(o&ot.Optional||void 0!==n)return n;yt()}function Cn(n,r,o,u){if(o&ot.Optional&&void 0===u&&(u=null),!(o&(ot.Self|ot.Host))){const h=n[9],_=jn(void 0);try{return h?h.get(r,u,o&ot.Optional):sr(r,u,o&ot.Optional)}finally{jn(_)}}return br(u,0,o)}function Ci(n,r,o,u=ot.Default,h){if(null!==n){if(1024&r[2]){const S=function Ns(n,r,o,u,h){let _=n,S=r;for(;null!==_&&null!==S&&1024&S[2]&&!(256&S[2]);){const R=or(_,S,o,u|ot.Self,de);if(R!==de)return R;let B=_.parent;if(!B){const q=S[21];if(q){const ie=q.get(o,de,u);if(ie!==de)return ie}B=dl(S),S=S[15]}_=B}return h}(n,r,o,u,de);if(S!==de)return S}const _=or(n,r,o,u,de);if(_!==de)return _}return Cn(r,o,u,h)}function or(n,r,o,u,h){const _=function mi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Mn)?n[Mn]:void 0;return"number"==typeof r?r>=0?255&r:Hs:r}(o);if("function"==typeof _){if(!ka(r,n,u))return u&ot.Host?br(h,0,u):Cn(r,o,u,h);try{const S=_(u);if(null!=S||u&ot.Optional)return S;yt()}finally{co()}}else if("number"==typeof _){let S=null,R=Gn(n,r),B=-1,q=u&ot.Host?r[16][6]:null;for((-1===R||u&ot.SkipSelf)&&(B=-1===R?On(n,r):r[R+8],-1!==B&&Xr(u,!1)?(S=r[1],R=Wr(B),r=E(B,r)):R=-1);-1!==R;){const ie=r[1];if(ws(_,R,ie.data)){const me=Rt(R,r,o,S,u,q);if(me!==de)return me}B=r[R+8],-1!==B&&Xr(u,r[1].data[R+8]===q)&&ws(_,R,r)?(S=ie,R=Wr(B),r=E(B,r)):R=-1}}return h}function Rt(n,r,o,u,h,_){const S=r[1],R=S.data[n+8],ie=hr(R,S,o,null==u?Bi(R)&&m:u!=S&&0!=(3&R.type),h&ot.Host&&_===R);return null!==ie?si(r,S,ie,R):de}function hr(n,r,o,u,h){const _=n.providerIndexes,S=r.data,R=1048575&_,B=n.directiveStart,ie=_>>20,qe=h?R+ie:n.directiveEnd;for(let _t=u?R:R+ie;_t<qe;_t++){const Gt=S[_t];if(_t<B&&o===Gt||_t>=B&&Gt.type===o)return _t}if(h){const _t=S[B];if(_t&&Ui(_t)&&_t.type===o)return B}return null}function si(n,r,o,u){let h=n[o];const _=r.data;if(function Et(n){return n instanceof lt}(h)){const S=h;S.resolving&&function Ye(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new nt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ve(n)}(_[o]));const R=C(S.canSeeViewProviders);S.resolving=!0;const B=S.injectImpl?jn(S.injectImpl):null;ka(n,u,ot.Default);try{h=n[o]=S.factory(void 0,_,n,u),r.firstCreatePass&&o>=u.directiveStart&&function cl(n,r,o){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:_}=r.type.prototype;if(u){const S=Ls(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,S),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,S)}h&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,h),_&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,_))}(o,_[o],r)}finally{null!==B&&jn(B),C(R),S.resolving=!1,co()}}return h}function ws(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function Xr(n,r){return!(n&ot.Self||n&ot.Host&&r)}class ei{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,u){return Ci(this._tNode,this._lView,r,Un(u),o)}}function Hs(){return new ei(rt(),k())}function vo(n){return Dt(()=>{const r=n.prototype.constructor,o=r[sn]||$s(r),u=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==u;){const _=h[sn]||$s(h);if(_&&_!==o)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function $s(n){return Pt(n)?()=>{const r=$s(Me(n));return r&&r()}:dr(n)}function dl(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function Vn(n){return function Bt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const u=o.length;let h=0;for(;h<u;){const _=o[h];if(_n(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<u&&"string"==typeof o[h];)h++;else{if(_===r)return o[h+1];h+=2}}}return null}(rt(),n)}const Wn="__parameters__";function Ii(n,r,o){return Dt(()=>{const u=function ho(n){return function(...o){if(n){const u=n(...o);for(const h in u)this[h]=u[h]}}}(r);function h(..._){if(this instanceof h)return u.apply(this,_),this;const S=new h(..._);return R.annotation=S,R;function R(B,q,ie){const me=B.hasOwnProperty(Wn)?B[Wn]:Object.defineProperty(B,Wn,{value:[]})[Wn];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(S),B}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}class Rr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ke({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wo(n,r){n.forEach(o=>Array.isArray(o)?Wo(o,r):r(o))}function T(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function N(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function w(n,r){const o=[];for(let u=0;u<n;u++)o.push(r);return o}function $e(n,r,o){let u=Wt(n,r);return u>=0?n[1|u]=o:(u=~u,function X(n,r,o,u){let h=n.length;if(h==r)n.push(o,u);else if(1===h)n.push(u,n[0]),n[0]=o;else{for(h--,n.push(n[h-1],n[h]);h>r;)n[h]=n[h-2],h--;n[r]=o,n[r+1]=u}}(n,u,r,o)),u}function Ut(n,r){const o=Wt(n,r);if(o>=0)return n[1|o]}function Wt(n,r){return function Lr(n,r,o){let u=0,h=n.length>>o;for(;h!==u;){const _=u+(h-u>>1),S=n[_<<o];if(r===S)return _<<o;S>r?h=_:u=_+1}return~(h<<o)}(n,r,1)}const mu=Fn(Ii("Optional"),8),z=Fn(Ii("SkipSelf"),4);var xo=(()=>((xo=xo||{})[xo.Important=1]="Important",xo[xo.DashCase=2]="DashCase",xo))();const Mc=/^>|^->|<!--|-->|--!>|<!-$/g,$a=/(<|>)/;const _u=new Map;let fl=0;const Xu="__ngContext__";function Do(n,r){Di(r)?(n[Xu]=r[20],function Nu(n){_u.set(n[20],n)}(r)):n[Xu]=r}let Rc;function $d(n,r){return Rc(n,r)}function ml(n){const r=n[3];return Oi(r)?r[3]:r}function Il(n){return xu(n[13])}function od(n){return xu(n[4])}function xu(n){for(;null!==n&&!Oi(n);)n=n[4];return n}function ku(n,r,o,u,h){if(null!=u){let _,S=!1;Oi(u)?_=u:Di(u)&&(S=!0,u=u[0]);const R=Vr(u);0===n&&null!==o?null==h?Al(r,o,R):Gl(r,o,R,h||null,!0):1===n&&null!==o?Gl(r,o,R,h||null,!0):2===n?bu(r,R,S):3===n&&r.destroyNode(R),null!=_&&function oc(n,r,o,u,h){const _=o[7];_!==Vr(o)&&ku(r,n,u,_,h);for(let R=10;R<o.length;R++){const B=o[R];Bu(B[1],B,n,r,u,_)}}(r,n,_,o,h)}}function ad(n,r){return n.createText(r)}function ec(n,r,o){n.setValue(r,o)}function Ah(n,r){return n.createComment(function Ju(n){return n.replace(Mc,r=>r.replace($a,"\u200b$1\u200b"))}(r))}function Pc(n,r,o){return n.createElement(r,o)}function nc(n,r){const o=n[9],u=o.indexOf(r),h=r[3];512&r[2]&&(r[2]&=-513,ia(h,-1)),o.splice(u,1)}function yu(n,r){if(n.length<=10)return;const o=10+r,u=n[o];if(u){const h=u[17];null!==h&&h!==n&&nc(h,u),r>0&&(n[o-1][4]=u[4]);const _=N(n,10+r);!function ms(n,r){Bu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const S=_[19];null!==S&&S.detachView(_[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Fu(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Bu(n,r,o,3,null,null),function tc(n){let r=n[13];if(!r)return el(n[1],n);for(;r;){let o=null;if(Di(r))o=r[13];else{const u=r[10];u&&(o=u)}if(!o){for(;r&&!r[4]&&r!==n;)Di(r)&&el(r[1],r),r=r[3];null===r&&(r=n),Di(r)&&el(r[1],r),o=r&&r[4]}r=o}}(r)}}function el(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Mh(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const h=r[o[u]];if(!(h instanceof lt)){const _=o[u+1];if(Array.isArray(_))for(let S=0;S<_.length;S+=2){const R=h[_[S]],B=_[S+1];try{B.call(R)}finally{}}else try{_.call(h)}finally{}}}}(n,r),function jl(n,r){const o=n.cleanup,u=r[7];let h=-1;if(null!==o)for(let _=0;_<o.length-1;_+=2)if("string"==typeof o[_]){const S=o[_+3];S>=0?u[h=S]():u[h=-S].unsubscribe(),_+=2}else{const S=u[h=o[_+1]];o[_].call(S)}if(null!==u){for(let _=h+1;_<u.length;_++)(0,u[_])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&Oi(r[3])){o!==r[3]&&nc(o,r);const u=r[19];null!==u&&u.detachView(n)}!function Vd(n){_u.delete(n[20])}(r)}}function ld(n,r,o){return lu(n,r.parent,o)}function lu(n,r,o){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return o[0];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:_}=n.data[u.directiveStart+h];if(_===Hn.None||_===Hn.Emulated)return null}return Vi(u,o)}}function Gl(n,r,o,u,h){n.insertBefore(r,o,u,h)}function Al(n,r,o){n.appendChild(r,o)}function Ks(n,r,o,u,h){null!==u?Gl(n,r,o,u,h):Al(n,r,o)}function rc(n,r){return n.parentNode(r)}function ud(n,r,o){return Lu(n,r,o)}function fa(n,r,o){return 40&n.type?Vi(n,o):null}let Wl,lc,uu,us,Lu=fa;function ic(n,r){Lu=n,Wl=r}function Sa(n,r,o,u){const h=ld(n,u,r),_=r[11],R=ud(u.parent||r[6],u,r);if(null!=h)if(Array.isArray(o))for(let B=0;B<o.length;B++)Ks(_,h,o[B],R,!1);else Ks(_,h,o,R,!1);void 0!==Wl&&Wl(_,u,r,o,h)}function Zl(n,r){if(null!==r){const o=r.type;if(3&o)return Vi(r,n);if(4&o)return Ta(-1,n[r.index]);if(8&o){const u=r.child;if(null!==u)return Zl(n,u);{const h=n[r.index];return Oi(h)?Ta(-1,h):Vr(h)}}if(32&o)return $d(r,n)()||Vr(n[r.index]);{const u=vu(n,r);return null!==u?Array.isArray(u)?u[0]:Zl(ml(n[16]),u):Zl(n,r.next)}}return null}function vu(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Ta(n,r){const o=10+n+1;if(o<r.length){const u=r[o],h=u[1].firstChild;if(null!==h)return Zl(u,h)}return r[7]}function bu(n,r,o){const u=rc(n,r);u&&function yi(n,r,o,u){n.removeChild(r,o,u)}(n,u,r,o)}function Mr(n,r,o,u,h,_,S){for(;null!=o;){const R=u[o.index],B=o.type;if(S&&0===r&&(R&&Do(Vr(R),u),o.flags|=2),32!=(32&o.flags))if(8&B)Mr(n,r,o.child,u,h,_,!1),ku(r,n,h,R,_);else if(32&B){const q=$d(o,u);let ie;for(;ie=q();)ku(r,n,h,ie,_);ku(r,n,h,R,_)}else 16&B?ql(n,r,u,o,h,_):ku(r,n,h,R,_);o=S?o.projectionNext:o.next}}function Bu(n,r,o,u,h,_){Mr(o,u,n.firstChild,r,h,_,!1)}function ql(n,r,o,u,h,_){const S=o[16],B=S[6].projection[u.projection];if(Array.isArray(B))for(let q=0;q<B.length;q++)ku(r,n,h,B[q],_);else Mr(n,r,B,S[3],h,_,!0)}function _l(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function ac(n,r,o){const{mergedAttrs:u,classes:h,styles:_}=o;null!==u&&zt(n,r,u),null!==h&&_l(n,r,h),null!==_&&function cd(n,r,o){n.setAttribute(r,"style",o)}(n,r,_)}function Kl(n){return function uc(){if(void 0===lc&&(lc=null,kn.trustedTypes))try{lc=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return lc}()?.createHTML(n)||n}function Ml(n){uu=n}function Vu(){return void 0!==uu?uu:typeof document<"u"?document:void 0}function Hu(){if(void 0===us&&(us=null,kn.trustedTypes))try{us=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return us}function Gd(n){return Hu()?.createHTML(n)||n}function Nl(n){return Hu()?.createScriptURL(n)||n}class cu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qt})`}}class Oh extends cu{getTypeName(){return"HTML"}}class $u extends cu{getTypeName(){return"Style"}}class D extends cu{getTypeName(){return"Script"}}class f extends cu{getTypeName(){return"URL"}}class y extends cu{getTypeName(){return"ResourceURL"}}function A(n){return n instanceof cu?n.changingThisBreaksApplicationSecurity:n}function Y(n,r){const o=function se(n){return n instanceof cu&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${qt})`)}return o===r}function Ze(n){return new Oh(n)}function xt(n){return new $u(n)}function pn(n){return new D(n)}function Ln(n){return new f(n)}function yr(n){return new y(n)}function ar(n){const r=new yl(n);return function kc(){try{return!!(new window.DOMParser).parseFromString(Kl(""),"text/html")}catch{return!1}}()?new Ys(r):r}class Ys{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Kl(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class yl{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Kl(r),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Kl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(r){const o=r.attributes;for(let h=o.length-1;0<h;h--){const S=o.item(h).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&r.removeAttribute(S)}let u=r.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const zd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function tl(n){return(n=String(n)).match(zd)?n:"unsafe:"+n}function Ca(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function wu(...n){const r={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(r[u]=!0);return r}const Fc=Ca("area,br,col,hr,img,wbr"),Lc=Ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ko=Ca("rp,rt"),cc=wu(Fc,wu(Lc,Ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wu(Ko,Ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wu(Ko,Lc)),dc=Ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Up=wu(dc,Ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Em=Ca("script,style,template");class wm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let h=this.checkClobberedElement(o,o.nextSibling);if(h){o=h;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!cc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Em.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=r.attributes;for(let h=0;h<u.length;h++){const _=u.item(h),S=_.name,R=S.toLowerCase();if(!Up.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let B=_.value;dc[R]&&(B=tl(B)),this.buf.push(" ",S,'="',Hp(B),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();cc.hasOwnProperty(o)&&!Fc.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Hp(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Vp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dm=/([^\#-~ |!])/g;function Hp(n){return n.replace(/&/g,"&amp;").replace(Vp,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Dm,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ph;function $p(n,r){let o=null;try{Ph=Ph||ar(n);let u=r?String(r):"";o=Ph.getInertBodyElement(u);let h=5,_=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=_,_=o.innerHTML,o=Ph.getInertBodyElement(u)}while(u!==_);return Kl((new wm).sanitizeChildren(Wd(o)||o))}finally{if(o){const u=Wd(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Wd(n){return"content"in n&&function Sm(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ko=(()=>((ko=ko||{})[ko.NONE=0]="NONE",ko[ko.HTML=1]="HTML",ko[ko.STYLE=2]="STYLE",ko[ko.SCRIPT=3]="SCRIPT",ko[ko.URL=4]="URL",ko[ko.RESOURCE_URL=5]="RESOURCE_URL",ko))();function jp(n){const r=l();return r?Gd(r.sanitize(ko.HTML,n)||""):Y(n,"HTML")?Gd(A(n)):$p(Vu(),ve(n))}function Pf(n){const r=l();return r?r.sanitize(ko.URL,n)||"":Y(n,"URL")?A(n):tl(ve(n))}function xf(n){const r=l();if(r)return Nl(r.sanitize(ko.RESOURCE_URL,n)||"");if(Y(n,"ResourceURL"))return Nl(A(n));throw new nt(904,!1)}function Zd(n,r,o){return function zp(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?xf:Pf}(r,o)(n)}function l(){const n=k();return n&&n[12]}const g=new Rr("ENVIRONMENT_INITIALIZER"),M=new Rr("INJECTOR",-1),H=new Rr("INJECTOR_DEF_TYPES");class ce{get(r,o=zn){if(o===zn){const u=new Error(`NullInjectorError: No provider for ${Oe(r)}!`);throw u.name="NullInjectorError",u}return o}}function Be(...n){return{\u0275providers:ut(0,n),\u0275fromNgModule:!0}}function ut(n,...r){const o=[],u=new Set;let h;return Wo(r,_=>{const S=_;vn(S,o,[],u)&&(h||(h=[]),h.push(S))}),void 0!==h&&wt(h,o),o}function wt(n,r){for(let o=0;o<n.length;o++){const{providers:h}=n[o];In(h,_=>{r.push(_)})}}function vn(n,r,o,u){if(!(n=Me(n)))return!1;let h=null,_=ir(n);const S=!_&&vr(n);if(_||S){if(S&&!S.standalone)return!1;h=n}else{const B=n.ngModule;if(_=ir(B),!_)return!1;h=B}const R=u.has(h);if(S){if(R)return!1;if(u.add(h),S.dependencies){const B="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const q of B)vn(q,r,o,u)}}else{if(!_)return!1;{if(null!=_.imports&&!R){let q;u.add(h);try{Wo(_.imports,ie=>{vn(ie,r,o,u)&&(q||(q=[]),q.push(ie))})}finally{}void 0!==q&&wt(q,r)}if(!R){const q=dr(h)||(()=>new h);r.push({provide:h,useFactory:q,deps:Ne},{provide:H,useValue:h,multi:!0},{provide:g,useValue:()=>Xt(h),multi:!0})}const B=_.providers;null==B||R||In(B,ie=>{r.push(ie)})}}return h!==n&&void 0!==n.providers}function In(n,r){for(let o of n)ft(o)&&(o=o.\u0275providers),Array.isArray(o)?In(o,r):r(o)}const oi=De({provide:String,useValue:De});function lr(n){return null!==n&&"object"==typeof n&&oi in n}function Zr(n){return"function"==typeof n}const vi=new Rr("Set Injector scope."),ti={},bi={};let xi;function qi(){return void 0===xi&&(xi=new ce),xi}class Ss{}class Fo extends Ss{get destroyed(){return this._destroyed}constructor(r,o,u,h){super(),this.parent=o,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Du(r,S=>this.processProvider(S)),this.records.set(M,Qo(void 0,this)),h.has("environment")&&this.records.set(Ss,Qo(void 0,this));const _=this.records.get(vi);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(H.multi,Ne,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=Qr(this),u=jn(void 0);try{return r()}finally{Qr(o),jn(u)}}get(r,o=zn,u=ot.Default){this.assertNotDestroyed(),u=Un(u);const h=Qr(this),_=jn(void 0);try{if(!(u&ot.SkipSelf)){let R=this.records.get(r);if(void 0===R){const B=function gd(n){return"function"==typeof n||"object"==typeof n&&n instanceof Rr}(r)&&Qn(r);R=B&&this.injectableDefInScope(B)?Qo(Qs(r),ti):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(u&ot.Self?qi():this.parent).get(r,o=u&ot.Optional&&o===zn?null:o)}catch(S){if("NullInjectorError"===S.name){if((S[Er]=S[Er]||[]).unshift(Oe(r)),h)throw S;return function _e(n,r,o,u){const h=n[Er];throw r[fi]&&h.unshift(r[fi]),n.message=function ke(n,r,o,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let h=Oe(r);if(Array.isArray(r))h=r.map(Oe).join(" -> ");else if("object"==typeof r){let _=[];for(let S in r)if(r.hasOwnProperty(S)){let R=r[S];_.push(S+":"+("string"==typeof R?JSON.stringify(R):Oe(R)))}h=`{${_.join(", ")}}`}return`${o}${u?"("+u+")":""}[${h}]: ${n.replace(ki,"\n  ")}`}("\n"+n.message,h,o,u),n.ngTokenPath=h,n[Er]=null,n}(S,r,"R3InjectorError",this.source)}throw S}finally{jn(_),Qr(h)}}resolveInjectorInitializers(){const r=Qr(this),o=jn(void 0);try{const u=this.get(g.multi,Ne,ot.Self);for(const h of u)h()}finally{Qr(r),jn(o)}}toString(){const r=[],o=this.records;for(const u of o.keys())r.push(Oe(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(r){let o=Zr(r=Me(r))?r:Me(r&&r.provide);const u=function Yo(n){return lr(n)?Qo(void 0,n.useValue):Qo(nl(n),ti)}(r);if(Zr(r)||!0!==r.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=Qo(void 0,ti,!0),h.factory=()=>Rn(h.multi),this.records.set(o,h)),o=r,h.multi.push(r)}this.records.set(o,u)}hydrate(r,o){return o.value===ti&&(o.value=bi,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ql(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Me(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Qs(n){const r=Qn(n),o=null!==r?r.factory:dr(n);if(null!==o)return o;if(n instanceof Rr)throw new nt(204,!1);if(n instanceof Function)return function Yl(n){const r=n.length;if(r>0)throw w(r,"?"),new nt(204,!1);const o=function $n(n){const r=n&&(n[Ve]||n[Le]);if(r){const o=function Xn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new nt(204,!1)}function nl(n,r,o){let u;if(Zr(n)){const h=Me(n);return dr(h)||Qs(h)}if(lr(n))u=()=>Me(n.useValue);else if(function hi(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Rn(n.deps||[]));else if(function $r(n){return!(!n||!n.useExisting)}(n))u=()=>Xt(Me(n.useExisting));else{const h=Me(n&&(n.useClass||n.provide));if(!function rl(n){return!!n.deps}(n))return dr(h)||Qs(h);u=()=>new h(...Rn(n.deps))}return u}function Qo(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Du(n,r){for(const o of n)Array.isArray(o)?Du(o,r):o&&ft(o)?Du(o.\u0275providers,r):r(o)}class Bc{}class Uc{}class Su{resolveComponentFactory(r){throw function Vc(n){const r=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ol=(()=>{class n{}return n.NULL=new Su,n})();function qd(){return il(rt(),k())}function il(n,r){return new hu(Vi(n,r))}let hu=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=qd,n})();function Wp(n){return n instanceof hu?n.nativeElement:n}class md{}let _d=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function yd(){const n=k(),o=Ri(rt().index,n);return(Di(o)?o:n)[11]}(),n})(),vd=(()=>{class n{}return n.\u0275prov=Ke({token:n,providedIn:"root",factory:()=>null}),n})();class kh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Kd=new kh("15.1.4"),Ia={};function Rl(n){return n.ngOriginalError}class Tu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Rl(r);for(;o&&Rl(o);)o=Rl(o);return o||null}}function Gu(n){return n instanceof Function?n():n}function Im(n,r,o){let u=n.length;for(;;){const h=n.indexOf(r,o);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const _=r.length;if(h+_===u||n.charCodeAt(h+_)<=32)return h}o=h+1}}const Zp="ng-template";function yy(n,r,o){let u=0;for(;u<n.length;){let h=n[u++];if(o&&"class"===h){if(h=n[u],-1!==Im(h.toLowerCase(),r,0))return!0}else if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===r)return!0;return!1}}return!1}function qp(n){return 4===n.type&&n.value!==Zp}function bd(n,r,o){return r===(4!==n.type||o?n.value:Zp)}function Bh(n,r,o){let u=4;const h=n.attrs||[],_=function vy(n){for(let r=0;r<n.length;r++)if(_n(n[r]))return r;return n.length}(h);let S=!1;for(let R=0;R<r.length;R++){const B=r[R];if("number"!=typeof B){if(!S)if(4&u){if(u=2|1&u,""!==B&&!bd(n,B,o)||""===B&&1===r.length){if(fu(u))return!1;S=!0}}else{const q=8&u?B:r[++R];if(8&u&&null!==n.attrs){if(!yy(n.attrs,q,o)){if(fu(u))return!1;S=!0}continue}const me=Am(8&u?"class":B,h,qp(n),o);if(-1===me){if(fu(u))return!1;S=!0;continue}if(""!==q){let qe;qe=me>_?"":h[me+1].toLowerCase();const _t=8&u?qe:null;if(_t&&-1!==Im(_t,q,0)||2&u&&q!==qe){if(fu(u))return!1;S=!0}}}}else{if(!S&&!fu(u)&&!fu(B))return!1;if(S&&fu(B))continue;S=!1,u=B|1&u}}return fu(u)||S}function fu(n){return 0==(1&n)}function Am(n,r,o,u){if(null===r)return-1;let h=0;if(u||!o){let _=!1;for(;h<r.length;){const S=r[h];if(S===n)return h;if(3===S||6===S)_=!0;else{if(1===S||2===S){let R=r[++h];for(;"string"==typeof R;)R=r[++h];continue}if(4===S)break;if(0===S){h+=4;continue}}h+=_?1:2}return-1}return function by(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===r)return o;o++}return-1}(r,n)}function Mm(n,r,o=!1){for(let u=0;u<r.length;u++)if(Bh(n,r[u],o))return!0;return!1}function Kp(n,r){e:for(let o=0;o<r.length;o++){const u=r[o];if(n.length===u.length){for(let h=0;h<n.length;h++)if(n[h]!==u[h])continue e;return!0}}return!1}function Aa(n,r){return n?":not("+r.trim()+")":r}function Ey(n){let r=n[0],o=1,u=2,h="",_=!1;for(;o<n.length;){let S=n[o];if("string"==typeof S)if(2&u){const R=n[++o];h+="["+S+(R.length>0?'="'+R+'"':"")+"]"}else 8&u?h+="."+S:4&u&&(h+=" "+S);else""!==h&&!fu(S)&&(r+=Aa(_,h),h=""),u=S,_=_||!fu(u);o++}return""!==h&&(r+=Aa(_,h)),r}const Kr={};function Yp(n){Om(L(),k(),Ms()+n,!1)}function Om(n,r,o,u){if(!u)if(3==(3&r[2])){const _=n.preOrderCheckHooks;null!==_&&ba(r,_,o)}else{const _=n.preOrderHooks;null!==_&&x(r,_,0,o)}Oo(o)}function Xp(n,r=null,o=null,u){const h=xm(n,r,o,u);return h.resolveInjectorInitializers(),h}function xm(n,r=null,o=null,u,h=new Set){const _=[o||Ne,Be(n)];return u=u||("object"==typeof n?void 0:Oe(n)),new Fo(_,r||qi(),u||null,h)}let Hc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Xp({name:""},u,o,"");{const h=o.name??"";return Xp({name:h},o.parent,o.providers,h)}}}return n.THROW_IF_NOT_FOUND=zn,n.NULL=new ce,n.\u0275prov=Ke({token:n,providedIn:"any",factory:()=>Xt(M)}),n.__NG_ELEMENT_ID__=-1,n})();function nh(n,r=ot.Default){const o=k();return null===o?Xt(n,r):Ci(rt(),o,Me(n),r)}function jm(){throw new Error("invalid")}function $h(n,r){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const _=o[u+1];if(-1!==_){const S=n.data[_];Wa(o[u]),S.contentQueries(2,r[_],_)}}}function Gh(n,r,o,u,h,_,S,R,B,q,ie){const me=r.blueprint.slice();return me[0]=h,me[2]=76|u,(null!==ie||n&&1024&n[2])&&(me[2]|=1024),As(me),me[3]=me[15]=n,me[8]=o,me[10]=S||n&&n[10],me[11]=R||n&&n[11],me[12]=B||n&&n[12]||null,me[9]=q||n&&n[9]||null,me[6]=_,me[20]=function Nc(){return fl++}(),me[21]=ie,me[16]=2==r.type?n[16]:me,me}function rh(n,r,o,u,h){let _=n.data[r];if(null===_)_=ag(n,r,o,u,h),function Go(){return Yn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=o,_.value=u,_.attrs=h;const S=qr();_.injectorIndex=null===S?-1:S.injectorIndex}return ii(_,!0),_}function ag(n,r,o,u,h){const _=En(),S=Bs(),B=n.data[r]=function Wm(n,r,o,u,h,_){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?_:_&&_.parent,o,r,u,h);return null===n.firstChild&&(n.firstChild=B),null!==_&&(S?null==_.child&&null!==B.parent&&(_.child=B):null===_.next&&(_.next=B)),B}function zh(n,r,o,u){if(0===o)return-1;const h=r.length;for(let _=0;_<o;_++)r.push(u),n.blueprint.push(u),n.data.push(null);return h}function lg(n,r,o){aa(r);try{const u=n.viewQuery;null!==u&&Gc(1,u,o);const h=n.template;null!==h&&zm(n,r,h,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$h(n,r),n.staticViewQueries&&Gc(2,n.viewQuery,o);const _=n.components;null!==_&&function og(n,r){for(let o=0;o<r.length;o++)sh(n,r[o])}(r,_)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,vl()}}function ih(n,r,o,u){const h=r[2];if(128!=(128&h)){aa(r);try{As(r),function hs(n){return Yn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&zm(n,r,o,2,u);const S=3==(3&h);if(S){const q=n.preOrderCheckHooks;null!==q&&ba(r,q,null)}else{const q=n.preOrderHooks;null!==q&&x(r,q,0,null),K(r,0)}if(function _g(n){for(let r=Il(n);null!==r;r=od(r)){if(!r[2])continue;const o=r[9];for(let u=0;u<o.length;u++){const h=o[u];512&h[2]||ia(h[3],1),h[2]|=512}}}(r),function Jm(n){for(let r=Il(n);null!==r;r=od(r))for(let o=10;o<r.length;o++){const u=r[o],h=u[1];Ho(u)&&ih(h,u,h.template,u[8])}}(r),null!==n.contentQueries&&$h(n,r),S){const q=n.contentCheckHooks;null!==q&&ba(r,q)}else{const q=n.contentHooks;null!==q&&x(r,q,1),K(r,1)}!function Gm(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)Oo(~h);else{const _=h,S=o[++u],R=o[++u];za(S,_),R(2,r[_])}}}finally{Oo(-1)}}(n,r);const R=n.components;null!==R&&function jh(n,r){for(let o=0;o<r.length;o++)yg(n,r[o])}(r,R);const B=n.viewQuery;if(null!==B&&Gc(2,B,u),S){const q=n.viewCheckHooks;null!==q&&ba(r,q)}else{const q=n.viewHooks;null!==q&&x(r,q,2),K(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,ia(r[3],-1))}finally{vl()}}}function zm(n,r,o,u,h){const _=Ms(),S=2&u;try{Oo(-1),S&&r.length>22&&Om(n,r,22,!1),o(u,h)}finally{Oo(_)}}function ug(n,r,o){if(Xi(r)){const h=r.directiveEnd;for(let _=r.directiveStart;_<h;_++){const S=n.data[_];S.contentQueries&&S.contentQueries(1,o[_],_)}}}function Dd(n,r,o){_a()&&(function Km(n,r,o,u){const h=o.directiveStart,_=o.directiveEnd;Bi(o)&&function Ny(n,r,o){const u=Vi(r,n),h=Sd(o),_=n[10],S=oh(n,Gh(n,h,null,o.onPush?32:16,u,r,_,_.createRenderer(u,o),null,null,null));n[r.index]=S}(r,o,n.data[h+o.componentOffset]),n.firstCreatePass||$t(o,r),Do(u,r);const S=o.initialInputs;for(let R=h;R<_;R++){const B=n.data[R],q=si(r,n,R,o);Do(q,r),null!==S&&mg(0,R-h,q,B,0,S),Ui(B)&&(Ri(o.index,r)[8]=si(r,n,R,o))}}(n,r,o,Vi(o,r)),64==(64&o.flags)&&Td(n,r,o))}function Wh(n,r,o=Vi){const u=r.localNames;if(null!==u){let h=r.index+1;for(let _=0;_<u.length;_+=2){const S=u[_+1],R=-1===S?o(r,n):n[S];n[h++]=R}}}function Sd(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Zh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Zh(n,r,o,u,h,_,S,R,B,q){const ie=22+u,me=ie+h,qe=function Gf(n,r){const o=[];for(let u=0;u<r;u++)o.push(u<n?null:Kr);return o}(ie,me),_t="function"==typeof q?q():q;return qe[1]={type:n,blueprint:qe,template:o,queries:null,viewQuery:R,declTNode:r,data:qe.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:B,consts:_t,incompleteFirstPass:!1}}function zf(n,r,o,u){const h=Xm(r);null===o?h.push(u):(h.push(o),n.firstCreatePass&&Jf(n).push(u,h.length-1))}function Wf(n,r,o,u){for(let h in n)if(n.hasOwnProperty(h)){o=null===o?{}:o;const _=n[h];null===u?Zf(o,r,h,_):u.hasOwnProperty(h)&&Zf(o,r,u[h],_)}return o}function Zf(n,r,o,u){n.hasOwnProperty(o)?n[o].push(r,u):n[o]=[r,u]}function Xl(n,r,o,u,h,_,S,R){const B=Vi(r,o);let ie,q=r.inputs;!R&&null!=q&&(ie=q[u])?(Yh(n,o,ie,u,h),Bi(r)&&qf(o,r.index)):3&r.type&&(u=function Zm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),h=null!=S?S(h,r.value||"",u):h,_.setProperty(B,u,h))}function qf(n,r){const o=Ri(r,n);16&o[2]||(o[2]|=32)}function cg(n,r,o,u){let h=!1;if(_a()){const _=null===u?null:{"":-1},S=function Ay(n,r){const o=n.directiveRegistry;let u=null,h=null;if(o)for(let _=0;_<o.length;_++){const S=o[_];if(Mm(r,S.selectors,!1))if(u||(u=[]),Ui(S))if(null!==S.findHostDirectiveDefs){const R=[];h=h||new Map,S.findHostDirectiveDefs(S,R,h),u.unshift(...R,S),fg(n,r,R.length)}else u.unshift(S),fg(n,r,0);else h=h||new Map,S.findHostDirectiveDefs?.(S,u,h),u.push(S)}return null===u?null:[u,h]}(n,o);let R,B;null===S?R=B=null:[R,B]=S,null!==R&&(h=!0,Kf(n,r,o,R,_,B)),_&&function Ym(n,r,o){if(r){const u=n.localNames=[];for(let h=0;h<r.length;h+=2){const _=o[r[h+1]];if(null==_)throw new nt(-301,!1);u.push(r[h],_)}}}(o,u,_)}return o.mergedAttrs=an(o.mergedAttrs,o.attrs),h}function Kf(n,r,o,u,h,_){for(let q=0;q<u.length;q++)tn($t(o,r),n,u[q].type);!function My(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}(o,n.data.length,u.length);for(let q=0;q<u.length;q++){const ie=u[q];ie.providersResolver&&ie.providersResolver(ie)}let S=!1,R=!1,B=zh(n,r,u.length,null);for(let q=0;q<u.length;q++){const ie=u[q];o.mergedAttrs=an(o.mergedAttrs,ie.hostAttrs),pg(n,o,r,B,ie),Qm(B,ie,h),null!==ie.contentQueries&&(o.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(o.flags|=64);const me=ie.type.prototype;!S&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),S=!0),!R&&(me.ngOnChanges||me.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),R=!0),B++}!function mc(n,r,o){const h=r.directiveEnd,_=n.data,S=r.attrs,R=[];let B=null,q=null;for(let ie=r.directiveStart;ie<h;ie++){const me=_[ie],qe=o?o.get(me):null,Gt=qe?qe.outputs:null;B=Wf(me.inputs,ie,B,qe?qe.inputs:null),q=Wf(me.outputs,ie,q,Gt);const mn=null===B||null===S||qp(r)?null:Oy(B,ie,S);R.push(mn)}null!==B&&(B.hasOwnProperty("class")&&(r.flags|=8),B.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=R,r.inputs=B,r.outputs=q}(n,o,_)}function Td(n,r,o){const u=o.directiveStart,h=o.directiveEnd,_=o.index,S=function al(){return Yn.lFrame.currentDirectiveIndex}();try{Oo(_);for(let R=u;R<h;R++){const B=n.data[R],q=r[R];Ja(R),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&hg(B,q)}}finally{Oo(-1),Ja(S)}}function hg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function fg(n,r,o){r.componentOffset=o,(n.components||(n.components=[])).push(r.index)}function Qm(n,r,o){if(o){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)o[r.exportAs[u]]=n;Ui(r)&&(o[""]=n)}}function pg(n,r,o,u,h){n.data[u]=h;const _=h.factory||(h.factory=dr(h.type)),S=new lt(_,Ui(h),nh);n.blueprint[u]=S,o[u]=S,function Yf(n,r,o,u,h){const _=h.hostBindings;if(_){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const R=~r.index;(function dg(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(S)!=R&&S.push(R),S.push(o,u,_)}}(n,r,u,zh(n,o,h.hostVars,Kr),h)}function gg(n,r,o,u,h,_,S){if(null==_)n.removeAttribute(r,h,o);else{const R=null==S?ve(_):S(_,u||"",h);n.setAttribute(r,h,R,o)}}function mg(n,r,o,u,h,_){const S=_[r];if(null!==S){const R=u.setInput;for(let B=0;B<S.length;){const q=S[B++],ie=S[B++],me=S[B++];null!==R?u.setInput(o,me,q,ie):o[ie]=me}}}function Oy(n,r,o){let u=null,h=0;for(;h<o.length;){const _=o[h];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===u&&(u=[]);const S=n[_];for(let R=0;R<S.length;R+=2)if(S[R]===r){u.push(_,S[R+1],o[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Qf(n,r,o,u){return[n,!0,!1,r,null,0,u,o,null,null]}function yg(n,r){const o=Ri(r,n);if(Ho(o)){const u=o[1];48&o[2]?ih(u,o,u.template,o[8]):o[5]>0&&Kh(o)}}function Kh(n){for(let u=Il(n);null!==u;u=od(u))for(let h=10;h<u.length;h++){const _=u[h];if(Ho(_))if(512&_[2]){const S=_[1];ih(S,_,S.template,_[8])}else _[5]>0&&Kh(_)}const o=n[1].components;if(null!==o)for(let u=0;u<o.length;u++){const h=Ri(o[u],n);Ho(h)&&h[5]>0&&Kh(h)}}function sh(n,r){const o=Ri(r,n),u=o[1];(function $c(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(u,o),lg(u,o,o[8])}function oh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function jc(n){for(;n;){n[2]|=32;const r=ml(n);if(ro(n)&&!r)return n;n=r}return null}function _c(n,r,o,u=!0){const h=r[10];h.begin&&h.begin();try{ih(n,r,n.template,o)}catch(S){throw u&&ep(r,S),S}finally{h.end&&h.end()}}function Gc(n,r,o){Wa(0),r(n,o)}function Xm(n){return n[7]||(n[7]=[])}function Jf(n){return n.cleanup||(n.cleanup=[])}function ep(n,r){const o=n[9],u=o?o.get(Tu,null):null;u&&u.handleError(r)}function Yh(n,r,o,u,h){for(let _=0;_<o.length;){const S=o[_++],R=o[_++],B=r[S],q=n.data[S];null!==q.setInput?q.setInput(B,h,u,R):B[R]=h}}function tp(n,r,o){let u=o?n.styles:null,h=o?n.classes:null,_=0;if(null!==r)for(let S=0;S<r.length;S++){const R=r[S];"number"==typeof R?_=R:1==_?h=Ge(h,R):2==_&&(u=Ge(u,R+": "+r[++S]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=h:n.classesWithoutHost=h}function ah(n,r,o,u,h=!1){for(;null!==o;){const _=r[o.index];if(null!==_&&u.push(Vr(_)),Oi(_))for(let R=10;R<_.length;R++){const B=_[R],q=B[1].firstChild;null!==q&&ah(B[1],B,q,u)}const S=o.type;if(8&S)ah(n,r,o.child,u);else if(32&S){const R=$d(o,r);let B;for(;B=R();)u.push(B)}else if(16&S){const R=vu(r,o);if(Array.isArray(R))u.push(...R);else{const B=ml(r[16]);ah(B[1],B,R,u,!0)}}o=h?o.projectionNext:o.next}return u}class Cd{get rootNodes(){const r=this._lView,o=r[1];return ah(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Oi(r)){const o=r[8],u=o?o.indexOf(this):-1;u>-1&&(yu(r,u),N(o,u))}this._attachedToViewContainer=!1}Fu(this._lView[1],this._lView)}onDestroy(r){zf(this._lView[1],this._lView,null,r)}markForCheck(){jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){_c(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ou(n,r){Bu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=r}}class Py extends Cd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;_c(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class vg extends Ol{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=vr(r);return new lh(o,this.ngModule)}}function e_(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class n_{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,u){u=Un(u);const h=this.injector.get(r,Ia,u);return h!==Ia||o===Ia?h:this.parentInjector.get(r,o,u)}}class lh extends Uc{get inputs(){return e_(this.componentDef.inputs)}get outputs(){return e_(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function wy(n){return n.map(Ey).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,u,h){let _=(h=h||this.ngModule)instanceof Ss?h:h?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const S=_?new n_(r,_):r,R=S.get(md,null);if(null===R)throw new nt(407,!1);const B=S.get(vd,null),q=R.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",me=u?function qh(n,r,o){return n.selectRootElement(r,o===Hn.ShadowDom)}(q,u,this.componentDef.encapsulation):Pc(q,ie,function t_(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ie)),qe=this.componentDef.onPush?288:272,_t=Zh(0,null,null,1,0,null,null,null,null,null),Gt=Gh(null,_t,null,qe,null,null,R,q,B,S,null);let mn,Bn;aa(Gt);try{const rr=this.componentDef;let Ur,on=null;rr.findHostDirectiveDefs?(Ur=[],on=new Map,rr.findHostDirectiveDefs(rr,Ur,on),Ur.push(rr)):Ur=[rr];const ni=function xy(n,r){const o=n[1];return n[22]=r,rh(o,22,2,"#host",null)}(Gt,me),Bo=function ky(n,r,o,u,h,_,S,R){const B=h[1];!function Fy(n,r,o,u){for(const h of n)r.mergedAttrs=an(r.mergedAttrs,h.hostAttrs);null!==r.mergedAttrs&&(tp(r,r.mergedAttrs,!0),null!==o&&ac(u,o,r))}(u,n,r,S);const q=_.createRenderer(r,o),ie=Gh(h,Sd(o),null,o.onPush?32:16,h[n.index],n,_,q,R||null,null,null);return B.firstCreatePass&&fg(B,n,u.length-1),oh(h,ie),h[n.index]=ie}(ni,me,rr,Ur,Gt,R,q);Bn=na(_t,22),me&&function Eg(n,r,o,u){if(u)zt(n,o,["ng-version",Kd.full]);else{const{attrs:h,classes:_}=function Dy(n){const r=[],o=[];let u=1,h=2;for(;u<n.length;){let _=n[u];if("string"==typeof _)2===h?""!==_&&r.push(_,n[++u]):8===h&&o.push(_);else{if(!fu(h))break;h=_}u++}return{attrs:r,classes:o}}(r.selectors[0]);h&&zt(n,o,h),_&&_.length>0&&_l(n,o,_.join(" "))}}(q,rr,me,u),void 0!==o&&function wg(n,r,o){const u=n.projection=[];for(let h=0;h<r.length;h++){const _=o[h];u.push(null!=_?Array.from(_):null)}}(Bn,this.ngContentSelectors,o),mn=function bg(n,r,o,u,h,_){const S=rt(),R=h[1],B=Vi(S,h);Kf(R,h,S,o,null,u);for(let ie=0;ie<o.length;ie++)Do(si(h,R,S.directiveStart+ie,S),h);Td(R,h,S),B&&Do(B,h);const q=si(h,R,S.directiveStart+S.componentOffset,S);if(n[8]=h[8]=q,null!==_)for(const ie of _)ie(q,r);return ug(R,S,n),q}(Bo,rr,Ur,on,Gt,[Ly]),lg(_t,Gt,null)}finally{vl()}return new r_(this.componentType,mn,il(Bn,Gt),Gt,Bn)}}class r_ extends Bc{constructor(r,o,u,h,_){super(),this.location=u,this._rootLView=h,this._tNode=_,this.instance=o,this.hostView=this.changeDetectorRef=new Py(h),this.componentType=r}setInput(r,o){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[r])){const _=this._rootLView;Yh(_[1],_,h,r,o),qf(_,this._tNode.index)}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ly(){const n=rt();Fa(k()[1],n)}function Dg(n){let r=function np(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;r;){let h;if(Ui(n))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new nt(903,!1);h=r.\u0275dir}if(h){if(o){u.push(h);const S=n;S.inputs=rp(n.inputs),S.declaredInputs=rp(n.declaredInputs),S.outputs=rp(n.outputs);const R=h.hostBindings;R&&By(n,R);const B=h.viewQuery,q=h.contentQueries;if(B&&Tg(n,B),q&&i_(n,q),je(n.inputs,h.inputs),je(n.declaredInputs,h.declaredInputs),je(n.outputs,h.outputs),Ui(h)&&h.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let S=0;S<_.length;S++){const R=_[S];R&&R.ngInherit&&R(n),R===Dg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Sg(n){let r=0,o=null;for(let u=n.length-1;u>=0;u--){const h=n[u];h.hostVars=r+=h.hostVars,h.hostAttrs=an(h.hostAttrs,o=an(o,h.hostAttrs))}}(u)}function rp(n){return n===xr?{}:n===Ne?[]:n}function Tg(n,r){const o=n.viewQuery;n.viewQuery=o?(u,h)=>{r(u,h),o(u,h)}:r}function i_(n,r){const o=n.contentQueries;n.contentQueries=o?(u,h,_)=>{r(u,h,_),o(u,h,_)}:r}function By(n,r){const o=n.hostBindings;n.hostBindings=o?(u,h)=>{r(u,h),o(u,h)}:r}let vc=null;function zc(){if(!vc){const n=kn.Symbol;if(n&&n.iterator)vc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const u=r[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(vc=u)}}}return vc}function op(n){return!!Qh(n)&&(Array.isArray(n)||!(n instanceof Map)&&zc()in n)}function Qh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gu(n,r,o){return n[r]=o}function sl(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Ec(n,r,o,u){const h=sl(n,r,o);return sl(n,r+1,u)||h}function Ng(n,r,o,u){const h=k();return sl(h,Wi(),r)&&(L(),function pu(n,r,o,u,h,_){const S=Vi(n,r);gg(r[11],S,_,n.value,o,u,h)}(Fr(),h,n,r,o,u)),Ng}function uh(n,r,o,u){return sl(n,Wi(),o)?r+ve(o)+u:Kr}function xg(n,r,o,u,h,_,S,R){const B=k(),q=L(),ie=n+22,me=q.firstCreatePass?function d_(n,r,o,u,h,_,S,R,B){const q=r.consts,ie=rh(r,n,4,S||null,bs(q,R));cg(r,o,ie,bs(q,B)),Fa(r,ie);const me=ie.tViews=Zh(2,ie,u,h,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,q);return null!==r.queries&&(r.queries.template(r,ie),me.queries=r.queries.embeddedTView(ie)),ie}(ie,q,B,r,o,u,h,_,S):q.data[ie];ii(me,!1);const qe=B[11].createComment("");Sa(q,B,qe,me),Do(qe,B),oh(B,B[ie]=Qf(qe,B,qe,me)),no(me)&&Dd(q,B,me),null!=S&&Wh(B,me,R)}function Xh(n){return lo(function va(){return Yn.lFrame.contextLView}(),22+n)}function Ei(n,r,o){const u=k();return sl(u,Wi(),r)&&Xl(L(),Fr(),u,n,r,u[11],o,!1),Ei}function hp(n,r,o,u,h){const S=h?"class":"style";Yh(n,o,r.inputs[S],S,u)}function ef(n,r,o,u){const h=k(),_=L(),S=22+n,R=h[11],B=h[S]=Pc(R,r,function Ul(){return Yn.lFrame.currentNamespace}()),q=_.firstCreatePass?function f_(n,r,o,u,h,_,S){const R=r.consts,q=rh(r,n,2,h,bs(R,_));return cg(r,o,q,bs(R,S)),null!==q.attrs&&tp(q,q.attrs,!1),null!==q.mergedAttrs&&tp(q,q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,q),q}(S,_,h,0,r,o,u):_.data[S];return ii(q,!0),ac(R,B,q),32!=(32&q.flags)&&Sa(_,h,B,q),0===function Mo(){return Yn.lFrame.elementDepthCount}()&&Do(B,h),function sa(){Yn.lFrame.elementDepthCount++}(),no(q)&&(Dd(_,h,q),ug(_,q,h)),null!==u&&Wh(h,q),ef}function Yc(){let n=rt();Bs()?Us():(n=n.parent,ii(n,!1));const r=n;!function jo(){Yn.lFrame.elementDepthCount--}();const o=L();return o.firstCreatePass&&(Fa(o,n),Xi(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function mt(n){return 0!=(8&n.flags)}(r)&&hp(o,r,k(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function gn(n){return 0!=(16&n.flags)}(r)&&hp(o,r,k(),r.stylesWithoutHost,!1),Yc}function fp(n,r,o,u){return ef(n,r,o,u),Yc(),fp}function pa(n,r,o){const u=k(),h=L(),_=n+22,S=h.firstCreatePass?function Js(n,r,o,u,h){const _=r.consts,S=bs(_,u),R=rh(r,n,8,"ng-container",S);return null!==S&&tp(R,S,!0),cg(r,o,R,bs(_,h)),null!==r.queries&&r.queries.elementStart(r,R),R}(_,h,u,r,o):h.data[_];ii(S,!0);const R=u[_]=u[11].createComment("");return Sa(h,u,R,S),Do(R,u),no(S)&&(Dd(h,u,S),ug(h,S,u)),null!=o&&Wh(u,S),pa}function eu(){let n=rt();const r=L();return Bs()?Us():(n=n.parent,ii(n,!1)),r.firstCreatePass&&(Fa(r,n),Xi(n)&&r.queries.elementEnd(n)),eu}function pp(n,r,o){return pa(n,r,o),eu(),pp}function p_(){return k()}function hh(n){return!!n&&"function"==typeof n.then}function kg(n){return!!n&&"function"==typeof n.subscribe}const gp=kg;function mp(n,r,o,u){const h=k(),_=L(),S=rt();return function jy(n,r,o,u,h,_,S){const R=no(u),q=n.firstCreatePass&&Jf(n),ie=r[8],me=Xm(r);let qe=!0;if(3&u.type||S){const mn=Vi(u,r),Bn=S?S(mn):mn,rr=me.length,Ur=S?ni=>S(Vr(ni[u.index])):u.index;let on=null;if(!S&&R&&(on=function $y(n,r,o,u){const h=n.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const S=h[_];if(S===o&&h[_+1]===u){const R=r[7],B=h[_+2];return R.length>B?R[B]:null}"string"==typeof S&&(_+=2)}return null}(n,r,h,u.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=_,on.__ngLastListenerFn__=_,qe=!1;else{_=m_(u,r,ie,_,!1);const ni=o.listen(Bn,h,_);me.push(_,ni),q&&q.push(h,Ur,rr,rr+1)}}else _=m_(u,r,ie,_,!1);const _t=u.outputs;let Gt;if(qe&&null!==_t&&(Gt=_t[h])){const mn=Gt.length;if(mn)for(let Bn=0;Bn<mn;Bn+=2){const Bo=r[Gt[Bn]][Gt[Bn+1]].subscribe(_),Oa=me.length;me.push(_,Bo),q&&q.push(h,u.index,Oa,-(Oa+1))}}}(_,h,h[11],S,n,r,u),mp}function g_(n,r,o,u){try{return!1!==o(u)}catch(h){return ep(n,h),!1}}function m_(n,r,o,u,h){return function _(S){if(S===Function)return u;jc(n.componentOffset>-1?Ri(n.index,r):r);let B=g_(r,0,u,S),q=_.__ngNextListenerFn__;for(;q;)B=g_(r,0,q,S)&&B,q=q.__ngNextListenerFn__;return h&&!1===B&&(S.preventDefault(),S.returnValue=!1),B}}function __(n=1){return function Ll(n){return(Yn.lFrame.contextLView=function ul(n,r){for(;n>0;)r=r[15],n--;return r}(n,Yn.lFrame.contextLView))[8]}(n)}function Gy(n,r){let o=null;const u=function Nm(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(n);for(let h=0;h<r.length;h++){const _=r[h];if("*"!==_){if(null===u?Mm(n,_,!0):Kp(u,_))return h}else o=h}return o}function y_(n){const r=k()[16][6];if(!r.projection){const u=r.projection=w(n?n.length:1,null),h=u.slice();let _=r.child;for(;null!==_;){const S=n?Gy(_,n):0;null!==S&&(h[S]?h[S].projectionNext=_:u[S]=_,h[S]=_),_=_.next}}}function Fg(n,r=0,o){const u=k(),h=L(),_=rh(h,22+n,16,null,o||null);null===_.projection&&(_.projection=r),Us(),32!=(32&_.flags)&&function sc(n,r,o){ql(r[11],0,r,o,ld(n,o,r),ud(o.parent||r[6],o,r))}(h,u,_)}function nf(n,r,o){return rf(n,"",r,"",o),nf}function rf(n,r,o,u,h){const _=k(),S=uh(_,r,o,u);return S!==Kr&&Xl(L(),Fr(),_,n,S,_[11],h,!1),rf}function fh(n,r){return n<<17|r<<2}function wc(n){return n>>17&32767}function Ug(n){return 2|n}function Md(n){return(131068&n)>>2}function Vg(n,r){return-131069&n|r<<2}function Hg(n){return 1|n}function b_(n,r,o,u,h){const _=n[o+1],S=null===r;let R=u?wc(_):Md(_),B=!1;for(;0!==R&&(!1===B||S);){const ie=n[R+1];$g(n[R],r)&&(B=!0,n[R+1]=u?Hg(ie):Ug(ie)),R=u?wc(ie):Md(ie)}B&&(n[o+1]=u?Ug(_):Hg(_))}function $g(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Wt(n,r)>=0}const Ma={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E_(n){return n.substring(Ma.key,Ma.keyEnd)}function qy(n,r){const o=Ma.textEnd;return o===r?-1:(r=Ma.keyEnd=function D_(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,Ma.key=r,o),gh(n,r,o))}function gh(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Gg(n,r,o){return Ya(n,r,o,!1),Gg}function zg(n,r){return Ya(n,r,null,!0),zg}function Wu(n){xl($e,Dc,n,!0)}function Dc(n,r){for(let o=function c0(n){return function w_(n){Ma.key=0,Ma.keyEnd=0,Ma.value=0,Ma.valueEnd=0,Ma.textEnd=n.length}(n),qy(n,gh(n,0,Ma.textEnd))}(r);o>=0;o=qy(r,o))$e(n,E_(r),!0)}function Ya(n,r,o,u){const h=k(),_=L(),S=Es(2);_.firstUpdatePass&&I_(_,n,S,u),r!==Kr&&sl(h,S,r)&&N_(_,_.data[Ms()],h,h[11],n,h[S+1]=function qg(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Oe(A(n)))),n}(r,o),u,S)}function xl(n,r,o,u){const h=L(),_=Es(2);h.firstUpdatePass&&I_(h,null,_,u);const S=k();if(o!==Kr&&sl(S,_,o)){const R=h.data[Ms()];if(Sp(R,u)&&!C_(h,_)){let B=u?R.classesWithoutHost:R.stylesWithoutHost;null!==B&&(o=Ge(B,o||"")),hp(h,R,S,o,u)}else!function Zg(n,r,o,u,h,_,S,R){h===Kr&&(h=Ne);let B=0,q=0,ie=0<h.length?h[0]:null,me=0<_.length?_[0]:null;for(;null!==ie||null!==me;){const qe=B<h.length?h[B+1]:void 0,_t=q<_.length?_[q+1]:void 0;let mn,Gt=null;ie===me?(B+=2,q+=2,qe!==_t&&(Gt=me,mn=_t)):null===me||null!==ie&&ie<me?(B+=2,Gt=ie):(q+=2,Gt=me,mn=_t),null!==Gt&&N_(n,r,o,u,Gt,mn,S,R),ie=B<h.length?h[B]:null,me=q<_.length?_[q]:null}}(h,R,S,S[11],S[_+1],S[_+1]=function lf(n,r,o){if(null==o||""===o)return Ne;const u=[],h=A(o);if(Array.isArray(h))for(let _=0;_<h.length;_++)n(u,h[_],!0);else if("object"==typeof h)for(const _ in h)h.hasOwnProperty(_)&&n(u,_,h[_]);else"string"==typeof h&&r(u,h);return u}(n,r,o),u,_)}}function C_(n,r){return r>=n.expandoStartIndex}function I_(n,r,o,u){const h=n.data;if(null===h[o+1]){const _=h[Ms()],S=C_(n,o);Sp(_,u)&&null===r&&!S&&(r=!1),r=function A_(n,r,o,u){const h=Ws(n);let _=u?r.residualClasses:r.residualStyles;if(null===h)0===(u?r.classBindings:r.styleBindings)&&(o=Qc(o=Sc(null,n,r,o,u),r.attrs,u),_=null);else{const S=r.directiveStylingLast;if(-1===S||n[S]!==h)if(o=Sc(h,n,r,o,u),null===_){let B=function M_(n,r,o){const u=o?r.classBindings:r.styleBindings;if(0!==Md(u))return n[wc(u)]}(n,r,u);void 0!==B&&Array.isArray(B)&&(B=Sc(null,n,r,B[1],u),B=Qc(B,r.attrs,u),function wp(n,r,o,u){n[wc(o?r.classBindings:r.styleBindings)]=u}(n,r,u,B))}else _=function Qy(n,r,o){let u;const h=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<h;_++)u=Qc(u,n[_].hostAttrs,o);return Qc(u,r.attrs,o)}(n,r,u)}return void 0!==_&&(u?r.residualClasses=_:r.residualStyles=_),o}(h,_,r,u),function Wy(n,r,o,u,h,_){let S=_?r.classBindings:r.styleBindings,R=wc(S),B=Md(S);n[u]=o;let ie,q=!1;if(Array.isArray(o)?(ie=o[1],(null===ie||Wt(o,ie)>0)&&(q=!0)):ie=o,h)if(0!==B){const qe=wc(n[R+1]);n[u+1]=fh(qe,R),0!==qe&&(n[qe+1]=Vg(n[qe+1],u)),n[R+1]=function Bg(n,r){return 131071&n|r<<17}(n[R+1],u)}else n[u+1]=fh(R,0),0!==R&&(n[R+1]=Vg(n[R+1],u)),R=u;else n[u+1]=fh(B,0),0===R?R=u:n[B+1]=Vg(n[B+1],u),B=u;q&&(n[u+1]=Ug(n[u+1])),b_(n,ie,u,!0),b_(n,ie,u,!1),function Zy(n,r,o,u,h){const _=h?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&Wt(_,r)>=0&&(o[u+1]=Hg(o[u+1]))}(r,ie,n,u,_),S=fh(R,B),_?r.classBindings=S:r.styleBindings=S}(h,_,r,o,S,u)}}function Sc(n,r,o,u,h){let _=null;const S=o.directiveEnd;let R=o.directiveStylingLast;for(-1===R?R=o.directiveStart:R++;R<S&&(_=r[R],u=Qc(u,_.hostAttrs,h),_!==n);)R++;return null!==n&&(o.directiveStylingLast=R),u}function Qc(n,r,o){const u=o?1:2;let h=-1;if(null!==r)for(let _=0;_<r.length;_++){const S=r[_];"number"==typeof S?h=S:h===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$e(n,S,!!o||r[++_]))}return void 0===n?null:n}function N_(n,r,o,u,h,_,S,R){if(!(3&r.type))return;const B=n.data,q=B[R+1],ie=function v_(n){return 1==(1&n)}(q)?O_(B,r,o,h,Md(q),S):void 0;Dp(ie)||(Dp(_)||function ph(n){return 2==(2&n)}(q)&&(_=O_(B,null,o,h,R,S)),function Uu(n,r,o,u,h){if(r)h?n.addClass(o,u):n.removeClass(o,u);else{let _=-1===u.indexOf("-")?void 0:xo.DashCase;null==h?n.removeStyle(o,u,_):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),_|=xo.Important),n.setStyle(o,u,h,_))}}(u,S,zi(Ms(),o),h,_))}function O_(n,r,o,u,h,_){const S=null===r;let R;for(;h>0;){const B=n[h],q=Array.isArray(B),ie=q?B[1]:B,me=null===ie;let qe=o[h+1];qe===Kr&&(qe=me?Ne:void 0);let _t=me?Ut(qe,u):ie===u?qe:void 0;if(q&&!Dp(_t)&&(_t=Ut(B,u)),Dp(_t)&&(R=_t,S))return R;const Gt=n[h+1];h=S?wc(Gt):Md(Gt)}if(null!==r){let B=_?r.residualClasses:r.residualStyles;null!=B&&(R=Ut(B,u))}return R}function Dp(n){return void 0!==n}function Sp(n,r){return 0!=(n.flags&(r?8:16))}function Kg(n,r=""){const o=k(),u=L(),h=n+22,_=u.firstCreatePass?rh(u,h,1,r,null):u.data[h],S=o[h]=ad(o[11],r);Sa(u,o,S,_),ii(_,!1)}function Tc(n){return uf("",n,""),Tc}function uf(n,r,o){const u=k(),h=uh(u,n,r,o);return h!==Kr&&function yc(n,r,o){const u=zi(r,n);ec(n[11],u,o)}(u,Ms(),h),uf}function hf(n,r,o,u,h){xl($e,Dc,function Zc(n,r,o,u,h,_){const R=Ec(n,mr(),o,h);return Es(2),R?r+ve(o)+u+ve(h)+_:Kr}(k(),n,r,o,u,h),!0)}function Mp(n,r,o){const u=k();return sl(u,Wi(),r)&&Xl(L(),Fr(),u,n,r,u[11],o,!0),Mp}function mf(n,r,o){const u=k();if(sl(u,Wi(),r)){const _=L(),S=Fr();Xl(_,S,u,n,r,function Xf(n,r,o){return(null===n||Ui(n))&&(o=function ts(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}(Ws(_.data),S,u),o,!0)}return mf}const Zu=void 0;var Nd=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let kl={};function _f(n,r,o){"string"!=typeof r&&(o=r,r=n[Ir.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),kl[r]=n,o&&(kl[r][Ir.ExtraData]=o)}function qu(n){const r=function sv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=L_(r);if(o)return o;const u=r.split("-")[0];if(o=L_(u),o)return o;if("en"===u)return Nd;throw new nt(701,!1)}function sm(n){return qu(n)[Ir.PluralCase]}function L_(n){return n in kl||(kl[n]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[n]),kl[n]}var Ir=(()=>((Ir=Ir||{})[Ir.LocaleId=0]="LocaleId",Ir[Ir.DayPeriodsFormat=1]="DayPeriodsFormat",Ir[Ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ir[Ir.DaysFormat=3]="DaysFormat",Ir[Ir.DaysStandalone=4]="DaysStandalone",Ir[Ir.MonthsFormat=5]="MonthsFormat",Ir[Ir.MonthsStandalone=6]="MonthsStandalone",Ir[Ir.Eras=7]="Eras",Ir[Ir.FirstDayOfWeek=8]="FirstDayOfWeek",Ir[Ir.WeekendRange=9]="WeekendRange",Ir[Ir.DateFormat=10]="DateFormat",Ir[Ir.TimeFormat=11]="TimeFormat",Ir[Ir.DateTimeFormat=12]="DateTimeFormat",Ir[Ir.NumberSymbols=13]="NumberSymbols",Ir[Ir.NumberFormats=14]="NumberFormats",Ir[Ir.CurrencyCode=15]="CurrencyCode",Ir[Ir.CurrencySymbol=16]="CurrencySymbol",Ir[Ir.CurrencyName=17]="CurrencyName",Ir[Ir.Currencies=18]="Currencies",Ir[Ir.Directionality=19]="Directionality",Ir[Ir.PluralCase=20]="PluralCase",Ir[Ir.ExtraData=21]="ExtraData",Ir))();const ov=["zero","one","two","few","many"],yh="en-US",yf={marker:"element"},Np={marker:"ICU"};var Lo=(()=>((Lo=Lo||{})[Lo.SHIFT=2]="SHIFT",Lo[Lo.APPEND_EAGERLY=1]="APPEND_EAGERLY",Lo[Lo.COMMENT=2]="COMMENT",Lo))();let U_=yh;function Rd(n){(function Yt(n,r){null==n&&Ue(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(U_=n.toLowerCase().replace(/_/g,"-"))}function uv(n,r,o){const u=r.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?fa(n,0,o):Vr(o[h])}function cv(n,r,o,u,h){const _=r.insertBeforeIndex;if(Array.isArray(_)){let S=u,R=null;if(3&r.type||(R=S,S=h),null!==S&&-1===r.componentOffset)for(let B=1;B<_.length;B++)Gl(n,S,o[_[B]],R,!1)}}function V_(n,r){if(n.push(r),n.length>1)for(let o=n.length-2;o>=0;o--){const u=n[o];am(u)||Xc(u,r)&&null===dv(u)&&hv(u,r.index)}}function am(n){return!(64&n.type)}function Xc(n,r){return am(r)||n.index>r.index}function dv(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function hv(n,r){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=r:(ic(uv,cv),n.insertBeforeIndex=r)}function vf(n,r){const o=n.data[r];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function gv(n,r,o){const u=ag(n,o,64,null,null);return V_(r,u),u}function Op(n,r){const o=r[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function mv(n){return n>>>17}function _v(n){return(131070&n)>>>1}let bf=0,Pd=0;function Rp(n,r,o,u){const h=o[11];let S,_=null;for(let R=0;R<r.length;R++){const B=r[R];if("string"==typeof B){const q=r[++R];null===o[q]&&(o[q]=ad(h,B))}else if("number"==typeof B)switch(1&B){case 0:const q=mv(B);let ie,me;if(null===_&&(_=q,S=rc(h,u)),q===_?(ie=u,me=S):(ie=null,me=Vr(o[q])),null!==me){const mn=_v(B);Gl(h,me,o[mn],ie,!1);const rr=vf(n,mn);if(null!==rr&&"object"==typeof rr){const Ur=Op(rr,o);null!==Ur&&Rp(n,rr.create[Ur],o,o[rr.anchorIdx])}}break;case 1:const _t=r[++R],Gt=r[++R];gg(h,zi(B>>>1,o),null,null,_t,Gt,null)}else switch(B){case Np:const q=r[++R],ie=r[++R];null===o[ie]&&Do(o[ie]=Ah(h,q),o);break;case yf:const me=r[++R],qe=r[++R];null===o[qe]&&Do(o[qe]=Pc(h,me,null),o)}}}function j_(n,r,o,u,h){for(let _=0;_<o.length;_++){const S=o[_],R=o[++_];if(S&h){let B="";for(let q=_+1;q<=_+R;q++){const ie=o[q];if("string"==typeof ie)B+=ie;else if("number"==typeof ie)if(ie<0)B+=ve(r[u-ie]);else{const me=ie>>>2;switch(3&ie){case 1:const qe=o[++q],_t=o[++q],Gt=n.data[me];"string"==typeof Gt?gg(r[11],r[me],null,Gt,qe,B,_t):Xl(n,Gt,r,qe,B,r[11],_t,!1);break;case 0:const mn=r[me];null!==mn&&ec(r[11],mn,B);break;case 2:z_(n,vf(n,me),r,B);break;case 3:G_(n,vf(n,me),u,r)}}}}else{const B=o[_+1];if(B>0&&3==(3&B)){const ie=vf(n,B>>>2);r[ie.currentCaseLViewIndex]<0&&G_(n,ie,u,r)}}_+=R}}function G_(n,r,o,u){let h=u[r.currentCaseLViewIndex];if(null!==h){let _=bf;h<0&&(h=u[r.currentCaseLViewIndex]=~h,_=-1),j_(n,u,r.update[h],o,_)}}function z_(n,r,o,u){const h=function vv(n,r){let o=n.cases.indexOf(r);if(-1===o)switch(n.type){case 1:{const u=function av(n,r){const o=sm(r)(parseInt(n,10)),u=ov[o];return void 0!==u?u:"other"}(r,function om(){return U_}());o=n.cases.indexOf(u),-1===o&&"other"!==u&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(r,u);if(Op(r,o)!==h&&(wf(n,r,o),o[r.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const S=o[r.anchorIdx];S&&Rp(n,r.create[h],o,S)}}function wf(n,r,o){let u=Op(r,o);if(null!==u){const h=r.remove[u];for(let _=0;_<h.length;_++){const S=h[_];if(S>0){const R=zi(S,o);null!==R&&bu(o[11],R)}else wf(n,vf(n,~S),o)}}}function W_(){const n=[];let o,u,r=-1;function _(R,B){r=0;const q=Op(R,B);u=null!==q?R.remove[q]:Ne}function S(){if(r<u.length){const R=u[r++];return R>0?o[R]:(n.push(r,u),_(o[1].data[~R],o),S())}return 0===n.length?null:(u=n.pop(),r=n.pop(),S())}return function h(R,B){for(o=B;n.length;)n.pop();return _(R.value,B),S}}const Df=/\ufffd(\d+):?\d*\ufffd/gi,Tf=/\ufffd(\d+)\ufffd/,ol=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bh=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,xd=/\uE500/g;function Z_(n,r,o,u,h,_,S){const R=zh(n,u,1,null);let B=R<<Lo.SHIFT,q=qr();r===q&&(q=null),null===q&&(B|=Lo.APPEND_EAGERLY),S&&(B|=Lo.COMMENT,function Ch(n){void 0===Rc&&(Rc=n())}(W_)),h.push(B,null===_?"":_);const ie=ag(n,R,S?32:1,null===_?"":_,null);V_(o,ie);const me=ie.index;return ii(ie,!1),null!==q&&r!==q&&function pv(n,r){let o=n.insertBeforeIndex;null===o?(ic(uv,cv),o=n.insertBeforeIndex=[null,r]):(function Vt(n,r,o){n!=r&&Ue(o,n,r,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(q,me),ie}function wv(n,r,o,u,h,_,S){const R=S.match(Df),B=Z_(n,r,o,_,u,R?null:S,!1);R&&If(h,S,B.index,null,0,null)}function If(n,r,o,u,h,_){const S=n.length,R=S+1;n.push(null,null);const B=S+2,q=r.split(Df);let ie=0;for(let me=0;me<q.length;me++){const qe=q[me];if(1&me){const _t=h+parseInt(qe,10);n.push(-1-_t),ie|=q_(_t)}else""!==qe&&n.push(qe)}return n.push(o<<2|(u?1:0)),u&&n.push(u,_),n[S]=ie,n[R]=n.length-B,ie}function q_(n){return 1<<Math.min(n,31)}function Y_(n){let r,_,o="",u=0,h=!1;for(;null!==(r=cm.exec(n));)h?r[0]===`\ufffd/*${_}\ufffd`&&(u=r.index,h=!1):(o+=n.substring(u,r.index+r[0].length),_=r[1],h=!0);return o+=n.slice(u),o}function Af(n,r,o,u,h,_){let S=0;const R={type:h.type,currentCaseLViewIndex:zh(n,r,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function ey(n,r,o){n.push(q_(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(o,h,_),function fv(n,r,o){const u=n.data[r];null===u?n.data[r]=o:u.value=o}(n,_,R);const B=h.values;for(let q=0;q<B.length;q++){const ie=B[q],me=[];for(let qe=0;qe<ie.length;qe++){const _t=ie[qe];if("string"!=typeof _t){const Gt=me.push(_t)-1;ie[qe]=`\x3c!--\ufffd${Gt}\ufffd--\x3e`}}S=pm(n,R,r,o,u,h.cases[q],ie.join(""),me)|S}S&&function Sv(n,r,o){n.push(r,1,o<<2|3)}(o,S,_)}function Q_(n){const r=[],o=[];let u=1,h=0;const _=fm(n=n.replace(ol,function(S,R,B){return u="select"===B?0:1,h=parseInt(R.slice(1),10),""}));for(let S=0;S<_.length;){let R=_[S++].trim();1===u&&(R=R.replace(/\s*(?:=)?(\w+)\s*/,"$1")),R.length&&r.push(R);const B=fm(_[S++]);r.length>o.length&&o.push(B)}return{type:u,mainBinding:h,cases:r,values:o}}function fm(n){if(!n)return[];let r=0;const o=[],u=[],h=/[{}]/g;let _;for(h.lastIndex=0;_=h.exec(n);){const R=_.index;if("}"==_[0]){if(o.pop(),0==o.length){const B=n.substring(r,R);ol.test(B)?u.push(Q_(B)):u.push(B),r=R+1}}else{if(0==o.length){const B=n.substring(r,R);u.push(B),r=R+1}o.push("{")}}const S=n.substring(r);return u.push(S),u}function pm(n,r,o,u,h,_,S,R){const B=[],q=[],ie=[];r.cases.push(_),r.create.push(B),r.remove.push(q),r.update.push(ie);const qe=ar(Vu()).getInertBodyElement(S),_t=Wd(qe)||qe;return _t?J_(n,r,o,u,B,q,ie,_t,h,R,0):0}function J_(n,r,o,u,h,_,S,R,B,q,ie){let me=0,qe=R.firstChild;for(;qe;){const _t=zh(n,o,1,null);switch(qe.nodeType){case Node.ELEMENT_NODE:const Gt=qe,mn=Gt.tagName.toLowerCase();if(cc.hasOwnProperty(mn)){Pp(h,yf,mn,B,_t),n.data[_t]=mn;const on=Gt.attributes;for(let ni=0;ni<on.length;ni++){const Bo=on.item(ni),Oa=Bo.name.toLowerCase();Bo.value.match(Df)?Up.hasOwnProperty(Oa)&&If(S,Bo.value,_t,Bo.name,0,dc[Oa]?tl:null):ty(h,_t,Bo)}me=J_(n,r,o,u,h,_,S,qe,_t,q,ie+1)|me,gm(_,_t,ie)}break;case Node.TEXT_NODE:const Bn=qe.textContent||"",rr=Bn.match(Df);Pp(h,null,rr?"":Bn,B,_t),gm(_,_t,ie),rr&&(me=If(S,Bn,_t,null,0,null)|me);break;case Node.COMMENT_NODE:const Ur=Tf.exec(qe.textContent||"");if(Ur){const ni=q[parseInt(Ur[1],10)];Pp(h,Np,"",B,_t),Af(n,o,u,B,ni,_t),X_(_,_t,ie)}}qe=qe.nextSibling}return me}function gm(n,r,o){0===o&&n.push(r)}function X_(n,r,o){0===o&&(n.push(~r),n.push(r))}function Pp(n,r,o,u,h){null!==r&&n.push(r),n.push(o,h,function yv(n,r,o){return n|r<<17|o<<1}(0,u,h))}function ty(n,r,o){n.push(r<<1|1,o.name,o.value)}function c(n,r,o=-1){const u=L(),h=k(),_=22+n,S=bs(u.consts,r),R=qr();u.firstCreatePass&&function Ev(n,r,o,u,h,_){const S=qr(),R=[],B=[],q=[[]];h=function hm(n,r){if(function K_(n){return-1===n}(r))return Y_(n);{const o=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,u=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return Y_(n.substring(o,u))}}(h,_);const ie=function dm(n){return n.replace(xd," ")}(h).split(bh);for(let me=0;me<ie.length;me++){let qe=ie[me];if(1&me){const _t=47===qe.charCodeAt(0),mn=(qe.charCodeAt(_t?1:0),22+Number.parseInt(qe.substring(_t?2:1)));if(_t)q.shift(),ii(qr(),!1);else{const Bn=gv(n,q[0],mn);q.unshift([]),ii(Bn,!0)}}else{const _t=fm(qe);for(let Gt=0;Gt<_t.length;Gt++){let mn=_t[Gt];if(1&Gt){const Bn=mn;if("object"!=typeof Bn)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Af(n,o,B,r,Bn,Z_(n,S,q[0],o,R,"",!0).index)}else""!==mn&&wv(n,S,q[0],R,B,o,mn)}}}n.data[u]={create:R,update:B}}(u,null===R?0:R.index,h,_,S,o);const B=u.data[_],ie=lu(u,R===h[6]?null:R,h);(function Ef(n,r,o,u){const h=n[11];for(let _=0;_<r.length;_++){const S=r[_++],R=r[_],q=(S&Lo.APPEND_EAGERLY)===Lo.APPEND_EAGERLY,ie=S>>>Lo.SHIFT;let me=n[ie];null===me&&(me=n[ie]=(S&Lo.COMMENT)===Lo.COMMENT?h.createComment(R):ad(h,R)),q&&null!==o&&Gl(h,o,me,u,!1)}})(h,B.create,ie,R&&8&R.type?h[R.index]:null),zo(!0)}function b(n,r,o){c(n,r,o),function p(){zo(!1)}()}function Z(n){return function H_(n){n&&(bf|=1<<Math.min(Pd,31)),Pd++}(sl(k(),Wi(),n)),Z}function Q(n){!function $_(n,r,o){if(Pd>0){const u=n.data[o];j_(n,r,Array.isArray(u)?u:u.update,mr()-Pd-1,bf)}bf=0,Pd=0}(L(),k(),n+22)}function gt(n,r,o,u,h){if(n=Me(n),Array.isArray(n))for(let _=0;_<n.length;_++)gt(n[_],r,o,u,h);else{const _=L(),S=k();let R=Zr(n)?n:Me(n.provide),B=nl(n);const q=rt(),ie=1048575&q.providerIndexes,me=q.directiveStart,qe=q.providerIndexes>>20;if(Zr(n)||!n.multi){const _t=new lt(B,h,nh),Gt=xn(R,r,h?ie:ie+qe,me);-1===Gt?(tn($t(q,S),_,R),Zt(_,n,r.length),r.push(R),q.directiveStart++,q.directiveEnd++,h&&(q.providerIndexes+=1048576),o.push(_t),S.push(_t)):(o[Gt]=_t,S[Gt]=_t)}else{const _t=xn(R,r,ie+qe,me),Gt=xn(R,r,ie,ie+qe),Bn=Gt>=0&&o[Gt];if(h&&!Bn||!h&&!(_t>=0&&o[_t])){tn($t(q,S),_,R);const rr=function Hi(n,r,o,u,h){const _=new lt(n,o,nh);return _.multi=[],_.index=r,_.componentProviders=0,nn(_,h,u&&!o),_}(h?Ts:ur,o.length,h,u,B);!h&&Bn&&(o[Gt].providerFactory=rr),Zt(_,n,r.length,0),r.push(R),q.directiveStart++,q.directiveEnd++,h&&(q.providerIndexes+=1048576),o.push(rr),S.push(rr)}else Zt(_,n,_t>-1?_t:Gt,nn(o[h?Gt:_t],B,!h&&u));!h&&u&&Bn&&o[Gt].componentProviders++}}}function Zt(n,r,o,u){const h=Zr(r),_=function Ds(n){return!!n.useClass}(r);if(h||_){const B=(_?Me(r.useClass):r).prototype.ngOnDestroy;if(B){const q=n.destroyHooks||(n.destroyHooks=[]);if(!h&&r.multi){const ie=q.indexOf(o);-1===ie?q.push(o,[u,B]):q[ie+1].push(u,B)}else q.push(o,B)}}}function nn(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function xn(n,r,o,u){for(let h=o;h<u;h++)if(r[h]===n)return h;return-1}function ur(n,r,o,u){return js(this.multi,[])}function Ts(n,r,o,u){const h=this.multi;let _;if(this.providerFactory){const S=this.providerFactory.componentProviders,R=si(o,o[1],this.providerFactory.index,u);_=R.slice(0,S),js(h,_);for(let B=S;B<R.length;B++)_.push(R[B])}else _=[],js(h,_);return _}function js(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function So(n,r=[]){return o=>{o.providersResolver=(u,h)=>function Ae(n,r,o){const u=L();if(u.firstCreatePass){const h=Ui(n);gt(o,u.data,u.blueprint,h,!0),gt(r,u.data,u.blueprint,h,!1)}}(u,h?h(n):n,r)}}class wi{}class Ki{}function Na(n,r){return new p0(n,r??null)}class p0 extends wi{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vg(this);const u=Fi(r);this._bootstrapComponents=Gu(u.bootstrap),this._r3Injector=xm(r,o,[{provide:wi,useValue:this},{provide:Ol,useValue:this.componentFactoryResolver}],Oe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Iv extends Ki{constructor(r){super(),this.moduleType=r}create(r){return new p0(this.moduleType,r)}}class jb extends wi{constructor(r,o,u){super(),this.componentFactoryResolver=new vg(this),this.instance=null;const h=new Fo([...r,{provide:wi,useValue:this},{provide:Ol,useValue:this.componentFactoryResolver}],o||qi(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Av(n,r,o=null){return new jb(n,r,o).injector}let Gb=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=ut(0,o.type),h=u.length>0?Av([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ke({token:n,providedIn:"environment",factory:()=>new n(Xt(Ss))}),n})();function g0(n){n.getStandaloneInjector=r=>r.get(Gb).getOrCreateStandaloneInjector(n)}function w0(n,r,o,u){return C0(k(),Pi(),n,r,o,u)}function D0(n,r,o,u,h){return I0(k(),Pi(),n,r,o,u,h)}function S0(n,r,o,u,h,_){return function A0(n,r,o,u,h,_,S,R){const B=r+o;return function ap(n,r,o,u,h){const _=Ec(n,r,o,u);return sl(n,r+2,h)||_}(n,B,h,_,S)?gu(n,B+3,R?u.call(R,h,_,S):u(h,_,S)):mm(n,B+3)}(k(),Pi(),n,r,o,u,h,_)}function T0(n,r,o,u,h,_,S){return function M0(n,r,o,u,h,_,S,R,B){const q=r+o;return function Pl(n,r,o,u,h,_){const S=Ec(n,r,o,u);return Ec(n,r+2,h,_)||S}(n,q,h,_,S,R)?gu(n,q+4,B?u.call(B,h,_,S,R):u(h,_,S,R)):mm(n,q+4)}(k(),Pi(),n,r,o,u,h,_,S)}function mm(n,r){const o=n[r];return o===Kr?void 0:o}function C0(n,r,o,u,h,_){const S=r+o;return sl(n,S,h)?gu(n,S+1,_?u.call(_,h):u(h)):mm(n,S+1)}function I0(n,r,o,u,h,_,S){const R=r+o;return Ec(n,R,h,_)?gu(n,R+2,S?u.call(S,h,_):u(h,_)):mm(n,R+2)}function O0(n,r){const o=L();let u;const h=n+22;o.firstCreatePass?(u=function sE(n,r){if(r)for(let o=r.length-1;o>=0;o--){const u=r[o];if(n===u.name)return u}}(r,o.pipeRegistry),o.data[h]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(h,u.onDestroy)):u=o.data[h];const _=u.factory||(u.factory=dr(u.type)),S=jn(nh);try{const R=C(!1),B=_();return C(R),function h_(n,r,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=u}(o,k(),h,B),B}finally{jn(S)}}function R0(n,r,o){const u=n+22,h=k(),_=lo(h,u);return _m(h,u)?C0(h,Pi(),r,_.transform,o,_):_.transform(o)}function P0(n,r,o,u){const h=n+22,_=k(),S=lo(_,h);return _m(_,h)?I0(_,Pi(),r,S.transform,o,u,S):S.transform(o,u)}function _m(n,r){return n[1].data[r].pure}function Nv(n){return r=>{setTimeout(n,void 0,r)}}const td=class uE extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,u){let h=r,_=o||(()=>null),S=u;if(r&&"object"==typeof r){const B=r;h=B.next?.bind(B),_=B.error?.bind(B),S=B.complete?.bind(B)}this.__isAsync&&(_=Nv(_),h&&(h=Nv(h)),S&&(S=Nv(S)));const R=super.subscribe({next:h,error:_,complete:S});return r instanceof te.w0&&r.add(R),R}};function cE(){return this._results[zc()]()}class Ov{get changes(){return this._changes||(this._changes=new td)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=zc(),u=Ov.prototype;u[o]||(u[o]=cE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const u=this;u.dirty=!1;const h=function Eo(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ea(n,r,o){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let h=n[u],_=r[u];if(o&&(h=o(h),_=o(_)),_!==h)return!1}return!0}(u._results,h,o))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ym=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();const dE=ym,hE=class extends dE{constructor(r,o,u){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(r,o){const u=this._declarationTContainer.tViews,h=Gh(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,o||null);h[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(h[19]=S.createEmbeddedView(u)),lg(u,h,r),new Cd(h)}};function fE(){return sy(rt(),k())}function sy(n,r){return 4&n.type?new hE(r,n,il(n,r)):null}let oy=(()=>{class n{}return n.__NG_ELEMENT_ID__=pE,n})();function pE(){return F0(rt(),k())}const gE=oy,x0=class extends gE{constructor(r,o,u){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=u}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){const r=On(this._hostTNode,this._hostLView);if(Ht(r)){const o=E(r,this._hostLView),u=Wr(r);return new ei(o[1].data[u+8],o)}return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=k0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,u){let h,_;"number"==typeof u?h=u:null!=u&&(h=u.index,_=u.injector);const S=r.createEmbeddedView(o||{},_);return this.insert(S,h),S}createComponent(r,o,u,h,_){const S=r&&!function Ua(n){return"function"==typeof n}(r);let R;if(S)R=o;else{const me=o||{};R=me.index,u=me.injector,h=me.projectableNodes,_=me.environmentInjector||me.ngModuleRef}const B=S?r:new lh(vr(r)),q=u||this.parentInjector;if(!_&&null==B.ngModule){const qe=(S?q:this.parentInjector).get(Ss,null);qe&&(_=qe)}const ie=B.create(q,h,void 0,_);return this.insert(ie.hostView,R),ie}insert(r,o){const u=r._lView,h=u[1];if(function ra(n){return Oi(n[3])}(u)){const ie=this.indexOf(r);if(-1!==ie)this.detach(ie);else{const me=u[3],qe=new x0(me,me[6],me[3]);qe.detach(qe.indexOf(r))}}const _=this._adjustIndex(o),S=this._lContainer;!function jd(n,r,o,u){const h=10+u,_=o.length;u>0&&(o[h-1][4]=r),u<_-10?(r[4]=o[h],T(o,10+u,r)):(o.push(r),r[4]=null),r[3]=o;const S=r[17];null!==S&&o!==S&&function au(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(S,r);const R=r[19];null!==R&&R.insertView(n),r[2]|=64}(h,u,S,_);const R=Ta(_,S),B=u[11],q=rc(B,S[7]);return null!==q&&function xc(n,r,o,u,h,_){u[0]=h,u[6]=r,Bu(n,u,o,1,h,_)}(h,S[6],B,u,q,R),r.attachToViewContainerRef(),T(Rv(S),_,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=k0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),u=yu(this._lContainer,o);u&&(N(Rv(this._lContainer),o),Fu(u[1],u))}detach(r){const o=this._adjustIndex(r,-1),u=yu(this._lContainer,o);return u&&null!=N(Rv(this._lContainer),o)?new Cd(u):null}_adjustIndex(r,o=0){return r??this.length+o}};function k0(n){return n[8]}function Rv(n){return n[8]||(n[8]=[])}function F0(n,r){let o;const u=r[n.index];if(Oi(u))o=u;else{let h;if(8&n.type)h=Vr(u);else{const _=r[11];h=_.createComment("");const S=Vi(n,r);Gl(_,rc(_,S),h,function zl(n,r){return n.nextSibling(r)}(_,S),!1)}r[n.index]=o=Qf(u,r,h,n),oh(r,o)}return new x0(o,n,r)}class Pv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Pv(this.queryList)}setDirty(){this.queryList.setDirty()}}class xv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const u=null!==r.contentQueries?r.contentQueries[0]:o.length,h=[];for(let _=0;_<u;_++){const S=o.getByIndex(_);h.push(this.queries[S.indexInDeclarationView].clone())}return new xv(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==z0(r,o).matches&&this.queries[o].setDirty()}}class L0{constructor(r,o,u=null){this.predicate=r,this.flags=o,this.read=u}}class kv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let u=0;u<this.length;u++){const h=null!==o?o.length:0,_=this.getByIndex(u).embeddedTView(r,h);_&&(_.indexInDeclarationView=u,null!==o?o.push(_):o=[_])}return null!==o?new kv(o):null}template(r,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Fv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Fv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const _=u[h];this.matchTNodeWithReadOption(r,o,mE(o,_)),this.matchTNodeWithReadOption(r,o,hr(o,r,_,!1,!1))}else u===ym?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,hr(o,r,u,!1,!1))}matchTNodeWithReadOption(r,o,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===hu||h===oy||h===ym&&4&o.type)this.addMatch(o.index,-2);else{const _=hr(o,r,h,!1,!1);null!==_&&this.addMatch(o.index,_)}else this.addMatch(o.index,u)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function mE(n,r){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===r)return o[u+1];return null}function yE(n,r,o,u){return-1===o?function _E(n,r){return 11&n.type?il(n,r):4&n.type?sy(n,r):null}(r,n):-2===o?function vE(n,r,o){return o===hu?il(r,n):o===ym?sy(r,n):o===oy?F0(r,n):void 0}(n,r,u):si(n,n[1],o,r)}function B0(n,r,o,u){const h=r[19].queries[u];if(null===h.matches){const _=n.data,S=o.matches,R=[];for(let B=0;B<S.length;B+=2){const q=S[B];R.push(q<0?null:yE(r,_[q],S[B+1],o.metadata.read))}h.matches=R}return h.matches}function Lv(n,r,o,u){const h=n.queries.getByIndex(o),_=h.matches;if(null!==_){const S=B0(n,r,h,o);for(let R=0;R<_.length;R+=2){const B=_[R];if(B>0)u.push(S[R/2]);else{const q=_[R+1],ie=r[-B];for(let me=10;me<ie.length;me++){const qe=ie[me];qe[17]===qe[3]&&Lv(qe[1],qe,q,u)}if(null!==ie[9]){const me=ie[9];for(let qe=0;qe<me.length;qe++){const _t=me[qe];Lv(_t[1],_t,q,u)}}}}}return u}function U0(n){const r=k(),o=L(),u=xa();Wa(u+1);const h=z0(o,u);if(n.dirty&&function zs(n){return 4==(4&n[2])}(r)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const _=h.crossesNgTemplate?Lv(o,r,u,[]):B0(o,r,h,u);n.reset(_,Wp),n.notifyOnChanges()}return!0}return!1}function V0(n,r,o){const u=L();u.firstCreatePass&&(G0(u,new L0(n,r,o),-1),2==(2&r)&&(u.staticViewQueries=!0)),j0(u,k(),r)}function H0(n,r,o,u){const h=L();if(h.firstCreatePass){const _=rt();G0(h,new L0(r,o,u),_.index),function EE(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(h,n),2==(2&o)&&(h.staticContentQueries=!0)}j0(h,k(),o)}function $0(){return function bE(n,r){return n[19].queries[r].queryList}(k(),xa())}function j0(n,r,o){const u=new Ov(4==(4&o));zf(n,r,u,u.destroy),null===r[19]&&(r[19]=new xv),r[19].queries.push(new Pv(u))}function G0(n,r,o){null===n.queries&&(n.queries=new kv),n.queries.track(new Fv(r,o))}function z0(n,r){return n.queries.getByIndex(r)}function W0(n,r){return sy(n,r)}function ly(...n){}const db=new Rr("Application Initializer");let uy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=ly,this.reject=ly,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const _=this.appInits[h]();if(hh(_))o.push(_);else if(gp(_)){const S=new Promise((R,B)=>{_.subscribe({complete:R,error:B})});o.push(S)}}Promise.all(o).then(()=>{u()}).catch(h=>{this.reject(h)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Xt(db,8))},n.\u0275prov=Ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hb=new Rr("AppId",{providedIn:"root",factory:function fb(){return`${$v()}${$v()}${$v()}`}});function $v(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pb=new Rr("Platform Initializer"),HE=new Rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gb=new Rr("appBootstrapListener"),$E=new Rr("AnimationModuleType");let jE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cy=new Rr("LocaleId",{providedIn:"root",factory:()=>cn(cy,ot.Optional|ot.SkipSelf)||function GE(){return typeof $localize<"u"&&$localize.locale||yh}()}),zE=new Rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WE{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let ZE=(()=>{class n{compileModuleSync(o){return new Iv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),_=Gu(Fi(o).declarations).reduce((S,R)=>{const B=vr(R);return B&&S.push(new lh(B)),S},[]);return new WE(u,_)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YE=(()=>Promise.resolve(0))();function jv(n){typeof Zone>"u"?YE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ku{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new td(!1),this.onMicrotaskEmpty=new td(!1),this.onStable=new td(!1),this.onError=new td(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&o,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function QE(){let n=kn.requestAnimationFrame,r=kn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function ew(n){const r=()=>{!function XE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zv(n),n.isCheckStableRunning=!0,Gv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,h,_,S,R)=>{try{return yb(n),o.invokeTask(h,_,S,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),vb(n)}},onInvoke:(o,u,h,_,S,R,B)=>{try{return yb(n),o.invoke(h,_,S,R,B)}finally{n.shouldCoalesceRunChangeDetection&&r(),vb(n)}},onHasTask:(o,u,h,_)=>{o.hasTask(h,_),u===h&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,zv(n),Gv(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(o,u,h,_)=>(o.handleError(h,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new nt(909,!1)}run(r,o,u){return this._inner.run(r,o,u)}runTask(r,o,u,h){const _=this._inner,S=_.scheduleEventTask("NgZoneEvent: "+h,r,JE,ly,ly);try{return _.runTask(S,o,u)}finally{_.cancelTask(S)}}runGuarded(r,o,u){return this._inner.runGuarded(r,o,u)}runOutsideAngular(r){return this._outer.run(r)}}const JE={};function Gv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vb(n){n._nesting--,Gv(n)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new td,this.onMicrotaskEmpty=new td,this.onStable=new td,this.onError=new td}run(r,o,u){return r.apply(o,u)}runGuarded(r,o,u){return r.apply(o,u)}runOutsideAngular(r){return r()}runTask(r,o,u,h){return r.apply(o,u)}}const bb=new Rr(""),Eb=new Rr("");let Wv,nw=(()=>{class n{constructor(o,u,h){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wv||(function rw(n){Wv=n}(h),h.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,h){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==_),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:_,updateCb:h})}whenStable(o,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,h){return[]}}return n.\u0275fac=function(o){return new(o||n)(Xt(Ku),Xt(wb),Xt(Eb))},n.\u0275prov=Ke({token:n,factory:n.\u0275fac}),n})(),wb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Wv?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),wh=null;const Db=new Rr("AllowMultipleToken"),Zv=new Rr("PlatformDestroyListeners");class ow{constructor(r,o){this.name=r,this.token=o}}function Tb(n,r,o=[]){const u=`Platform: ${r}`,h=new Rr(u);return(_=[])=>{let S=qv();if(!S||S.injector.get(Db,!1)){const R=[...o,..._,{provide:h,useValue:!0}];n?n(R):function aw(n){if(wh&&!wh.get(Db,!1))throw new nt(400,!1);wh=n;const r=n.get(Ib);(function Sb(n){const r=n.get(pb,null);r&&r.forEach(o=>o())})(n)}(function Cb(n=[],r){return Hc.create({name:r,providers:[{provide:vi,useValue:"platform"},{provide:Zv,useValue:new Set([()=>wh=null])},...n]})}(R,u))}return function uw(n){const r=qv();if(!r)throw new nt(401,!1);return r}()}}function qv(){return wh?.get(Ib)??null}let Ib=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const h=function Mb(n,r){let o;return o="noop"===n?new tw:("zone.js"===n?void 0:n)||new Ku(r),o}(u?.ngZone,function Ab(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),_=[{provide:Ku,useValue:h}];return h.run(()=>{const S=Hc.create({providers:_,parent:this.injector,name:o.moduleType.name}),R=o.create(S),B=R.injector.get(Tu,null);if(!B)throw new nt(402,!1);return h.runOutsideAngular(()=>{const q=h.onError.subscribe({next:ie=>{B.handleError(ie)}});R.onDestroy(()=>{hy(this._modules,R),q.unsubscribe()})}),function Nb(n,r,o){try{const u=o();return hh(u)?u.catch(h=>{throw r.runOutsideAngular(()=>n.handleError(h)),h}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(B,h,()=>{const q=R.injector.get(uy);return q.runInitializers(),q.donePromise.then(()=>(Rd(R.injector.get(cy,yh)||yh),this._moduleDoBootstrap(R),R))})})}bootstrapModule(o,u=[]){const h=Ob({},u);return function iw(n,r,o){const u=new Iv(o);return Promise.resolve(u)}(0,0,o).then(_=>this.bootstrapModuleFactory(_,h))}_moduleDoBootstrap(o){const u=o.injector.get(dy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new nt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Zv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Xt(Hc))},n.\u0275prov=Ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Ob(n,r){return Array.isArray(r)?r.reduce(Ob,n):{...n,...r}}let dy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,h){this._zone=o,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new I.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),S=new I.y(R=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{B.unsubscribe(),q.unsubscribe()}});this.isStable=(0,pe.T)(_,S.pipe((0,we.B)()))}bootstrap(o,u){const h=o instanceof Uc;if(!this._injector.get(uy).done)throw!h&&ci(o),new nt(405,false);let S;S=h?o:this._injector.get(Ol).resolveComponentFactory(o),this.componentTypes.push(S.componentType);const R=function sw(n){return n.isBoundToModule}(S)?void 0:this._injector.get(wi),q=S.create(Hc.NULL,[],u||S.selector,R),ie=q.location.nativeElement,me=q.injector.get(bb,null);return me?.registerApplication(ie),q.onDestroy(()=>{this.detachView(q.hostView),hy(this.components,q),me?.unregisterApplication(ie)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;hy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(gb,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>hy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new nt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Xt(Ku),Xt(Ss),Xt(Tu))},n.\u0275prov=Ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hy(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}function dw(){return!1}let hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();function fw(n){return function pw(n,r,o){if(Bi(n)&&!o){const u=Ri(n.index,r);return new Cd(u,u)}return 47&n.type?new Cd(r[16],r):null}(rt(),k(),16==(16&n))}class Fb{constructor(){}supports(r){return op(r)}create(r){return new bw(r)}}const vw=(n,r)=>r;class bw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,u=this._removalsHead,h=0,_=null;for(;o||u;){const S=!u||o&&o.currentIndex<Bb(u,h,_)?o:u,R=Bb(S,h,_),B=S.currentIndex;if(S===u)h--,u=u._nextRemoved;else if(o=o._next,null==S.previousIndex)h++;else{_||(_=[]);const q=R-h,ie=B-h;if(q!=ie){for(let qe=0;qe<q;qe++){const _t=qe<_.length?_[qe]:_[qe]=0,Gt=_t+qe;ie<=Gt&&Gt<q&&(_[qe]=_t+1)}_[S.previousIndex]=ie-q}}R!==B&&r(S,R,B)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!op(r))throw new nt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,_,S,o=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)_=r[R],S=this._trackByFn(R,_),null!==o&&Object.is(o.trackById,S)?(u&&(o=this._verifyReinsertion(o,_,S,R)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,S,R),u=!0),o=o._next}else h=0,function bc(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[zc()]();let u;for(;!(u=o.next()).done;)r(u.value)}}(r,R=>{S=this._trackByFn(h,R),null!==o&&Object.is(o.trackById,S)?(u&&(o=this._verifyReinsertion(o,R,S,h)),Object.is(o.item,R)||this._addIdentityChange(o,R)):(o=this._mismatch(o,R,S,h),u=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,u,h){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,_,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,_,h)):r=this._addAfter(new Ew(o,u),_,h),r}_verifyReinsertion(r,o,u,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==_?r=this._reinsertAfter(_,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,_=r._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(r,o,u),this._addToMoves(r,u),r}_moveAfter(r,o,u){return this._unlink(r),this._insertAfter(r,o,u),this._addToMoves(r,u),r}_addAfter(r,o,u){return this._insertAfter(r,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,u){const h=null===o?this._itHead:o._next;return r._next=h,r._prev=o,null===h?this._itTail=r:h._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Lb),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,u=r._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Ew{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ww{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const o=r._prevDup,u=r._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Lb{constructor(){this.map=new Map}put(r){const o=r.trackById;let u=this.map.get(o);u||(u=new ww,this.map.set(o,u)),u.add(r)}get(r,o){const h=this.map.get(r);return h?h.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(n,r,o){const u=n.previousIndex;if(null===u)return u;let h=0;return o&&u<o.length&&(h=o[u]),u+r+h}class Ub{constructor(){}supports(r){return r instanceof Map||Qh(r)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Qh(r)))throw new nt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const _=this._getOrCreateRecordForKey(h,u);o=this._insertBeforeOrAppend(o,_)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const u=r._prev;return o._next=r,o._prev=u,r._prev=o,u&&(u._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,o);const _=h._prev,S=h._next;return _&&(_._next=S),S&&(S._prev=_),h._next=null,h._prev=null,h}const u=new Sw(r);return this._records.set(r,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(u=>o(r[u],u))}}class Sw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vb(){return new Xv([new Fb])}let Xv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const h=u.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Vb()),deps:[[n,new z,new mu]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(null!=u)return u;throw new nt(901,!1)}}return n.\u0275prov=Ke({token:n,providedIn:"root",factory:Vb}),n})();function Hb(){return new e0([new Ub])}let e0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const h=u.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Hb()),deps:[[n,new z,new mu]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(u)return u;throw new nt(901,!1)}}return n.\u0275prov=Ke({token:n,providedIn:"root",factory:Hb}),n})();const Iw=Tb(null,"core",[]);let Aw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Xt(dy))},n.\u0275mod=kr({type:n}),n.\u0275inj=wn({}),n})();function Mw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Ow(n,r){const o=vr(n),u=r.elementInjector||qi();return new lh(o).create(u,r.projectableNodes,r.hostElement,r.environmentInjector)}},433:(un,et,j)=>{j.d(et,{Fj:()=>Ye,qu:()=>Mo,NI:()=>gi,u:()=>Ga,sg:()=>To,u5:()=>ya,Cf:()=>Tt,JU:()=>St,JJ:()=>Pr,JL:()=>kn,On:()=>Kn,UX:()=>No,kI:()=>pt,_Y:()=>Dr});var a=j(4650),te=j(6895),I=j(8996),pe=j(9751),we=j(4742),De=j(8421),je=j(3269),Oe=j(5403),Ge=j(3268),ye=j(1810),Me=j(4004);let Pt=(()=>{class k{constructor(F,re){this._renderer=F,this._elementRef=re,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(F,re){this._renderer.setProperty(this._elementRef.nativeElement,F,re)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return k.\u0275fac=function(F){return new(F||k)(a.Y36(a.Qsj),a.Y36(a.SBq))},k.\u0275dir=a.lG2({type:k}),k})(),ft=(()=>{class k extends Pt{}return k.\u0275fac=function(){let L;return function(re){return(L||(L=a.n5z(k)))(re||k)}}(),k.\u0275dir=a.lG2({type:k,features:[a.qOj]}),k})();const St=new a.OlP("NgValueAccessor"),At={provide:St,useExisting:(0,a.Gpc)(()=>Ye),multi:!0},Ft=new a.OlP("CompositionEventMode");let Ye=(()=>{class k extends Pt{constructor(F,re,rt){super(F,re),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const k=(0,te.q)()?(0,te.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return k.\u0275fac=function(F){return new(F||k)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ft,8))},k.\u0275dir=a.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,re){1&F&&a.NdJ("input",function(En){return re._handleInput(En.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(En){return re._compositionEnd(En.target.value)})},features:[a._Bn([At]),a.qOj]}),k})();function We(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function yt(k){return null!=k&&"number"==typeof k.length}const Tt=new a.OlP("NgValidators"),ae=new a.OlP("NgAsyncValidators"),at=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pt{static min(L){return function Vt(k){return L=>{if(We(L.value)||We(k))return null;const F=parseFloat(L.value);return!isNaN(F)&&F<k?{min:{min:k,actual:L.value}}:null}}(L)}static max(L){return function rn(k){return L=>{if(We(L.value)||We(k))return null;const F=parseFloat(L.value);return!isNaN(F)&&F>k?{max:{max:k,actual:L.value}}:null}}(L)}static required(L){return function Kt(k){return We(k.value)?{required:!0}:null}(L)}static requiredTrue(L){return function ct(k){return!0===k.value?null:{required:!0}}(L)}static email(L){return function bt(k){return We(k.value)||at.test(k.value)?null:{email:!0}}(L)}static minLength(L){return function st(k){return L=>We(L.value)||!yt(L.value)?null:L.value.length<k?{minlength:{requiredLength:k,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Ct(k){return L=>yt(L.value)&&L.value.length>k?{maxlength:{requiredLength:k,actualLength:L.value.length}}:null}(L)}static pattern(L){return function kt(k){if(!k)return It;let L,F;return"string"==typeof k?(F="","^"!==k.charAt(0)&&(F+="^"),F+=k,"$"!==k.charAt(k.length-1)&&(F+="$"),L=new RegExp(F)):(F=k.toString(),L=k),re=>{if(We(re.value))return null;const rt=re.value;return L.test(rt)?null:{pattern:{requiredPattern:F,actualValue:rt}}}}(L)}static nullValidator(L){return null}static compose(L){return Jt(L)}static composeAsync(L){return Qn(L)}}function It(k){return null}function Yt(k){return null!=k}function Ue(k){return(0,a.QGY)(k)?(0,I.D)(k):k}function Mt(k){let L={};return k.forEach(F=>{L=null!=F?{...L,...F}:L}),0===Object.keys(L).length?null:L}function Te(k,L){return L.map(F=>F(k))}function Ke(k){return k.map(L=>function Ce(k){return!k.validate}(L)?L:F=>L.validate(F))}function Jt(k){if(!k)return null;const L=k.filter(Yt);return 0==L.length?null:function(F){return Mt(Te(F,L))}}function wn(k){return null!=k?Jt(Ke(k)):null}function Qn(k){if(!k)return null;const L=k.filter(Yt);return 0==L.length?null:function(F){return function he(...k){const L=(0,je.jO)(k),{args:F,keys:re}=(0,we.D)(k),rt=new pe.y(En=>{const{length:qr}=F;if(!qr)return void En.complete();const ii=new Array(qr);let Bs=qr,Us=qr;for(let va=0;va<qr;va++){let Vs=!1;(0,De.Xf)(F[va]).subscribe((0,Oe.x)(En,Pa=>{Vs||(Vs=!0,Us--),ii[va]=Pa},()=>Bs--,void 0,()=>{(!Bs||!Vs)&&(Us||En.next(re?(0,ye.n)(re,ii):ii),En.complete())}))}});return L?rt.pipe((0,Ge.Z)(L)):rt}(Te(F,L).map(Ue)).pipe((0,Me.U)(Mt))}}function fr(k){return null!=k?Qn(Ke(k)):null}function wr(k,L){return null===k?[L]:Array.isArray(k)?[...k,L]:[k,L]}function $n(k){return k._rawValidators}function Xn(k){return k._rawAsyncValidators}function ir(k){return k?Array.isArray(k)?k:[k]:[]}function Ve(k,L){return Array.isArray(k)?k.includes(L):k===L}function He(k,L){const F=ir(L);return ir(k).forEach(rt=>{Ve(F,rt)||F.push(rt)}),F}function Le(k,L){return ir(L).filter(F=>!Ve(k,F))}class dt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=wn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=fr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,F){return!!this.control&&this.control.hasError(L,F)}getError(L,F){return this.control?this.control.getError(L,F):null}}class ot extends dt{get formDirective(){return null}get path(){return null}}class ln extends dt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gr{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pr=(()=>{class k extends gr{constructor(F){super(F)}}return k.\u0275fac=function(F){return new(F||k)(a.Y36(ln,2))},k.\u0275dir=a.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,re){2&F&&a.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[a.qOj]}),k})(),kn=(()=>{class k extends gr{constructor(F){super(F)}}return k.\u0275fac=function(F){return new(F||k)(a.Y36(ot,10))},k.\u0275dir=a.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,re){2&F&&a.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[a.qOj]}),k})();const Fn="VALID",Ie="INVALID",_e="PENDING",ke="DISABLED";function Dt(k){return(Hn(k)?k.validators:k)||null}function fn(k,L){return(Hn(L)?L.asyncValidators:k)||null}function Hn(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function xr(k,L,F){const re=k.controls;if(!(L?Object.keys(re):re).length)throw new a.vHH(1e3,"");if(!re[F])throw new a.vHH(1001,"")}function Ne(k,L,F){k._forEachChild((re,rt)=>{if(void 0===F[rt])throw new a.vHH(1002,"")})}class Pe{constructor(L,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Fn}get invalid(){return this.status===Ie}get pending(){return this.status==_e}get disabled(){return this.status===ke}get enabled(){return this.status!==ke}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(He(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(He(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Le(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Le(L,this._rawAsyncValidators))}hasValidator(L){return Ve(this._rawValidators,L)}hasAsyncValidator(L){return Ve(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=_e,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const F=this._parentMarkedDirty(L.onlySelf);this.status=ke,this.errors=null,this._forEachChild(re=>{re.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:F}),this._onDisabledChange.forEach(re=>re(!0))}enable(L={}){const F=this._parentMarkedDirty(L.onlySelf);this.status=Fn,this._forEachChild(re=>{re.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:F}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fn||this.status===_e)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ke:Fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator=!0;const F=Ue(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,F={}){this.errors=L,this._updateControlsErrors(!1!==F.emitEvent)}get(L){let F=L;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((re,rt)=>re&&re._find(rt),this)}getError(L,F){const re=F?this.get(F):this;return re&&re.errors?re.errors[L]:null}hasError(L,F){return!!this.getError(L,F)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?ke:this.errors?Ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(Ie)?Ie:Fn}_anyControlsHaveStatus(L){return this._anyControls(F=>F.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Hn(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function it(k){return Array.isArray(k)?wn(k):k||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function qn(k){return Array.isArray(k)?fr(k):k||null}(this._rawAsyncValidators)}}class ue extends Pe{constructor(L,F,re){super(Dt(F),fn(re,F)),this.controls=L,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,F){return this.controls[L]?this.controls[L]:(this.controls[L]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(L,F,re={}){this.registerControl(L,F),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(L,F={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(L,F,re={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],F&&this.registerControl(L,F),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,F={}){Ne(this,0,L),Object.keys(L).forEach(re=>{xr(this,!0,re),this.controls[re].setValue(L[re],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(L,F={}){null!=L&&(Object.keys(L).forEach(re=>{const rt=this.controls[re];rt&&rt.patchValue(L[re],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(L={},F={}){this._forEachChild((re,rt)=>{re.reset(L[rt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(L,F,re)=>(L[re]=F.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(F,re)=>!!re._syncPendingControls()||F);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(F=>{const re=this.controls[F];re&&L(re,F)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[F,re]of Object.entries(this.controls))if(this.contains(F)&&L(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,re,rt)=>((re.enabled||this.disabled)&&(F[rt]=re.value),F))}_reduceChildren(L,F){let re=L;return this._forEachChild((rt,En)=>{re=F(re,rt,En)}),re}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class sn extends ue{}const ai=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jr}),Jr="always";function Rs(k,L){return[...L.path,k]}function pi(k,L,F=Jr){Ps(k,L),L.valueAccessor.writeValue(k.value),(k.disabled||"always"===F)&&L.valueAccessor.setDisabledState?.(k.disabled),function eo(k,L){L.valueAccessor.registerOnChange(F=>{k._pendingValue=F,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&Mi(k,L)})}(k,L),function ui(k,L){const F=(re,rt)=>{L.valueAccessor.writeValue(re),rt&&L.viewToModelUpdate(re)};k.registerOnChange(F),L._registerOnDestroy(()=>{k._unregisterOnChange(F)})}(k,L),function vr(k,L){L.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&Mi(k,L),"submit"!==k.updateOn&&k.markAsTouched()})}(k,L),function Yi(k,L){if(L.valueAccessor.setDisabledState){const F=re=>{L.valueAccessor.setDisabledState(re)};k.registerOnDisabledChange(F),L._registerOnDestroy(()=>{k._unregisterOnDisabledChange(F)})}}(k,L)}function Cs(k,L,F=!0){const re=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(re),L.valueAccessor.registerOnTouched(re)),cs(k,L),k&&(L._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function kr(k,L){k.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(L)})}function Ps(k,L){const F=$n(k);null!==L.validator?k.setValidators(wr(F,L.validator)):"function"==typeof F&&k.setValidators([F]);const re=Xn(k);null!==L.asyncValidator?k.setAsyncValidators(wr(re,L.asyncValidator)):"function"==typeof re&&k.setAsyncValidators([re]);const rt=()=>k.updateValueAndValidity();kr(L._rawValidators,rt),kr(L._rawAsyncValidators,rt)}function cs(k,L){let F=!1;if(null!==k){if(null!==L.validator){const rt=$n(k);if(Array.isArray(rt)&&rt.length>0){const En=rt.filter(qr=>qr!==L.validator);En.length!==rt.length&&(F=!0,k.setValidators(En))}}if(null!==L.asyncValidator){const rt=Xn(k);if(Array.isArray(rt)&&rt.length>0){const En=rt.filter(qr=>qr!==L.asyncValidator);En.length!==rt.length&&(F=!0,k.setAsyncValidators(En))}}}const re=()=>{};return kr(L._rawValidators,re),kr(L._rawAsyncValidators,re),F}function Mi(k,L){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function $i(k,L){if(!k.hasOwnProperty("model"))return!1;const F=k.model;return!!F.isFirstChange()||!Object.is(L,F.currentValue)}function Ar(k,L){if(!L)return null;let F,re,rt;return Array.isArray(L),L.forEach(En=>{En.constructor===Ye?F=En:function di(k){return Object.getPrototypeOf(k.constructor)===ft}(En)?re=En:rt=En}),rt||re||F||null}function xs(k,L){const F=k.indexOf(L);F>-1&&k.splice(F,1)}function Ji(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const gi=class extends Pe{constructor(L=null,F,re){super(Dt(F),fn(re,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hn(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Ji(L)?L.value:L)}setValue(L,F={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(L,F={}){this.setValue(L,F)}reset(L=this.defaultValue,F={}){this._applyFormState(L),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){xs(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){xs(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Ji(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},en={provide:ln,useExisting:(0,a.Gpc)(()=>Kn)},Nn=(()=>Promise.resolve())();let Kn=(()=>{class k extends ln{constructor(F,re,rt,En,qr,ii){super(),this._changeDetectorRef=qr,this.callSetDisabledState=ii,this.control=new gi,this._registered=!1,this.update=new a.vpe,this._parent=F,this._setValidators(re),this._setAsyncValidators(rt),this.valueAccessor=Ar(0,En)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const re=F.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),$i(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Nn.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const re=F.isDisabled.currentValue,rt=0!==re&&(0,a.D6c)(re);Nn.then(()=>{rt&&!this.control.disabled?this.control.disable():!rt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?Rs(F,this._parent):[F]}}return k.\u0275fac=function(F){return new(F||k)(a.Y36(ot,9),a.Y36(Tt,10),a.Y36(ae,10),a.Y36(St,10),a.Y36(a.sBO,8),a.Y36(ai,8))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([en]),a.qOj,a.TTD]}),k})(),Dr=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275dir=a.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})(),Bi=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({}),k})();const io=new a.OlP("NgModelWithFormControlWarning"),ks={provide:ot,useExisting:(0,a.Gpc)(()=>To)};let To=(()=>{class k extends ot{constructor(F,re,rt){super(),this.callSetDisabledState=rt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(F),this._setAsyncValidators(re)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const re=this.form.get(F.path);return pi(re,F,this.callSetDisabledState),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),re}getControl(F){return this.form.get(F.path)}removeControl(F){Cs(F.control||null,F,!1),function fo(k,L){const F=k.indexOf(L);F>-1&&k.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,re){this.form.get(F.path).setValue(re)}onSubmit(F){return this.submitted=!0,function Ni(k,L){k._syncPendingControls(),L.forEach(F=>{const re=F.control;"submit"===re.updateOn&&re._pendingChange&&(F.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const re=F.control,rt=this.form.get(F.path);re!==rt&&(Cs(re||null,F),(k=>k instanceof gi)(rt)&&(pi(rt,F,this.callSetDisabledState),F.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const re=this.form.get(F.path);(function ci(k,L){Ps(k,L)})(re,F),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const re=this.form.get(F.path);re&&function Fi(k,L){return cs(k,L)}(re,F)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ps(this.form,this),this._oldForm&&cs(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(F){return new(F||k)(a.Y36(Tt,10),a.Y36(ae,10),a.Y36(ai,8))},k.\u0275dir=a.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(F,re){1&F&&a.NdJ("submit",function(En){return re.onSubmit(En)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([ks]),a.qOj,a.TTD]}),k})();const ds={provide:ln,useExisting:(0,a.Gpc)(()=>Ga)};let Ga=(()=>{class k extends ln{set isDisabled(F){}constructor(F,re,rt,En,qr){super(),this._ngModelWarningConfig=qr,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(re),this._setAsyncValidators(rt),this.valueAccessor=Ar(0,En)}ngOnChanges(F){this._added||this._setUpControl(),$i(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Rs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(F){return new(F||k)(a.Y36(ot,13),a.Y36(Tt,10),a.Y36(ae,10),a.Y36(St,10),a.Y36(io,8))},k.\u0275dir=a.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([ds]),a.qOj,a.TTD]}),k})(),As=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({imports:[Bi]}),k})();class ia extends Pe{constructor(L,F,re){super(Dt(F),fn(re,F)),this.controls=L,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,F={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(L,F,re={}){this.controls.splice(L,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(L,F={}){let re=this._adjustIndex(L);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(L,F,re={}){let rt=this._adjustIndex(L);rt<0&&(rt=0),this.controls[rt]&&this.controls[rt]._registerOnCollectionChange(()=>{}),this.controls.splice(rt,1),F&&(this.controls.splice(rt,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,F={}){Ne(this,0,L),L.forEach((re,rt)=>{xr(this,!1,rt),this.at(rt).setValue(re,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(L,F={}){null!=L&&(L.forEach((re,rt)=>{this.at(rt)&&this.at(rt).patchValue(re,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(L=[],F={}){this._forEachChild((re,rt)=>{re.reset(L[rt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((F,re)=>!!re._syncPendingControls()||F,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((F,re)=>{L(F,re)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(F=>F.enabled&&L(F))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function uo(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let Mo=(()=>{class k{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new k;return F.useNonNullable=!0,F}group(F,re=null){const rt=this._reduceControls(F);let En={};return uo(re)?En=re:null!==re&&(En.validators=re.validator,En.asyncValidators=re.asyncValidator),new ue(rt,En)}record(F,re=null){const rt=this._reduceControls(F);return new sn(rt,re)}control(F,re,rt){let En={};return this.useNonNullable?(uo(re)?En=re:(En.validators=re,En.asyncValidators=rt),new gi(F,{...En,nonNullable:!0})):new gi(F,re,rt)}array(F,re,rt){const En=F.map(qr=>this._createControl(qr));return new ia(En,re,rt)}_reduceControls(F){const re={};return Object.keys(F).forEach(rt=>{re[rt]=this._createControl(F[rt])}),re}_createControl(F){return F instanceof gi||F instanceof Pe?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ya=(()=>{class k{static withConfig(F){return{ngModule:k,providers:[{provide:ai,useValue:F.callSetDisabledState??Jr}]}}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({imports:[As]}),k})(),No=(()=>{class k{static withConfig(F){return{ngModule:k,providers:[{provide:io,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:ai,useValue:F.callSetDisabledState??Jr}]}}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({imports:[As]}),k})()},1321:()=>{class Yt extends Error{constructor(He){super(`No translation found for ${Jt(He)}.`),this.parsedMessage=He,this.type="MissingTranslationError"}}const $n=function(Ve,...He){if($n.translate){const dt=$n.translate(Ve,He);Ve=dt[0],He=dt[1]}let Le=ir(Ve[0],Ve.raw[0]);for(let dt=1;dt<Ve.length;dt++)Le+=He[dt-1]+ir(Ve[dt],Ve.raw[dt]);return Le};function ir(Ve,He){return":"===He.charAt(0)?Ve.substring(function It(Ve,He){for(let Le=1,dt=1;Le<Ve.length;Le++,dt++)if("\\"===He[dt])dt++;else if(":"===Ve[Le])return Le;throw new Error(`Unterminated $localize metadata block in "${He}".`)}(Ve,He)+1):Ve}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=$n},1481:(un,et,j)=>{j.d(et,{Dx:()=>sr,H7:()=>fn,b2:()=>dt,q6:()=>ir,se:()=>rn});var a=j(6895),te=j(4650);class I extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends I{static makeCurrent(){(0,a.HT)(new pe)}onAndCancel(Pe,ue,ze){return Pe.addEventListener(ue,ze,!1),()=>{Pe.removeEventListener(ue,ze,!1)}}dispatchEvent(Pe,ue){Pe.dispatchEvent(ue)}remove(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)}createElement(Pe,ue){return(ue=ue||this.getDefaultDocument()).createElement(Pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pe){return Pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pe){return Pe instanceof DocumentFragment}getGlobalEventTarget(Pe,ue){return"window"===ue?window:"document"===ue?Pe:"body"===ue?Pe.body:null}getBaseHref(Pe){const ue=function De(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==ue?null:function Oe(Ne){je=je||document.createElement("a"),je.setAttribute("href",Ne);const Pe=je.pathname;return"/"===Pe.charAt(0)?Pe:`/${Pe}`}(ue)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pe){return(0,a.Mx)(document.cookie,Pe)}}let je,we=null;const Ge=new te.OlP("TRANSITION_ID"),he=[{provide:te.ip1,useFactory:function ye(Ne,Pe,ue){return()=>{ue.get(te.CZH).donePromise.then(()=>{const ze=(0,a.q)(),jt=Pe.querySelectorAll(`style[ng-transition="${Ne}"]`);for(let sn=0;sn<jt.length;sn++)ze.remove(jt[sn])})}},deps:[Ge,a.K0,te.zs3],multi:!0}];let Pt=(()=>{class Ne{build(){return new XMLHttpRequest}}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const ft=new te.OlP("EventManagerPlugins");let St=(()=>{class Ne{constructor(ue,ze){this._zone=ze,this._eventNameToPlugin=new Map,ue.forEach(jt=>jt.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,ze,jt){return this._findPluginFor(ze).addEventListener(ue,ze,jt)}addGlobalEventListener(ue,ze,jt){return this._findPluginFor(ze).addGlobalEventListener(ue,ze,jt)}getZone(){return this._zone}_findPluginFor(ue){const ze=this._eventNameToPlugin.get(ue);if(ze)return ze;const jt=this._plugins;for(let sn=0;sn<jt.length;sn++){const Mn=jt[sn];if(Mn.supports(ue))return this._eventNameToPlugin.set(ue,Mn),Mn}throw new Error(`No event manager plugin found for event ${ue}`)}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(ft),te.LFG(te.R0b))},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class qt{constructor(Pe){this._doc=Pe}addGlobalEventListener(Pe,ue,ze){const jt=(0,a.q)().getGlobalEventTarget(this._doc,Pe);if(!jt)throw new Error(`Unsupported event target ${jt} for event ${ue}`);return this.addEventListener(jt,ue,ze)}}let nt=(()=>{class Ne{constructor(){this._stylesSet=new Set}addStyles(ue){const ze=new Set;ue.forEach(jt=>{this._stylesSet.has(jt)||(this._stylesSet.add(jt),ze.add(jt))}),this.onStylesAdded(ze)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),At=(()=>{class Ne extends nt{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,ze,jt){ue.forEach(sn=>{const Mn=this._doc.createElement("style");Mn.textContent=sn,jt.push(ze.appendChild(Mn))})}addHost(ue){const ze=[];this._addStylesToHost(this._stylesSet,ue,ze),this._hostNodes.set(ue,ze)}removeHost(ue){const ze=this._hostNodes.get(ue);ze&&ze.forEach(ve),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach((ze,jt)=>{this._addStylesToHost(ue,jt,ze)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(ve))}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(a.K0))},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();function ve(Ne){(0,a.q)().remove(Ne)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g;function pt(Ne,Pe){return Pe.flat(100).map(ue=>ue.replace(Ye,Ne))}function Vt(Ne){return Pe=>{if("__ngUnwrap__"===Pe)return Ne;!1===Ne(Pe)&&(Pe.preventDefault(),Pe.returnValue=!1)}}let rn=(()=>{class Ne{constructor(ue,ze,jt){this.eventManager=ue,this.sharedStylesHost=ze,this.appId=jt,this.rendererByCompId=new Map,this.defaultRenderer=new Kt(ue)}createRenderer(ue,ze){if(!ue||!ze)return this.defaultRenderer;switch(ze.encapsulation){case te.ifc.Emulated:{let jt=this.rendererByCompId.get(ze.id);return jt||(jt=new Ct(this.eventManager,this.sharedStylesHost,ze,this.appId),this.rendererByCompId.set(ze.id,jt)),jt.applyToHost(ue),jt}case te.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,ue,ze);default:if(!this.rendererByCompId.has(ze.id)){const jt=pt(ze.id,ze.styles);this.sharedStylesHost.addStyles(jt),this.rendererByCompId.set(ze.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(St),te.LFG(At),te.LFG(te.AFp))},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class Kt{constructor(Pe){this.eventManager=Pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Pe,ue){return ue?document.createElementNS(Ft[ue]||ue,Pe):document.createElement(Pe)}createComment(Pe){return document.createComment(Pe)}createText(Pe){return document.createTextNode(Pe)}appendChild(Pe,ue){(st(Pe)?Pe.content:Pe).appendChild(ue)}insertBefore(Pe,ue,ze){Pe&&(st(Pe)?Pe.content:Pe).insertBefore(ue,ze)}removeChild(Pe,ue){Pe&&Pe.removeChild(ue)}selectRootElement(Pe,ue){let ze="string"==typeof Pe?document.querySelector(Pe):Pe;if(!ze)throw new Error(`The selector "${Pe}" did not match any elements`);return ue||(ze.textContent=""),ze}parentNode(Pe){return Pe.parentNode}nextSibling(Pe){return Pe.nextSibling}setAttribute(Pe,ue,ze,jt){if(jt){ue=jt+":"+ue;const sn=Ft[jt];sn?Pe.setAttributeNS(sn,ue,ze):Pe.setAttribute(ue,ze)}else Pe.setAttribute(ue,ze)}removeAttribute(Pe,ue,ze){if(ze){const jt=Ft[ze];jt?Pe.removeAttributeNS(jt,ue):Pe.removeAttribute(`${ze}:${ue}`)}else Pe.removeAttribute(ue)}addClass(Pe,ue){Pe.classList.add(ue)}removeClass(Pe,ue){Pe.classList.remove(ue)}setStyle(Pe,ue,ze,jt){jt&(te.JOm.DashCase|te.JOm.Important)?Pe.style.setProperty(ue,ze,jt&te.JOm.Important?"important":""):Pe.style[ue]=ze}removeStyle(Pe,ue,ze){ze&te.JOm.DashCase?Pe.style.removeProperty(ue):Pe.style[ue]=""}setProperty(Pe,ue,ze){Pe[ue]=ze}setValue(Pe,ue){Pe.nodeValue=ue}listen(Pe,ue,ze){return"string"==typeof Pe?this.eventManager.addGlobalEventListener(Pe,ue,Vt(ze)):this.eventManager.addEventListener(Pe,ue,Vt(ze))}}function st(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class Ct extends Kt{constructor(Pe,ue,ze,jt){super(Pe),this.component=ze;const sn=pt(jt+"-"+ze.id,ze.styles);ue.addStyles(sn),this.contentAttr=function ae(Ne){return"_ngcontent-%COMP%".replace(Ye,Ne)}(jt+"-"+ze.id),this.hostAttr=function at(Ne){return"_nghost-%COMP%".replace(Ye,Ne)}(jt+"-"+ze.id)}applyToHost(Pe){super.setAttribute(Pe,this.hostAttr,"")}createElement(Pe,ue){const ze=super.createElement(Pe,ue);return super.setAttribute(ze,this.contentAttr,""),ze}}class kt extends Kt{constructor(Pe,ue,ze,jt){super(Pe),this.sharedStylesHost=ue,this.hostEl=ze,this.shadowRoot=ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const sn=pt(jt.id,jt.styles);for(let Mn=0;Mn<sn.length;Mn++){const ai=document.createElement("style");ai.textContent=sn[Mn],this.shadowRoot.appendChild(ai)}}nodeOrShadowRoot(Pe){return Pe===this.hostEl?this.shadowRoot:Pe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Pe,ue){return super.appendChild(this.nodeOrShadowRoot(Pe),ue)}insertBefore(Pe,ue,ze){return super.insertBefore(this.nodeOrShadowRoot(Pe),ue,ze)}removeChild(Pe,ue){return super.removeChild(this.nodeOrShadowRoot(Pe),ue)}parentNode(Pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pe)))}}let It=(()=>{class Ne extends qt{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,ze,jt){return ue.addEventListener(ze,jt,!1),()=>this.removeEventListener(ue,ze,jt)}removeEventListener(ue,ze,jt){return ue.removeEventListener(ze,jt)}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(a.K0))},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Yt=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let Te=(()=>{class Ne extends qt{constructor(ue){super(ue)}supports(ue){return null!=Ne.parseEventName(ue)}addEventListener(ue,ze,jt){const sn=Ne.parseEventName(ze),Mn=Ne.eventCallback(sn.fullKey,jt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(ue,sn.domEventName,Mn))}static parseEventName(ue){const ze=ue.toLowerCase().split("."),jt=ze.shift();if(0===ze.length||"keydown"!==jt&&"keyup"!==jt)return null;const sn=Ne._normalizeKey(ze.pop());let Mn="",ai=ze.indexOf("code");if(ai>-1&&(ze.splice(ai,1),Mn="code."),Yt.forEach(Rs=>{const pi=ze.indexOf(Rs);pi>-1&&(ze.splice(pi,1),Mn+=Rs+".")}),Mn+=sn,0!=ze.length||0===sn.length)return null;const Jr={};return Jr.domEventName=jt,Jr.fullKey=Mn,Jr}static matchEventFullKeyCode(ue,ze){let jt=Ue[ue.key]||ue.key,sn="";return ze.indexOf("code.")>-1&&(jt=ue.code,sn="code."),!(null==jt||!jt)&&(jt=jt.toLowerCase()," "===jt?jt="space":"."===jt&&(jt="dot"),Yt.forEach(Mn=>{Mn!==jt&&(0,Mt[Mn])(ue)&&(sn+=Mn+".")}),sn+=jt,sn===ze)}static eventCallback(ue,ze,jt){return sn=>{Ne.matchEventFullKeyCode(sn,ue)&&jt.runGuarded(()=>ze(sn))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(a.K0))},Ne.\u0275prov=te.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const ir=(0,te.eFA)(te._c5,"browser",[{provide:te.Lbi,useValue:a.bD},{provide:te.g9A,useValue:function fr(){pe.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function $n(){return(0,te.RDi)(document),document},deps:[]}]),Ve=new te.OlP(""),He=[{provide:te.rWj,useClass:class Me{addToWindow(Pe){te.dqk.getAngularTestability=(ze,jt=!0)=>{const sn=Pe.findTestabilityInTree(ze,jt);if(null==sn)throw new Error("Could not find testability for element.");return sn},te.dqk.getAllAngularTestabilities=()=>Pe.getAllTestabilities(),te.dqk.getAllAngularRootElements=()=>Pe.getAllRootElements(),te.dqk.frameworkStabilizers||(te.dqk.frameworkStabilizers=[]),te.dqk.frameworkStabilizers.push(ze=>{const jt=te.dqk.getAllAngularTestabilities();let sn=jt.length,Mn=!1;const ai=function(Jr){Mn=Mn||Jr,sn--,0==sn&&ze(Mn)};jt.forEach(function(Jr){Jr.whenStable(ai)})})}findTestabilityInTree(Pe,ue,ze){return null==ue?null:Pe.getTestability(ue)??(ze?(0,a.q)().isShadowRoot(ue)?this.findTestabilityInTree(Pe,ue.host,!0):this.findTestabilityInTree(Pe,ue.parentElement,!0):null)}},deps:[]},{provide:te.lri,useClass:te.dDg,deps:[te.R0b,te.eoX,te.rWj]},{provide:te.dDg,useClass:te.dDg,deps:[te.R0b,te.eoX,te.rWj]}],Le=[{provide:te.zSh,useValue:"root"},{provide:te.qLn,useFactory:function wr(){return new te.qLn},deps:[]},{provide:ft,useClass:It,multi:!0,deps:[a.K0,te.R0b,te.Lbi]},{provide:ft,useClass:Te,multi:!0,deps:[a.K0]},{provide:rn,useClass:rn,deps:[St,At,te.AFp]},{provide:te.FYo,useExisting:rn},{provide:nt,useExisting:At},{provide:At,useClass:At,deps:[a.K0]},{provide:St,useClass:St,deps:[ft,te.R0b]},{provide:a.JF,useClass:Pt,deps:[]},[]];let dt=(()=>{class Ne{constructor(ue){}static withServerTransition(ue){return{ngModule:Ne,providers:[{provide:te.AFp,useValue:ue.appId},{provide:Ge,useExisting:te.AFp},he]}}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(Ve,12))},Ne.\u0275mod=te.oAB({type:Ne}),Ne.\u0275inj=te.cJS({providers:[...Le,...He],imports:[a.ez,te.hGG]}),Ne})(),sr=(()=>{class Ne{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(a.K0))},Ne.\u0275prov=te.Yz7({token:Ne,factory:function(ue){let ze=null;return ze=ue?new ue:function jn(){return new sr((0,te.LFG)(a.K0))}(),ze},providedIn:"root"}),Ne})();typeof window<"u"&&window;let fn=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275prov=te.Yz7({token:Ne,factory:function(ue){let ze=null;return ze=ue?new(ue||Ne):te.LFG(Hn),ze},providedIn:"root"}),Ne})(),Hn=(()=>{class Ne extends fn{constructor(ue){super(),this._doc=ue}sanitize(ue,ze){if(null==ze)return null;switch(ue){case te.q3G.NONE:return ze;case te.q3G.HTML:return(0,te.qzn)(ze,"HTML")?(0,te.z3N)(ze):(0,te.EiD)(this._doc,String(ze)).toString();case te.q3G.STYLE:return(0,te.qzn)(ze,"Style")?(0,te.z3N)(ze):ze;case te.q3G.SCRIPT:if((0,te.qzn)(ze,"Script"))return(0,te.z3N)(ze);throw new Error("unsafe value used in a script context");case te.q3G.URL:return(0,te.qzn)(ze,"URL")?(0,te.z3N)(ze):(0,te.mCW)(String(ze));case te.q3G.RESOURCE_URL:if((0,te.qzn)(ze,"ResourceURL"))return(0,te.z3N)(ze);throw new Error(`unsafe value used in a resource URL context (see ${te.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ue} (see ${te.JZr})`)}}bypassSecurityTrustHtml(ue){return(0,te.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,te.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,te.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,te.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,te.pB0)(ue)}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(te.LFG(a.K0))},Ne.\u0275prov=te.Yz7({token:Ne,factory:function(ue){let ze=null;return ze=ue?new ue:function qn(Ne){return new Hn(Ne.get(a.K0))}(te.LFG(te.zs3)),ze},providedIn:"root"}),Ne})()},9062:(un,et,j)=>{j.d(et,{F0:()=>Bt,rH:()=>Cn,Bz:()=>nu,lC:()=>is});var a=j(4650),te=j(8996),I=j(9646),pe=j(1135),we=j(6805),De=j(9841),je=j(7272),Oe=j(9751),Ge=j(8421);function ye(T){return new Oe.y(N=>{(0,Ge.Xf)(T()).subscribe(N)})}var he=j(9635),Me=j(576);function Pt(T,N){const w=(0,Me.m)(T)?T:()=>T,P=G=>G.error(w());return new Oe.y(N?G=>N.schedule(P,0,G):P)}var ft=j(515),St=j(727),qt=j(4482),nt=j(5403);function At(){return(0,qt.e)((T,N)=>{let w=null;T._refCount++;const P=(0,nt.x)(N,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(w=null);const G=T._connection,X=w;w=null,G&&(!X||G===X)&&G.unsubscribe(),N.unsubscribe()});T.subscribe(P),P.closed||(w=T.connect())})}class ve extends Oe.y{constructor(N,w){super(),this.source=N,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,qt.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new St.w0;const w=this.getSubject();N.add(this.source.subscribe((0,nt.x)(w,void 0,()=>{this._teardown(),w.complete()},P=>{this._teardown(),w.error(P)},()=>this._teardown()))),N.closed&&(this._connection=null,N=St.w0.EMPTY)}return N}refCount(){return At()(this)}}var Ft=j(7579),Ye=j(6895),ge=j(4004),We=j(3900),yt=j(5698),Tt=j(8675),ae=j(9300),at=j(5577),pt=j(590);function Vt(T,N){return(0,Me.m)(N)?(0,at.z)(T,N,1):(0,at.z)(T,1)}var rn=j(8505);function Kt(T){return(0,qt.e)((N,w)=>{let X,P=null,G=!1;P=N.subscribe((0,nt.x)(w,void 0,void 0,oe=>{X=(0,Ge.Xf)(T(oe,Kt(T)(N))),P?(P.unsubscribe(),P=null,X.subscribe(w)):G=!0})),G&&(P.unsubscribe(),P=null,X.subscribe(w))})}var ct=j(5026);function bt(T){return T<=0?()=>ft.E:(0,qt.e)((N,w)=>{let P=[];N.subscribe((0,nt.x)(w,G=>{P.push(G),T<P.length&&P.shift()},()=>{for(const G of P)w.next(G);w.complete()},void 0,()=>{P=null}))})}var st=j(8068),Ct=j(6590),kt=j(4671);function It(T,N){const w=arguments.length>=2;return P=>P.pipe(T?(0,ae.h)((G,X)=>T(G,X,P)):kt.y,bt(1),w?(0,Ct.d)(N):(0,st.T)(()=>new we.K))}var Ue=j(9718);function Mt(T){return(0,qt.e)((N,w)=>{try{N.subscribe(w)}finally{w.add(T)}})}var Te=j(8189),Ce=j(1481);const Ke="primary",Jt=Symbol("RouteTitle");class wn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w[0]:w}return null}getAll(N){if(this.has(N)){const w=this.params[N];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Qn(T){return new wn(T)}function fr(T,N,w){const P=w.path.split("/");if(P.length>T.length||"full"===w.pathMatch&&(N.hasChildren()||P.length<T.length))return null;const G={};for(let X=0;X<P.length;X++){const oe=P[X],$e=T[X];if(oe.startsWith(":"))G[oe.substring(1)]=$e;else if(oe!==$e.path)return null}return{consumed:T.slice(0,P.length),posParams:G}}function $n(T,N){const w=T?Object.keys(T):void 0,P=N?Object.keys(N):void 0;if(!w||!P||w.length!=P.length)return!1;let G;for(let X=0;X<w.length;X++)if(G=w[X],!Xn(T[G],N[G]))return!1;return!0}function Xn(T,N){if(Array.isArray(T)&&Array.isArray(N)){if(T.length!==N.length)return!1;const w=[...T].sort(),P=[...N].sort();return w.every((G,X)=>P[X]===G)}return T===N}function ir(T){return Array.prototype.concat.apply([],T)}function Ve(T){return T.length>0?T[T.length-1]:null}function Le(T,N){for(const w in T)T.hasOwnProperty(w)&&N(T[w],w)}function dt(T){return(0,a.CqO)(T)?T:(0,a.QGY)(T)?(0,te.D)(Promise.resolve(T)):(0,I.of)(T)}const ot=!1,ln={exact:function Pr(T,N,w){if(!ki(T.segments,N.segments)||!Ai(T.segments,N.segments,w)||T.numberOfChildren!==N.numberOfChildren)return!1;for(const P in N.children)if(!T.children[P]||!Pr(T.children[P],N.children[P],w))return!1;return!0},subset:Tn},gr={exact:function sr(T,N){return $n(T,N)},subset:function kn(T,N){return Object.keys(N).length<=Object.keys(T).length&&Object.keys(N).every(w=>Xn(T[w],N[w]))},ignored:()=>!0};function jn(T,N,w){return ln[w.paths](T.root,N.root,w.matrixParams)&&gr[w.queryParams](T.queryParams,N.queryParams)&&!("exact"===w.fragment&&T.fragment!==N.fragment)}function Tn(T,N,w){return An(T,N,N.segments,w)}function An(T,N,w,P){if(T.segments.length>w.length){const G=T.segments.slice(0,w.length);return!(!ki(G,w)||N.hasChildren()||!Ai(G,w,P))}if(T.segments.length===w.length){if(!ki(T.segments,w)||!Ai(T.segments,w,P))return!1;for(const G in N.children)if(!T.children[G]||!Tn(T.children[G],N.children[G],P))return!1;return!0}{const G=w.slice(0,T.segments.length),X=w.slice(T.segments.length);return!!(ki(T.segments,G)&&Ai(T.segments,G,P)&&T.children[Ke])&&An(T.children[Ke],N,X,P)}}function Ai(T,N,w){return N.every((P,G)=>gr[w](T[G].parameters,P.parameters))}class zn{constructor(N=new bn([],{}),w={},P=null){this.root=N,this.queryParams=w,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return Qr.serialize(this)}}class bn{constructor(N,w){this.segments=N,this.children=w,this.parent=null,Le(w,(P,G)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zr(this)}}class Er{constructor(N,w){this.path=N,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Qn(this.parameters)),this._parameterMap}toString(){return _e(this)}}function ki(T,N){return T.length===N.length&&T.every((w,P)=>w.path===N[P].path)}let fi=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return new er},providedIn:"root"}),T})();class er{parse(N){const w=new Pe(N);return new zn(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(N){const w=`/${Xt(N.root,!0)}`,P=function Dt(T){const N=Object.keys(T).map(w=>{const P=T[w];return Array.isArray(P)?P.map(G=>`${cn(w)}=${cn(G)}`).join("&"):`${cn(w)}=${cn(P)}`}).filter(w=>!!w);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${w}${P}${"string"==typeof N.fragment?`#${function Un(T){return encodeURI(T)}(N.fragment)}`:""}`}}const Qr=new er;function zr(T){return T.segments.map(N=>_e(N)).join("/")}function Xt(T,N){if(!T.hasChildren())return zr(T);if(N){const w=T.children[Ke]?Xt(T.children[Ke],!1):"",P=[];return Le(T.children,(G,X)=>{X!==Ke&&P.push(`${X}:${Xt(G,!1)}`)}),P.length>0?`${w}(${P.join("//")})`:w}{const w=function Nr(T,N){let w=[];return Le(T.children,(P,G)=>{G===Ke&&(w=w.concat(N(P,G)))}),Le(T.children,(P,G)=>{G!==Ke&&(w=w.concat(N(P,G)))}),w}(T,(P,G)=>G===Ke?[Xt(T.children[Ke],!1)]:[`${G}:${Xt(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ke]?`${zr(T)}/${w[0]}`:`${zr(T)}/(${w.join("//")})`}}function Nt(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(T){return Nt(T).replace(/%3B/gi,";")}function Rn(T){return Nt(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fn(T){return decodeURIComponent(T)}function Ie(T){return Fn(T.replace(/\+/g,"%20"))}function _e(T){return`${Rn(T.path)}${function ke(T){return Object.keys(T).map(N=>`;${Rn(N)}=${Rn(T[N])}`).join("")}(T.parameters)}`}const it=/^[^\/()?;=#]+/;function fn(T){const N=T.match(it);return N?N[0]:""}const qn=/^[^=?&#]+/,xr=/^[^&#]+/;class Pe{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(N.length>0||Object.keys(w).length>0)&&(P[Ke]=new bn(N,w)),P}parseSegment(){const N=fn(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new a.vHH(4009,ot);return this.capture(N),new Er(Fn(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const w=fn(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const G=fn(this.remaining);G&&(P=G,this.capture(P))}N[Fn(w)]=Fn(P)}parseQueryParam(N){const w=function Hn(T){const N=T.match(qn);return N?N[0]:""}(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const oe=function Ne(T){const N=T.match(xr);return N?N[0]:""}(this.remaining);oe&&(P=oe,this.capture(P))}const G=Ie(w),X=Ie(P);if(N.hasOwnProperty(G)){let oe=N[G];Array.isArray(oe)||(oe=[oe],N[G]=oe),oe.push(X)}else N[G]=X}parseParens(N){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=fn(this.remaining),G=this.remaining[P.length];if("/"!==G&&")"!==G&&";"!==G)throw new a.vHH(4010,ot);let X;P.indexOf(":")>-1?(X=P.slice(0,P.indexOf(":")),this.capture(X),this.capture(":")):N&&(X=Ke);const oe=this.parseChildren();w[X]=1===Object.keys(oe).length?oe[Ke]:new bn([],oe),this.consumeOptional("//")}return w}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new a.vHH(4011,ot)}}function ue(T){return T.segments.length>0?new bn([],{[Ke]:T}):T}function ze(T){const N={};for(const P of Object.keys(T.children)){const X=ze(T.children[P]);(X.segments.length>0||X.hasChildren())&&(N[P]=X)}return function jt(T){if(1===T.numberOfChildren&&T.children[Ke]){const N=T.children[Ke];return new bn(T.segments.concat(N.segments),N.children)}return T}(new bn(T.segments,N))}function sn(T){return T instanceof zn}function pi(T,N,w,P,G){if(0===w.length)return Yi(N.root,N.root,N.root,P,G);const X=function eo(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new cs(!0,0,T);let N=0,w=!1;const P=T.reduce((G,X,oe)=>{if("object"==typeof X&&null!=X){if(X.outlets){const $e={};return Le(X.outlets,(Ut,Wt)=>{$e[Wt]="string"==typeof Ut?Ut.split("/"):Ut}),[...G,{outlets:$e}]}if(X.segmentPath)return[...G,X.segmentPath]}return"string"!=typeof X?[...G,X]:0===oe?(X.split("/").forEach(($e,Ut)=>{0==Ut&&"."===$e||(0==Ut&&""===$e?w=!0:".."===$e?N++:""!=$e&&G.push($e))}),G):[...G,X]},[]);return new cs(w,N,P)}(w);return X.toRoot()?Yi(N.root,N.root,new bn([],{}),P,G):function oe(Ut){const Wt=function ui(T,N,w,P){if(T.isAbsolute)return new vr(N.root,!0,0);if(-1===P)return new vr(w,w===N.root,0);return function ci(T,N,w){let P=T,G=N,X=w;for(;X>G;){if(X-=G,P=P.parent,!P)throw new a.vHH(4005,!1);G=P.segments.length}return new vr(P,!1,G-X)}(w,P+(Cs(T.commands[0])?0:1),T.numberOfDoubleDots)}(X,N,T.snapshot?._urlSegment,Ut),Sn=Wt.processChildren?hn(Wt.segmentGroup,Wt.index,X.commands):rs(Wt.segmentGroup,Wt.index,X.commands);return Yi(N.root,Wt.segmentGroup,Sn,P,G)}(T.snapshot?._lastPathIndex)}function Cs(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function kr(T){return"object"==typeof T&&null!=T&&T.outlets}function Yi(T,N,w,P,G){let oe,X={};P&&Le(P,(Ut,Wt)=>{X[Wt]=Array.isArray(Ut)?Ut.map(Sn=>`${Sn}`):`${Ut}`}),oe=T===N?w:Ps(T,N,w);const $e=ue(ze(oe));return new zn($e,X,G)}function Ps(T,N,w){const P={};return Le(T.children,(G,X)=>{P[X]=G===N?w:Ps(G,N,w)}),new bn(T.segments,P)}class cs{constructor(N,w,P){if(this.isAbsolute=N,this.numberOfDoubleDots=w,this.commands=P,N&&P.length>0&&Cs(P[0]))throw new a.vHH(4003,!1);const G=P.find(kr);if(G&&G!==Ve(P))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vr{constructor(N,w,P){this.segmentGroup=N,this.processChildren=w,this.index=P}}function rs(T,N,w){if(T||(T=new bn([],{})),0===T.segments.length&&T.hasChildren())return hn(T,N,w);const P=function tr(T,N,w){let P=0,G=N;const X={match:!1,pathIndex:0,commandIndex:0};for(;G<T.segments.length;){if(P>=w.length)return X;const oe=T.segments[G],$e=w[P];if(kr($e))break;const Ut=`${$e}`,Wt=P<w.length-1?w[P+1]:null;if(G>0&&void 0===Ut)break;if(Ut&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!di(Ut,Wt,oe))return X;P+=2}else{if(!di(Ut,{},oe))return X;P++}G++}return{match:!0,pathIndex:G,commandIndex:P}}(T,N,w),G=w.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const X=new bn(T.segments.slice(0,P.pathIndex),{});return X.children[Ke]=new bn(T.segments.slice(P.pathIndex),T.children),hn(X,0,G)}return P.match&&0===G.length?new bn(T.segments,{}):P.match&&!T.hasChildren()?Or(T,N,w):P.match?hn(T,0,G):Or(T,N,w)}function hn(T,N,w){if(0===w.length)return new bn(T.segments,{});{const P=function Fi(T){return kr(T[0])?T[0].outlets:{[Ke]:T}}(w),G={};return!P[Ke]&&T.children[Ke]&&1===T.numberOfChildren&&0===T.children[Ke].segments.length?hn(T.children[Ke],N,w):(Le(P,(X,oe)=>{"string"==typeof X&&(X=[X]),null!==X&&(G[oe]=rs(T.children[oe],N,X))}),Le(T.children,(X,oe)=>{void 0===P[oe]&&(G[oe]=X)}),new bn(T.segments,G))}}function Or(T,N,w){const P=T.segments.slice(0,N);let G=0;for(;G<w.length;){const X=w[G];if(kr(X)){const Ut=Qi(X.outlets);return new bn(P,Ut)}if(0===G&&Cs(w[0])){P.push(new Er(T.segments[N].path,$i(w[0]))),G++;continue}const oe=kr(X)?X.outlets[Ke]:`${X}`,$e=G<w.length-1?w[G+1]:null;oe&&$e&&Cs($e)?(P.push(new Er(oe,$i($e))),G+=2):(P.push(new Er(oe,{})),G++)}return new bn(P,{})}function Qi(T){const N={};return Le(T,(w,P)=>{"string"==typeof w&&(w=[w]),null!==w&&(N[P]=Or(new bn([],{}),0,w))}),N}function $i(T){const N={};return Le(T,(w,P)=>N[P]=`${w}`),N}function di(T,N,w){return T==w.path&&$n(N,w.parameters)}const Ni="imperative";class Ar{constructor(N,w){this.id=N,this.url=w}}class fo extends Ar{constructor(N,w,P="imperative",G=null){super(N,w),this.type=0,this.navigationTrigger=P,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends Ar{constructor(N,w,P){super(N,w),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cr extends Ar{constructor(N,w,P,G){super(N,w),this.reason=P,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class to extends Ar{constructor(N,w,P,G){super(N,w),this.reason=P,this.code=G,this.type=16}}class Gi extends Ar{constructor(N,w,P,G){super(N,w),this.error=P,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xs extends Ar{constructor(N,w,P,G){super(N,w),this.urlAfterRedirects=P,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends Ar{constructor(N,w,P,G){super(N,w),this.urlAfterRedirects=P,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends Ar{constructor(N,w,P,G,X){super(N,w),this.urlAfterRedirects=P,this.state=G,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Is extends Ar{constructor(N,w,P,G){super(N,w),this.urlAfterRedirects=P,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Ar{constructor(N,w,P,G){super(N,w),this.urlAfterRedirects=P,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class go{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _s{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xe{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(N,w,P){this.routerEvent=N,this.position=w,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Kn=(()=>{class T{createUrlTree(w,P,G,X,oe,$e){return pi(w||P.root,G,X,oe,$e)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})(),jr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(N){return Kn.\u0275fac(N)},providedIn:"root"}),T})();class Di{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const w=this.pathFromRoot(N);return w.length>1?w[w.length-2]:null}children(N){const w=Oi(N,this._root);return w?w.children.map(P=>P.value):[]}firstChild(N){const w=Oi(N,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(N){const w=Xi(N,this._root);return w.length<2?[]:w[w.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return Xi(N,this._root).map(w=>w.value)}}function Oi(T,N){if(T===N.value)return N;for(const w of N.children){const P=Oi(T,w);if(P)return P}return null}function Xi(T,N){if(T===N.value)return[N];for(const w of N.children){const P=Xi(T,w);if(P.length)return P.unshift(N),P}return[]}class Bi{constructor(N,w){this.value=N,this.children=w}toString(){return`TreeNode(${this.value})`}}function no(T){const N={};return T&&T.children.forEach(w=>N[w.value.outlet]=w),N}class Ui extends Di{constructor(N,w){super(N),this.snapshot=w,Xo(this,N)}toString(){return this.snapshot.toString()}}function ro(T,N){const w=function ja(T,N){const oe=new ks([],{},{},"",{},Ke,N,null,T.root,-1,{});return new To("",new Bi(oe,[]))}(T,N),P=new pe.X([new Er("",{})]),G=new pe.X({}),X=new pe.X({}),oe=new pe.X({}),$e=new pe.X(""),Ut=new io(P,G,oe,$e,X,Ke,N,w.root);return Ut.snapshot=w.root,new Ui(new Bi(Ut,[]),w)}class io{constructor(N,w,P,G,X,oe,$e,Ut){this.url=N,this.params=w,this.queryParams=P,this.fragment=G,this.data=X,this.outlet=oe,this.component=$e,this.title=this.data?.pipe((0,ge.U)(Wt=>Wt[Jt]))??(0,I.of)(void 0),this._futureSnapshot=Ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ge.U)(N=>Qn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ge.U)(N=>Qn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gs(T,N="emptyOnly"){const w=T.pathFromRoot;let P=0;if("always"!==N)for(P=w.length-1;P>=1;){const G=w[P],X=w[P-1];if(G.routeConfig&&""===G.routeConfig.path)P--;else{if(X.component)break;P--}}return function Uo(T){return T.reduce((N,w)=>({params:{...N.params,...w.params},data:{...N.data,...w.data},resolve:{...w.data,...N.resolve,...w.routeConfig?.data,...w._resolvedData}}),{params:{},data:{},resolve:{}})}(w.slice(P))}class ks{get title(){return this.data?.[Jt]}constructor(N,w,P,G,X,oe,$e,Ut,Wt,Sn,Lr){this.url=N,this.params=w,this.queryParams=P,this.fragment=G,this.data=X,this.outlet=oe,this.component=$e,this.routeConfig=Ut,this._urlSegment=Wt,this._lastPathIndex=Sn,this._resolve=Lr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class To extends Di{constructor(N,w){super(w),this.url=N,Xo(this,w)}toString(){return mo(this._root)}}function Xo(T,N){N.value._routerState=T,N.children.forEach(w=>Xo(T,w))}function mo(T){const N=T.children.length>0?` { ${T.children.map(mo).join(", ")} } `:"";return`${T.value}${N}`}function _o(T){if(T.snapshot){const N=T.snapshot,w=T._futureSnapshot;T.snapshot=w,$n(N.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),N.fragment!==w.fragment&&T.fragment.next(w.fragment),$n(N.params,w.params)||T.params.next(w.params),function wr(T,N){if(T.length!==N.length)return!1;for(let w=0;w<T.length;++w)if(!$n(T[w],N[w]))return!1;return!0}(N.url,w.url)||T.url.next(w.url),$n(N.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Fs(T,N){const w=$n(T.params,N.params)&&function Yr(T,N){return ki(T,N)&&T.every((w,P)=>$n(w.parameters,N[P].parameters))}(T.url,N.url);return w&&!(!T.parent!=!N.parent)&&(!T.parent||Fs(T.parent,N.parent))}function ds(T,N,w){if(w&&T.shouldReuseRoute(N.value,w.value.snapshot)){const P=w.value;P._futureSnapshot=N.value;const G=function Ga(T,N,w){return N.children.map(P=>{for(const G of w.children)if(T.shouldReuseRoute(P.value,G.value.snapshot))return ds(T,P,G);return ds(T,P)})}(T,N,w);return new Bi(P,G)}{if(T.shouldAttach(N.value)){const X=T.retrieve(N.value);if(null!==X){const oe=X.route;return oe.value._futureSnapshot=N.value,oe.children=N.children.map($e=>ds(T,$e)),oe}}const P=function ea(T){return new io(new pe.X(T.url),new pe.X(T.params),new pe.X(T.queryParams),new pe.X(T.fragment),new pe.X(T.data),T.outlet,T.component,T)}(N.value),G=N.children.map(X=>ds(T,X));return new Bi(P,G)}}const yo="ngNavigationCancelingError";function Li(T,N){const{redirectTo:w,navigationBehaviorOptions:P}=sn(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=ys(!1,0,N);return G.url=w,G.navigationBehaviorOptions=P,G}function ys(T,N,w){const P=new Error("NavigationCancelingError: "+(T||""));return P[yo]=!0,P.cancellationCode=N,w&&(P.url=w),P}function ta(T){return Vo(T)&&sn(T.url)}function Vo(T){return T&&T[yo]}class ga{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dr,this.attachRef=null}}let dr=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(w,P){const G=this.getOrCreateContext(w);G.outlet=P,this.contexts.set(w,G)}onChildOutletDestroyed(w){const P=this.getContext(w);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let P=this.getContext(w);return P||(P=new ga,this.contexts.set(w,P)),P}getContext(w){return this.contexts.get(w)||null}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const vs=!1;let is=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(dr),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(w){if(w.name){const{firstChange:P,previousValue:G}=w.name;if(P)return;this.isTrackedInParentContexts(G)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(G)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,vs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,vs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,vs);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,P){this.activated=w,this._activatedRoute=P,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,P){if(this.isActivated)throw new a.vHH(4013,vs);this._activatedRoute=w;const G=this.location,oe=w.snapshot.component,$e=this.parentContexts.getOrCreateContext(this.name).children,Ut=new Ls(w,$e,G.injector);if(P&&function ma(T){return!!T.resolveComponentFactory}(P)){const Wt=P.resolveComponentFactory(oe);this.activated=G.createComponent(Wt,G.length,Ut)}else this.activated=G.createComponent(oe,{index:G.length,injector:Ut,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275dir=a.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),T})();class Ls{constructor(N,w,P){this.route=N,this.childContexts=w,this.parent=P}get(N,w){return N===io?this.route:N===dr?this.childContexts:this.parent.get(N,w)}}let so=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(w,P){1&w&&a._UZ(0,"router-outlet")},dependencies:[is],encapsulation:2}),T})();function ss(T,N){return T.providers&&!T._injector&&(T._injector=(0,a.MMx)(T.providers,N,`Route: ${T.path}`)),T._injector??N}function ts(T){const N=T.children&&T.children.map(ts),w=N?{...T,children:N}:{...T};return!w.component&&!w.loadComponent&&(N||w.loadChildren)&&w.outlet&&w.outlet!==Ke&&(w.component=so),w}function zi(T){return T.outlet||Ke}function Vi(T,N){const w=T.filter(P=>zi(P)===N);return w.push(...T.filter(P=>zi(P)!==N)),w}function ao(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let N=T.parent;N;N=N.parent){const w=N.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class lo{constructor(N,w,P,G){this.routeReuseStrategy=N,this.futureState=w,this.currState=P,this.forwardEvent=G}activate(N){const w=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,P,N),_o(this.futureState.root),this.activateChildRoutes(w,P,N)}deactivateChildRoutes(N,w,P){const G=no(w);N.children.forEach(X=>{const oe=X.value.outlet;this.deactivateRoutes(X,G[oe],P),delete G[oe]}),Le(G,(X,oe)=>{this.deactivateRouteAndItsChildren(X,P)})}deactivateRoutes(N,w,P){const G=N.value,X=w?w.value:null;if(G===X)if(G.component){const oe=P.getContext(G.outlet);oe&&this.deactivateChildRoutes(N,w,oe.children)}else this.deactivateChildRoutes(N,w,P);else X&&this.deactivateRouteAndItsChildren(w,P)}deactivateRouteAndItsChildren(N,w){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,w):this.deactivateRouteAndOutlet(N,w)}detachAndStoreRouteSubtree(N,w){const P=w.getContext(N.value.outlet),G=P&&N.value.component?P.children:w,X=no(N);for(const oe of Object.keys(X))this.deactivateRouteAndItsChildren(X[oe],G);if(P&&P.outlet){const oe=P.outlet.detach(),$e=P.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:oe,route:N,contexts:$e})}}deactivateRouteAndOutlet(N,w){const P=w.getContext(N.value.outlet),G=P&&N.value.component?P.children:w,X=no(N);for(const oe of Object.keys(X))this.deactivateRouteAndItsChildren(X[oe],G);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(N,w,P){const G=no(w);N.children.forEach(X=>{this.activateRoutes(X,G[X.value.outlet],P),this.forwardEvent(new Xe(X.value.snapshot))}),N.children.length&&this.forwardEvent(new xe(N.value.snapshot))}activateRoutes(N,w,P){const G=N.value,X=w?w.value:null;if(_o(G),G===X)if(G.component){const oe=P.getOrCreateContext(G.outlet);this.activateChildRoutes(N,w,oe.children)}else this.activateChildRoutes(N,w,P);else if(G.component){const oe=P.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const $e=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),oe.children.onOutletReAttached($e.contexts),oe.attachRef=$e.componentRef,oe.route=$e.route.value,oe.outlet&&oe.outlet.attach($e.componentRef,$e.route.value),_o($e.route.value),this.activateChildRoutes(N,null,oe.children)}else{const $e=ao(G.snapshot),Ut=$e?.get(a._Vd)??null;oe.attachRef=null,oe.route=G,oe.resolver=Ut,oe.injector=$e,oe.outlet&&oe.outlet.activateWith(G,oe.injector),this.activateChildRoutes(N,null,oe.children)}}else this.activateChildRoutes(N,null,P)}}class Ri{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class zs{constructor(N,w){this.component=N,this.route=w}}function Ho(T,N,w){const P=T._root;return As(P,N?N._root:null,w,[P.value])}function bs(T,N){const w=Symbol(),P=N.get(T,w);return P===w?"function"!=typeof T||(0,a.Z0I)(T)?N.get(T):T:P}function As(T,N,w,P,G={canDeactivateChecks:[],canActivateChecks:[]}){const X=no(N);return T.children.forEach(oe=>{(function ia(T,N,w,P,G={canDeactivateChecks:[],canActivateChecks:[]}){const X=T.value,oe=N?N.value:null,$e=w?w.getContext(T.value.outlet):null;if(oe&&X.routeConfig===oe.routeConfig){const Ut=function Yn(T,N,w){if("function"==typeof w)return w(T,N);switch(w){case"pathParamsChange":return!ki(T.url,N.url);case"pathParamsOrQueryParamsChange":return!ki(T.url,N.url)||!$n(T.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fs(T,N)||!$n(T.queryParams,N.queryParams);default:return!Fs(T,N)}}(oe,X,X.routeConfig.runGuardsAndResolvers);Ut?G.canActivateChecks.push(new Ri(P)):(X.data=oe.data,X._resolvedData=oe._resolvedData),As(T,N,X.component?$e?$e.children:null:w,P,G),Ut&&$e&&$e.outlet&&$e.outlet.isActivated&&G.canDeactivateChecks.push(new zs($e.outlet.component,oe))}else oe&&$o(N,$e,G),G.canActivateChecks.push(new Ri(P)),As(T,null,X.component?$e?$e.children:null:w,P,G)})(oe,X[oe.value.outlet],w,P.concat([oe.value]),G),delete X[oe.value.outlet]}),Le(X,(oe,$e)=>$o(oe,w.getContext($e),G)),G}function $o(T,N,w){const P=no(T),G=T.value;Le(P,(X,oe)=>{$o(X,G.component?N?N.children.getContext(oe):null:N,w)}),w.canDeactivateChecks.push(new zs(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function uo(T){return"function"==typeof T}function F(T){return T instanceof we.K||"EmptyError"===T?.name}const re=Symbol("INITIAL_VALUE");function rt(){return(0,We.w)(T=>(0,De.a)(T.map(N=>N.pipe((0,yt.q)(1),(0,Tt.O)(re)))).pipe((0,ge.U)(N=>{for(const w of N)if(!0!==w){if(w===re)return re;if(!1===w||w instanceof zn)return w}return!0}),(0,ae.h)(N=>N!==re),(0,yt.q)(1)))}function mr(T){return(0,he.z)((0,rn.b)(N=>{if(sn(N))throw Li(0,N)}),(0,ge.U)(N=>!0===N))}const Wi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Es(T,N,w,P,G){const X=Go(T,N,w);return X.matched?function hs(T,N,w,P){const G=N.canMatch;if(!G||0===G.length)return(0,I.of)(!0);const X=G.map(oe=>{const $e=bs(oe,T);return dt(function No(T){return T&&uo(T.canMatch)}($e)?$e.canMatch(N,w):T.runInContext(()=>$e(N,w)))});return(0,I.of)(X).pipe(rt(),mr())}(P=ss(N,P),N,w).pipe((0,ge.U)(oe=>!0===oe?X:{...Wi})):(0,I.of)(X)}function Go(T,N,w){if(""===N.path)return"full"===N.pathMatch&&(T.hasChildren()||w.length>0)?{...Wi}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const G=(N.matcher||fr)(w,T,N);if(!G)return{...Wi};const X={};Le(G.posParams,($e,Ut)=>{X[Ut]=$e.path});const oe=G.consumed.length>0?{...X,...G.consumed[G.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:G.consumed,remainingSegments:w.slice(G.consumed.length),parameters:oe,positionalParamSegments:G.posParams??{}}}function zo(T,N,w,P){if(w.length>0&&function Ja(T,N,w){return w.some(P=>xa(T,N,P)&&zi(P)!==Ke)}(T,w,P)){const X=new bn(N,function al(T,N,w,P){const G={};G[Ke]=P,P._sourceSegment=T,P._segmentIndexShift=N.length;for(const X of w)if(""===X.path&&zi(X)!==Ke){const oe=new bn([],{});oe._sourceSegment=T,oe._segmentIndexShift=N.length,G[zi(X)]=oe}return G}(T,N,P,new bn(w,T.children)));return X._sourceSegment=T,X._segmentIndexShift=N.length,{segmentGroup:X,slicedSegments:[]}}if(0===w.length&&function Ws(T,N,w){return w.some(P=>xa(T,N,P))}(T,w,P)){const X=new bn(T.segments,function za(T,N,w,P,G){const X={};for(const oe of P)if(xa(T,w,oe)&&!G[zi(oe)]){const $e=new bn([],{});$e._sourceSegment=T,$e._segmentIndexShift=N.length,X[zi(oe)]=$e}return{...G,...X}}(T,N,w,P,T.children));return X._sourceSegment=T,X._segmentIndexShift=N.length,{segmentGroup:X,slicedSegments:w}}const G=new bn(T.segments,T.children);return G._sourceSegment=T,G._segmentIndexShift=N.length,{segmentGroup:G,slicedSegments:w}}function xa(T,N,w){return(!(T.hasChildren()||N.length>0)||"full"!==w.pathMatch)&&""===w.path}function Wa(T,N,w,P){return!!(zi(T)===P||P!==Ke&&xa(N,w,T))&&("**"===T.path||Go(N,T,w).matched)}function oa(T,N,w){return 0===N.length&&!T.children[w]}const ka=!1;class aa{constructor(N){this.segmentGroup=N||null}}class Zs{constructor(N){this.urlTree=N}}function la(T){return Pt(new aa(T))}function ll(T){return Pt(new Zs(T))}class ul{constructor(N,w,P,G,X){this.injector=N,this.configLoader=w,this.urlSerializer=P,this.urlTree=G,this.config=X,this.allowRedirects=!0}apply(){const N=zo(this.urlTree.root,[],[],this.config).segmentGroup,w=new bn(N.segments,N.children);return this.expandSegmentGroup(this.injector,this.config,w,Ke).pipe((0,ge.U)(X=>this.createUrlTree(ze(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kt(X=>{if(X instanceof Zs)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof aa?this.noMatchError(X):X}))}match(N){return this.expandSegmentGroup(this.injector,this.config,N.root,Ke).pipe((0,ge.U)(G=>this.createUrlTree(ze(G),N.queryParams,N.fragment))).pipe(Kt(G=>{throw G instanceof aa?this.noMatchError(G):G}))}noMatchError(N){return new a.vHH(4002,ka)}createUrlTree(N,w,P){const G=ue(N);return new zn(G,w,P)}expandSegmentGroup(N,w,P,G){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(N,w,P).pipe((0,ge.U)(X=>new bn([],X))):this.expandSegment(N,P,w,P.segments,G,!0)}expandChildren(N,w,P){const G=[];for(const X of Object.keys(P.children))"primary"===X?G.unshift(X):G.push(X);return(0,te.D)(G).pipe(Vt(X=>{const oe=P.children[X],$e=Vi(w,X);return this.expandSegmentGroup(N,$e,oe,X).pipe((0,ge.U)(Ut=>({segment:Ut,outlet:X})))}),(0,ct.R)((X,oe)=>(X[oe.outlet]=oe.segment,X),{}),It())}expandSegment(N,w,P,G,X,oe){return(0,te.D)(P).pipe(Vt($e=>this.expandSegmentAgainstRoute(N,w,P,$e,G,X,oe).pipe(Kt(Wt=>{if(Wt instanceof aa)return(0,I.of)(null);throw Wt}))),(0,pt.P)($e=>!!$e),Kt(($e,Ut)=>{if(F($e))return oa(w,G,X)?(0,I.of)(new bn([],{})):la(w);throw $e}))}expandSegmentAgainstRoute(N,w,P,G,X,oe,$e){return Wa(G,w,X,oe)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(N,w,G,X,oe):$e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,w,P,G,X,oe):la(w):la(w)}expandSegmentAgainstRouteUsingRedirect(N,w,P,G,X,oe){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,P,G,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(N,w,P,G,X,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,w,P,G){const X=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?ll(X):this.lineralizeSegments(P,X).pipe((0,at.z)(oe=>{const $e=new bn(oe,{});return this.expandSegment(N,$e,w,oe,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,w,P,G,X,oe){const{matched:$e,consumedSegments:Ut,remainingSegments:Wt,positionalParamSegments:Sn}=Go(w,G,X);if(!$e)return la(w);const Lr=this.applyRedirectCommands(Ut,G.redirectTo,Sn);return G.redirectTo.startsWith("/")?ll(Lr):this.lineralizeSegments(G,Lr).pipe((0,at.z)(as=>this.expandSegment(N,w,P,as.concat(Wt),oe,!1)))}matchSegmentAgainstRoute(N,w,P,G,X){return"**"===P.path?(N=ss(P,N),P.loadChildren?(P._loadedRoutes?(0,I.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(N,P)).pipe((0,ge.U)($e=>(P._loadedRoutes=$e.routes,P._loadedInjector=$e.injector,new bn(G,{})))):(0,I.of)(new bn(G,{}))):Es(w,P,G,N).pipe((0,We.w)(({matched:oe,consumedSegments:$e,remainingSegments:Ut})=>oe?this.getChildConfig(N=P._injector??N,P,G).pipe((0,at.z)(Sn=>{const Lr=Sn.injector??N,as=Sn.routes,{segmentGroup:Zi,slicedSegments:ca}=zo(w,$e,Ut,as),fs=new bn(Zi.segments,Zi.children);if(0===ca.length&&fs.hasChildren())return this.expandChildren(Lr,as,fs).pipe((0,ge.U)(Ha=>new bn($e,Ha)));if(0===as.length&&0===ca.length)return(0,I.of)(new bn($e,{}));const Po=zi(P)===X;return this.expandSegment(Lr,fs,as,ca,Po?Ke:X,!0).pipe((0,ge.U)(da=>new bn($e.concat(da.segments),da.children)))})):la(w)))}getChildConfig(N,w,P){return w.children?(0,I.of)({routes:w.children,injector:N}):w.loadChildren?void 0!==w._loadedRoutes?(0,I.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Pi(T,N,w,P){const G=N.canLoad;if(void 0===G||0===G.length)return(0,I.of)(!0);const X=G.map(oe=>{const $e=bs(oe,T);return dt(function sa(T){return T&&uo(T.canLoad)}($e)?$e.canLoad(N,w):T.runInContext(()=>$e(N,w)))});return(0,I.of)(X).pipe(rt(),mr())}(N,w,P).pipe((0,at.z)(G=>G?this.configLoader.loadChildren(N,w).pipe((0,rn.b)(X=>{w._loadedRoutes=X.routes,w._loadedInjector=X.injector})):function vl(T){return Pt(ys(ka,3))}())):(0,I.of)({routes:[],injector:N})}lineralizeSegments(N,w){let P=[],G=w.root;for(;;){if(P=P.concat(G.segments),0===G.numberOfChildren)return(0,I.of)(P);if(G.numberOfChildren>1||!G.children[Ke])return Pt(new a.vHH(4e3,ka));G=G.children[Ke]}}applyRedirectCommands(N,w,P){return this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),N,P)}applyRedirectCreateUrlTree(N,w,P,G){const X=this.createSegmentGroup(N,w.root,P,G);return new zn(X,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(N,w){const P={};return Le(N,(G,X)=>{if("string"==typeof G&&G.startsWith(":")){const $e=G.substring(1);P[X]=w[$e]}else P[X]=G}),P}createSegmentGroup(N,w,P,G){const X=this.createSegments(N,w.segments,P,G);let oe={};return Le(w.children,($e,Ut)=>{oe[Ut]=this.createSegmentGroup(N,$e,P,G)}),new bn(X,oe)}createSegments(N,w,P,G){return w.map(X=>X.path.startsWith(":")?this.findPosParam(N,X,G):this.findOrReturn(X,P))}findPosParam(N,w,P){const G=P[w.path.substring(1)];if(!G)throw new a.vHH(4001,ka);return G}findOrReturn(N,w){let P=0;for(const G of w){if(G.path===N.path)return w.splice(P),G;P++}return N}}class Fr{}class es{constructor(N,w,P,G,X,oe,$e){this.injector=N,this.rootComponentType=w,this.config=P,this.urlTree=G,this.url=X,this.paramsInheritanceStrategy=oe,this.urlSerializer=$e}recognize(){const N=zo(this.urlTree.root,[],[],this.config.filter(w=>void 0===w.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Ke).pipe((0,ge.U)(w=>{if(null===w)return null;const P=new ks([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ke,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new Bi(P,w),X=new To(this.url,G);return this.inheritParamsAndData(X._root),X}))}inheritParamsAndData(N){const w=N.value,P=Gs(w,this.paramsInheritanceStrategy);w.params=Object.freeze(P.params),w.data=Object.freeze(P.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,w,P,G){return 0===P.segments.length&&P.hasChildren()?this.processChildren(N,w,P):this.processSegment(N,w,P,P.segments,G)}processChildren(N,w,P){return(0,te.D)(Object.keys(P.children)).pipe(Vt(G=>{const X=P.children[G],oe=Vi(w,G);return this.processSegmentGroup(N,oe,X,G)}),(0,ct.R)((G,X)=>G&&X?(G.push(...X),G):null),function Yt(T,N=!1){return(0,qt.e)((w,P)=>{let G=0;w.subscribe((0,nt.x)(P,X=>{const oe=T(X,G++);(oe||N)&&P.next(X),!oe&&P.complete()}))})}(G=>null!==G),(0,Ct.d)(null),It(),(0,ge.U)(G=>{if(null===G)return null;const X=Fa(G);return function Bl(T){T.sort((N,w)=>N.value.outlet===Ke?-1:w.value.outlet===Ke?1:N.value.outlet.localeCompare(w.value.outlet))}(X),X}))}processSegment(N,w,P,G,X){return(0,te.D)(w).pipe(Vt(oe=>this.processSegmentAgainstRoute(oe._injector??N,oe,P,G,X)),(0,pt.P)(oe=>!!oe),Kt(oe=>{if(F(oe))return oa(P,G,X)?(0,I.of)([]):(0,I.of)(null);throw oe}))}processSegmentAgainstRoute(N,w,P,G,X){if(w.redirectTo||!Wa(w,P,G,X))return(0,I.of)(null);let oe;if("**"===w.path){const $e=G.length>0?Ve(G).parameters:{},Ut=K(P)+G.length,Wt=new ks(G,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ne(w),zi(w),w.component??w._loadedComponent??null,w,x(P),Ut,be(w));oe=(0,I.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]})}else oe=Es(P,w,G,N).pipe((0,ge.U)(({matched:$e,consumedSegments:Ut,remainingSegments:Wt,parameters:Sn})=>{if(!$e)return null;const Lr=K(P)+Ut.length;return{snapshot:new ks(Ut,Sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ne(w),zi(w),w.component??w._loadedComponent??null,w,x(P),Lr,be(w)),consumedSegments:Ut,remainingSegments:Wt}}));return oe.pipe((0,We.w)($e=>{if(null===$e)return(0,I.of)(null);const{snapshot:Ut,consumedSegments:Wt,remainingSegments:Sn}=$e;N=w._injector??N;const Lr=w._loadedInjector??N,as=function Ul(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(w),{segmentGroup:Zi,slicedSegments:ca}=zo(P,Wt,Sn,as.filter(Po=>void 0===Po.redirectTo));if(0===ca.length&&Zi.hasChildren())return this.processChildren(Lr,as,Zi).pipe((0,ge.U)(Po=>null===Po?null:[new Bi(Ut,Po)]));if(0===as.length&&0===ca.length)return(0,I.of)([new Bi(Ut,[])]);const fs=zi(w)===X;return this.processSegment(Lr,as,Zi,ca,fs?Ke:X).pipe((0,ge.U)(Po=>null===Po?null:[new Bi(Ut,Po)]))}))}}function cl(T){const N=T.value.routeConfig;return N&&""===N.path&&void 0===N.redirectTo}function Fa(T){const N=[],w=new Set;for(const P of T){if(!cl(P)){N.push(P);continue}const G=N.find(X=>P.value.routeConfig===X.value.routeConfig);void 0!==G?(G.children.push(...P.children),w.add(G)):N.push(P)}for(const P of w){const G=Fa(P.children);N.push(new Bi(P.value,G))}return N.filter(P=>!w.has(P))}function x(T){let N=T;for(;N._sourceSegment;)N=N._sourceSegment;return N}function K(T){let N=T,w=N._segmentIndexShift??0;for(;N._sourceSegment;)N=N._sourceSegment,w+=N._segmentIndexShift??0;return w-1}function ne(T){return T.data||{}}function be(T){return T.resolve||{}}function gn(T){return"string"==typeof T.title||null===T.title}function Cr(T){return(0,We.w)(N=>{const w=T(N);return w?(0,te.D)(w).pipe((0,ge.U)(()=>N)):(0,I.of)(N)})}const _n=new a.OlP("ROUTES");let li=(()=>{class T{constructor(w,P){this.injector=w,this.compiler=P,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,I.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const P=dt(w.loadComponent()).pipe((0,ge.U)(ht),(0,rn.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=X}),Mt(()=>{this.componentLoaders.delete(w)})),G=new ve(P,()=>new Ft.x).pipe(At());return this.componentLoaders.set(w,G),G}loadChildren(w,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,I.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const X=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,ge.U)($e=>{this.onLoadEndListener&&this.onLoadEndListener(P);let Ut,Wt,Sn=!1;Array.isArray($e)?Wt=$e:(Ut=$e.create(w).injector,Wt=ir(Ut.get(_n,[],a.XFs.Self|a.XFs.Optional)));return{routes:Wt.map(ts),injector:Ut}}),Mt(()=>{this.childrenLoaders.delete(P)})),oe=new ve(X,()=>new Ft.x).pipe(At());return this.childrenLoaders.set(P,oe),oe}loadModuleFactoryOrRoutes(w){return dt(w()).pipe((0,ge.U)(ht),(0,at.z)(G=>G instanceof a.YKP||Array.isArray(G)?(0,I.of)(G):(0,te.D)(this.compiler.compileModuleAsync(G))))}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(a.zs3),a.LFG(a.Sil))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ht(T){return function an(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Wr=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ft.x,this.configLoader=(0,a.f3M)(li),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(fi),this.rootContexts=(0,a.f3M)(dr),this.navigationId=0,this.afterPreactivation=()=>(0,I.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=G=>this.events.next(new go(G)),this.configLoader.onLoadStartListener=G=>this.events.next(new ri(G))}complete(){this.transitions?.complete()}handleNavigationRequest(w){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...w,id:P})}setupNavigations(w){return this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:w.currentUrlTree,currentRawUrl:w.currentUrlTree,extractedUrl:w.urlHandlingStrategy.extract(w.currentUrlTree),urlAfterRedirects:w.urlHandlingStrategy.extract(w.currentUrlTree),rawUrl:w.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ni,restoredState:null,currentSnapshot:w.routerState.snapshot,targetSnapshot:null,currentRouterState:w.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ae.h)(P=>0!==P.id),(0,ge.U)(P=>({...P,extractedUrl:w.urlHandlingStrategy.extract(P.rawUrl)})),(0,We.w)(P=>{let G=!1,X=!1;return(0,I.of)(P).pipe((0,rn.b)(oe=>{this.currentNavigation={id:oe.id,initialUrl:oe.rawUrl,extractedUrl:oe.extractedUrl,trigger:oe.source,extras:oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,We.w)(oe=>{const $e=w.browserUrlTree.toString(),Ut=!w.navigated||oe.extractedUrl.toString()!==$e||$e!==w.currentUrlTree.toString();if(!Ut&&"reload"!==(oe.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Sn="";return this.events.next(new to(oe.id,w.serializeUrl(P.rawUrl),Sn,0)),w.rawUrlTree=oe.rawUrl,oe.resolve(null),ft.E}if(w.urlHandlingStrategy.shouldProcessUrl(oe.rawUrl))return W(oe.source)&&(w.browserUrlTree=oe.extractedUrl),(0,I.of)(oe).pipe((0,We.w)(Sn=>{const Lr=this.transitions?.getValue();return this.events.next(new fo(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),Lr!==this.transitions?.getValue()?ft.E:Promise.resolve(Sn)}),function Ms(T,N,w,P){return(0,We.w)(G=>function Ll(T,N,w,P,G){return new ul(T,N,w,P,G).apply()}(T,N,w,G.extractedUrl,P).pipe((0,ge.U)(X=>({...G,urlAfterRedirects:X}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,w.config),(0,rn.b)(Sn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects},P.urlAfterRedirects=Sn.urlAfterRedirects}),function lt(T,N,w,P,G){return(0,at.z)(X=>function Xa(T,N,w,P,G,X,oe="emptyOnly"){return new es(T,N,w,P,G,oe,X).recognize().pipe((0,We.w)($e=>null===$e?function ua(T){return new Oe.y(N=>N.error(T))}(new Fr):(0,I.of)($e)))}(T,N,w,X.urlAfterRedirects,P.serialize(X.urlAfterRedirects),P,G).pipe((0,ge.U)(oe=>({...X,targetSnapshot:oe}))))}(this.environmentInjector,this.rootComponentType,w.config,this.urlSerializer,w.paramsInheritanceStrategy),(0,rn.b)(Sn=>{if(P.targetSnapshot=Sn.targetSnapshot,"eager"===w.urlUpdateStrategy){if(!Sn.extras.skipLocationChange){const as=w.urlHandlingStrategy.merge(Sn.urlAfterRedirects,Sn.rawUrl);w.setBrowserUrl(as,Sn)}w.browserUrlTree=Sn.urlAfterRedirects}const Lr=new xs(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Lr)}));if(Ut&&w.urlHandlingStrategy.shouldProcessUrl(w.rawUrlTree)){const{id:Sn,extractedUrl:Lr,source:as,restoredState:Zi,extras:ca}=oe,fs=new fo(Sn,this.urlSerializer.serialize(Lr),as,Zi);this.events.next(fs);const Po=ro(Lr,this.rootComponentType).snapshot;return P={...oe,targetSnapshot:Po,urlAfterRedirects:Lr,extras:{...ca,skipLocationChange:!1,replaceUrl:!1}},(0,I.of)(P)}{const Sn="";return this.events.next(new to(oe.id,w.serializeUrl(P.extractedUrl),Sn,1)),w.rawUrlTree=oe.rawUrl,oe.resolve(null),ft.E}}),(0,rn.b)(oe=>{const $e=new Ji(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next($e)}),(0,ge.U)(oe=>P={...oe,guards:Ho(oe.targetSnapshot,oe.currentSnapshot,this.rootContexts)}),function En(T,N){return(0,at.z)(w=>{const{targetSnapshot:P,currentSnapshot:G,guards:{canActivateChecks:X,canDeactivateChecks:oe}}=w;return 0===oe.length&&0===X.length?(0,I.of)({...w,guardsResult:!0}):function qr(T,N,w,P){return(0,te.D)(T).pipe((0,at.z)(G=>function Pa(T,N,w,P,G){const X=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,I.of)(!0);const oe=X.map($e=>{const Ut=ao(N)??G,Wt=bs($e,Ut);return dt(function ya(T){return T&&uo(T.canDeactivate)}(Wt)?Wt.canDeactivate(T,N,w,P):Ut.runInContext(()=>Wt(T,N,w,P))).pipe((0,pt.P)())});return(0,I.of)(oe).pipe(rt())}(G.component,G.route,w,N,P)),(0,pt.P)(G=>!0!==G,!0))}(oe,P,G,T).pipe((0,at.z)($e=>$e&&function Mo(T){return"boolean"==typeof T}($e)?function ii(T,N,w,P){return(0,te.D)(N).pipe(Vt(G=>(0,je.z)(function Us(T,N){return null!==T&&N&&N(new _s(T)),(0,I.of)(!0)}(G.route.parent,P),function Bs(T,N){return null!==T&&N&&N(new Fe(T)),(0,I.of)(!0)}(G.route,P),function Vs(T,N,w){const P=N[N.length-1],X=N.slice(0,N.length-1).reverse().map(oe=>function ra(T){const N=T.routeConfig?T.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:T,guards:N}:null}(oe)).filter(oe=>null!==oe).map(oe=>ye(()=>{const $e=oe.guards.map(Ut=>{const Wt=ao(oe.node)??w,Sn=bs(Ut,Wt);return dt(function _a(T){return T&&uo(T.canActivateChild)}(Sn)?Sn.canActivateChild(P,T):Wt.runInContext(()=>Sn(P,T))).pipe((0,pt.P)())});return(0,I.of)($e).pipe(rt())}));return(0,I.of)(X).pipe(rt())}(T,G.path,w),function va(T,N,w){const P=N.routeConfig?N.routeConfig.canActivate:null;if(!P||0===P.length)return(0,I.of)(!0);const G=P.map(X=>ye(()=>{const oe=ao(N)??w,$e=bs(X,oe);return dt(function jo(T){return T&&uo(T.canActivate)}($e)?$e.canActivate(N,T):oe.runInContext(()=>$e(N,T))).pipe((0,pt.P)())}));return(0,I.of)(G).pipe(rt())}(T,G.route,w))),(0,pt.P)(G=>!0!==G,!0))}(P,X,T,N):(0,I.of)($e)),(0,ge.U)($e=>({...w,guardsResult:$e})))})}(this.environmentInjector,oe=>this.events.next(oe)),(0,rn.b)(oe=>{if(P.guardsResult=oe.guardsResult,sn(oe.guardsResult))throw Li(0,oe.guardsResult);const $e=new gi(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot,!!oe.guardsResult);this.events.next($e)}),(0,ae.h)(oe=>!!oe.guardsResult||(w.restoreHistory(oe),this.cancelNavigationTransition(oe,"",3),!1)),Cr(oe=>{if(oe.guards.canActivateChecks.length)return(0,I.of)(oe).pipe((0,rn.b)($e=>{const Ut=new Is($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Ut)}),(0,We.w)($e=>{let Ut=!1;return(0,I.of)($e).pipe(function Et(T,N){return(0,at.z)(w=>{const{targetSnapshot:P,guards:{canActivateChecks:G}}=w;if(!G.length)return(0,I.of)(w);let X=0;return(0,te.D)(G).pipe(Vt(oe=>function Dn(T,N,w,P){const G=T.routeConfig,X=T._resolve;return void 0!==G?.title&&!gn(G)&&(X[Jt]=G.title),function Sr(T,N,w,P){const G=function Tr(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===G.length)return(0,I.of)({});const X={};return(0,te.D)(G).pipe((0,at.z)(oe=>function mt(T,N,w,P){const G=ao(N)??P,X=bs(T,G);return dt(X.resolve?X.resolve(N,w):G.runInContext(()=>X(N,w)))}(T[oe],N,w,P).pipe((0,pt.P)(),(0,rn.b)($e=>{X[oe]=$e}))),bt(1),(0,Ue.h)(X),Kt(oe=>F(oe)?ft.E:Pt(oe)))}(X,T,N,P).pipe((0,ge.U)(oe=>(T._resolvedData=oe,T.data=Gs(T,w).resolve,G&&gn(G)&&(T.data[Jt]=G.title),null)))}(oe.route,P,T,N)),(0,rn.b)(()=>X++),bt(1),(0,at.z)(oe=>X===G.length?(0,I.of)(w):ft.E))})}(w.paramsInheritanceStrategy,this.environmentInjector),(0,rn.b)({next:()=>Ut=!0,complete:()=>{Ut||(w.restoreHistory($e),this.cancelNavigationTransition($e,"",2))}}))}),(0,rn.b)($e=>{const Ut=new po($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Ut)}))}),Cr(oe=>{const $e=Ut=>{const Wt=[];Ut.routeConfig?.loadComponent&&!Ut.routeConfig._loadedComponent&&Wt.push(this.configLoader.loadComponent(Ut.routeConfig).pipe((0,rn.b)(Sn=>{Ut.component=Sn}),(0,ge.U)(()=>{})));for(const Sn of Ut.children)Wt.push(...$e(Sn));return Wt};return(0,De.a)($e(oe.targetSnapshot.root)).pipe((0,Ct.d)(),(0,yt.q)(1))}),Cr(()=>this.afterPreactivation()),(0,ge.U)(oe=>{const $e=function Co(T,N,w){const P=ds(T,N._root,w?w._root:void 0);return new Ui(P,N)}(w.routeReuseStrategy,oe.targetSnapshot,oe.currentRouterState);return P={...oe,targetRouterState:$e}}),(0,rn.b)(oe=>{w.currentUrlTree=oe.urlAfterRedirects,w.rawUrlTree=w.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),w.routerState=oe.targetRouterState,"deferred"===w.urlUpdateStrategy&&(oe.extras.skipLocationChange||w.setBrowserUrl(w.rawUrlTree,oe),w.browserUrlTree=oe.urlAfterRedirects)}),((T,N,w)=>(0,ge.U)(P=>(new lo(N,P.targetRouterState,P.currentRouterState,w).activate(T),P)))(this.rootContexts,w.routeReuseStrategy,oe=>this.events.next(oe)),(0,rn.b)({next:oe=>{G=!0,this.lastSuccessfulNavigation=this.currentNavigation,w.navigated=!0,this.events.next(new ji(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(w.currentUrlTree))),w.titleStrategy?.updateTitle(oe.targetRouterState.snapshot),oe.resolve(!0)},complete:()=>{G=!0}}),Mt(()=>{G||X||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),Kt(oe=>{if(X=!0,Vo(oe)){ta(oe)||(w.navigated=!0,w.restoreHistory(P,!0));const $e=new cr(P.id,this.urlSerializer.serialize(P.extractedUrl),oe.message,oe.cancellationCode);if(this.events.next($e),ta(oe)){const Ut=w.urlHandlingStrategy.merge(oe.url,w.rawUrlTree),Wt={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===w.urlUpdateStrategy||W(P.source)};w.scheduleNavigation(Ut,Ni,null,Wt,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{w.restoreHistory(P,!0);const $e=new Gi(P.id,this.urlSerializer.serialize(P.extractedUrl),oe,P.targetSnapshot??void 0);this.events.next($e);try{P.resolve(w.errorHandler(oe))}catch(Ut){P.reject(Ut)}}return ft.E}))}))}cancelNavigationTransition(w,P,G){const X=new cr(w.id,this.urlSerializer.serialize(w.extractedUrl),P,G);this.events.next(X),w.resolve(!1)}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function W(T){return T!==Ni}let E=(()=>{class T{buildTitle(w){let P,G=w.root;for(;void 0!==G;)P=this.getResolvedTitleForRoute(G)??P,G=G.children.find(X=>X.outlet===Ke);return P}getResolvedTitleForRoute(w){return w.data[Jt]}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(m)},providedIn:"root"}),T})(),m=(()=>{class T extends E{constructor(w){super(),this.title=w}updateTitle(w){const P=this.buildTitle(w);void 0!==P&&this.title.setTitle(P)}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Ce.Dx))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),C=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(J)},providedIn:"root"}),T})();class ${shouldDetach(N){return!1}store(N,w){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,w){return N.routeConfig===w.routeConfig}}let J=(()=>{class T extends ${}return T.\u0275fac=function(){let N;return function(P){return(N||(N=a.n5z(T)))(P||T)}}(),T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const Se=new a.OlP("",{providedIn:"root",factory:()=>({})});let de=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:function(){return(0,a.f3M)(Qe)},providedIn:"root"}),T})(),Qe=(()=>{class T{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,P){return w}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ot(T){throw T}function Gn(T,N,w){return N.parse("/")}const On={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bt=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(Se,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ot,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Gn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(de),this.routeReuseStrategy=(0,a.f3M)(C),this.urlCreationStrategy=(0,a.f3M)(jr),this.titleStrategy=(0,a.f3M)(E),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ir((0,a.f3M)(_n,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(Wr),this.urlSerializer=(0,a.f3M)(fi),this.location=(0,a.f3M)(Ye.Ye),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ro(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(w=>{this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const w=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ni,w)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const P="popstate"===w.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(w.url,P,w.state)},0)}))}navigateToSyncWithBrowser(w,P,G){const X={replaceUrl:!0},oe=G?.navigationId?G:null;if(G){const Ut={...G};delete Ut.navigationId,delete Ut.\u0275routerPageId,0!==Object.keys(Ut).length&&(X.state=Ut)}const $e=this.parseUrl(w);this.scheduleNavigation($e,P,oe,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(w){this.config=w.map(ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,P={}){const{relativeTo:G,queryParams:X,fragment:oe,queryParamsHandling:$e,preserveFragment:Ut}=P,Wt=Ut?this.currentUrlTree.fragment:oe;let Sn=null;switch($e){case"merge":Sn={...this.currentUrlTree.queryParams,...X};break;case"preserve":Sn=this.currentUrlTree.queryParams;break;default:Sn=X||null}return null!==Sn&&(Sn=this.removeEmptyProps(Sn)),this.urlCreationStrategy.createUrlTree(G,this.routerState,this.currentUrlTree,w,Sn,Wt??null)}navigateByUrl(w,P={skipLocationChange:!1}){const G=sn(w)?w:this.parseUrl(w),X=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(X,Ni,null,P)}navigate(w,P={skipLocationChange:!1}){return function br(T){for(let N=0;N<T.length;N++){if(null==T[N])throw new a.vHH(4008,!1)}}(w),this.navigateByUrl(this.createUrlTree(w,P),P)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let P;try{P=this.urlSerializer.parse(w)}catch(G){P=this.malformedUriErrorHandler(G,this.urlSerializer,w)}return P}isActive(w,P){let G;if(G=!0===P?{...On}:!1===P?{...tn}:P,sn(w))return jn(this.currentUrlTree,w,G);const X=this.parseUrl(w);return jn(this.currentUrlTree,X,G)}removeEmptyProps(w){return Object.keys(w).reduce((P,G)=>{const X=w[G];return null!=X&&(P[G]=X),P},{})}scheduleNavigation(w,P,G,X,oe){if(this.disposed)return Promise.resolve(!1);let $e,Ut,Wt,Sn;return oe?($e=oe.resolve,Ut=oe.reject,Wt=oe.promise):Wt=new Promise((Lr,as)=>{$e=Lr,Ut=as}),Sn="computed"===this.canceledNavigationResolution?G&&G.\u0275routerPageId?G.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Sn,source:P,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:X,resolve:$e,reject:Ut,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Lr=>Promise.reject(Lr))}setBrowserUrl(w,P){const G=this.urlSerializer.serialize(w),X={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.isCurrentPathEqualTo(G)||P.extras.replaceUrl?this.location.replaceState(G,"",X):this.location.go(G,"",X)}restoreHistory(w,P=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===G?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===G&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(G)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,P){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:P}:{navigationId:w}}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Cn=(()=>{class T{constructor(w,P,G,X,oe,$e){this.router=w,this.route=P,this.tabIndexAttribute=G,this.renderer=X,this.el=oe,this.locationStrategy=$e,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ft.x;const Ut=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ut||"area"===Ut,this.isAnchorElement?this.subscription=w.events.subscribe(Wt=>{Wt instanceof ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(w){this._preserveFragment=(0,a.D6c)(w)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(w){this._skipLocationChange=(0,a.D6c)(w)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(w){this._replaceUrl=(0,a.D6c)(w)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,P,G,X,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||P||G||X||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const w=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",w)}applyAttributeValue(w,P){const G=this.renderer,X=this.el.nativeElement;null!==P?G.setAttribute(X,w,P):G.removeAttribute(X,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return T.\u0275fac=function(w){return new(w||T)(a.Y36(Bt),a.Y36(io),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ye.S$))},T.\u0275dir=a.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,P){1&w&&a.NdJ("click",function(X){return P.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&w&&a.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),T})();class Rt{}let mi=(()=>{class T{constructor(w,P,G,X,oe){this.router=w,this.injector=G,this.preloadingStrategy=X,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.h)(w=>w instanceof ji),Vt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,P){const G=[];for(const X of P){X.providers&&!X._injector&&(X._injector=(0,a.MMx)(X.providers,w,`Route: ${X.path}`));const oe=X._injector??w,$e=X._loadedInjector??oe;X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent?G.push(this.preloadConfig(oe,X)):(X.children||X._loadedRoutes)&&G.push(this.processRoutes($e,X.children??X._loadedRoutes))}return(0,te.D)(G).pipe((0,Te.J)())}preloadConfig(w,P){return this.preloadingStrategy.preload(P,()=>{let G;G=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(w,P):(0,I.of)(null);const X=G.pipe((0,at.z)(oe=>null===oe?(0,I.of)(void 0):(P._loadedRoutes=oe.routes,P._loadedInjector=oe.injector,this.processRoutes(oe.injector??w,oe.routes))));if(P.loadComponent&&!P._loadedComponent){const oe=this.loader.loadComponent(P);return(0,te.D)([X,oe]).pipe((0,Te.J)())}return X})}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Bt),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Rt),a.LFG(li))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();const ws=new a.OlP("");let Xr=(()=>{class T{constructor(w,P,G,X,oe={}){this.urlSerializer=w,this.transitions=P,this.viewportScroller=G,this.zone=X,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof ji&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Lt&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lt(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return T.\u0275fac=function(w){a.$Z()},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})();function $s(T,N){return{\u0275kind:T,\u0275providers:N}}function Wn(){const T=(0,a.f3M)(a.zs3);return N=>{const w=T.get(a.z2F);if(N!==w.components[0])return;const P=T.get(Bt),G=T.get(_r);1===T.get(tt)&&P.initialNavigation(),T.get(pr,null,a.XFs.Optional)?.setUpPreloading(),T.get(ws,null,a.XFs.Optional)?.init(),P.resetRootComponentType(w.componentTypes[0]),G.closed||(G.next(),G.unsubscribe())}}const _r=new a.OlP("",{factory:()=>new Ft.x}),tt=new a.OlP("",{providedIn:"root",factory:()=>1});const pr=new a.OlP("");function Rr(T){return $s(0,[{provide:pr,useExisting:mi},{provide:Rt,useExisting:T}])}const Ba=new a.OlP("ROUTER_FORROOT_GUARD"),hl=[Ye.Ye,{provide:fi,useClass:er},Bt,dr,{provide:io,useFactory:function vo(T){return T.routerState.root},deps:[Bt]},li,[]];function Ro(){return new a.PXZ("Router",Bt)}let nu=(()=>{class T{constructor(w){}static forRoot(w,P){return{ngModule:T,providers:[hl,[],{provide:_n,multi:!0,useValue:w},{provide:Ba,useFactory:bl,deps:[[Bt,new a.FiY,new a.tp0]]},{provide:Se,useValue:P||{}},P?.useHash?{provide:Ye.S$,useClass:Ye.Do}:{provide:Ye.S$,useClass:Ye.b0},{provide:ws,useFactory:()=>{const T=(0,a.f3M)(Ye.EM),N=(0,a.f3M)(a.R0b),w=(0,a.f3M)(Se),P=(0,a.f3M)(Wr),G=(0,a.f3M)(fi);return w.scrollOffset&&T.setOffset(w.scrollOffset),new Xr(G,P,T,N,w)}},P?.preloadingStrategy?Rr(P.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Ro},P?.initialNavigation?Ua(P):[],[{provide:Ea,useFactory:Wn},{provide:a.tb,multi:!0,useExisting:Ea}]]}}static forChild(w){return{ngModule:T,providers:[{provide:_n,multi:!0,useValue:w}]}}}return T.\u0275fac=function(w){return new(w||T)(a.LFG(Ba,8))},T.\u0275mod=a.oAB({type:T}),T.\u0275inj=a.cJS({imports:[so]}),T})();function bl(T){return"guarded"}function Ua(T){return["disabled"===T.initialNavigation?$s(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const N=(0,a.f3M)(Bt);return()=>{N.setUpLocationChangeListener()}}},{provide:tt,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?$s(2,[{provide:tt,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:N=>{const w=N.get(Ye.V_,Promise.resolve());return()=>w.then(()=>new Promise(G=>{const X=N.get(Bt),oe=N.get(_r);(function P(G){N.get(Bt).events.pipe((0,ae.h)(oe=>oe instanceof ji||oe instanceof cr||oe instanceof Gi),(0,ge.U)(oe=>oe instanceof ji||oe instanceof cr&&(0===oe.code||1===oe.code)&&null),(0,ae.h)(oe=>null!==oe),(0,yt.q)(1)).subscribe(()=>{G()})})(()=>{G(!0)}),N.get(Wr).afterPreactivation=()=>(G(!0),oe.closed?(0,I.of)(void 0):oe),X.initialNavigation()}))}}]).\u0275providers:[]]}const Ea=new a.OlP("")},3942:(un,et,j)=>{j.d(et,{Z:()=>St});var a=j(2090),te=j(4859),I=j(9681),pe=j(1877);class we{constructor(nt,At){this._delegate=nt,this.firebase=At,(0,I._addComponent)(nt,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,I.deleteApp)(this._delegate)))}_getService(nt,At=I._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Ft=this._delegate.container.getProvider(nt);return!Ft.isInitialized()&&"EXPLICIT"===(null===(ve=Ft.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Ft.initialize(),Ft.getImmediate({identifier:At})}_removeServiceInstance(nt,At=I._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(At)}_addComponent(nt){(0,I._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,I._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function Ge(){const qt=function Oe(qt){const nt={},At={__esModule:!0,initializeApp:function Ye(Tt,ae={}){const at=I.initializeApp(Tt,ae);if((0,a.r3)(nt,at.name))return nt[at.name];const pt=new qt(at,At);return nt[at.name]=pt,pt},app:Ft,registerVersion:I.registerVersion,setLogLevel:I.setLogLevel,onLog:I.onLog,apps:null,SDK_VERSION:I.SDK_VERSION,INTERNAL:{registerComponent:function We(Tt){const ae=Tt.name,at=ae.replace("-compat","");if(I._registerComponent(Tt)&&"PUBLIC"===Tt.type){const pt=(Vt=Ft())=>{if("function"!=typeof Vt[at])throw je.create("invalid-app-argument",{appName:ae});return Vt[at]()};void 0!==Tt.serviceProps&&(0,a.ZB)(pt,Tt.serviceProps),At[at]=pt,qt.prototype[at]=function(...Vt){return this._getService.bind(this,ae).apply(this,Tt.multipleInstances?Vt:[])}}return"PUBLIC"===Tt.type?At[at]:null},removeApp:function ve(Tt){delete nt[Tt]},useAsService:function yt(Tt,ae){return"serverAuth"===ae?null:ae},modularAPIs:I}};function Ft(Tt){if(!(0,a.r3)(nt,Tt=Tt||I._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:Tt});return nt[Tt]}return At.default=At,Object.defineProperty(At,"apps",{get:function ge(){return Object.keys(nt).map(Tt=>nt[Tt])}}),Ft.App=qt,At}(we);return qt.INTERNAL=Object.assign(Object.assign({},qt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function nt(At){(0,a.ZB)(qt,At)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),qt}(),he=new pe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qt=self.firebase.SDK_VERSION;qt&&qt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const St=ye;!function ft(qt){(0,I.registerVersion)("@firebase/app-compat","0.2.3",qt)}()},9681:(un,et,j)=>{j.r(et),j.d(et,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>$n,_DEFAULT_ENTRY_NAME:()=>kt,_addComponent:()=>Mt,_addOrOverwriteComponent:()=>Te,_apps:()=>Yt,_clearComponents:()=>wn,_components:()=>Ue,_getProvider:()=>Ke,_registerComponent:()=>Ce,_removeServiceInstance:()=>Jt,deleteApp:()=>He,getApp:()=>ir,getApps:()=>Ve,initializeApp:()=>Xn,onLog:()=>ot,registerVersion:()=>dt,setLogLevel:()=>ln});var a=j(5861),te=j(4859),I=j(1877),pe=j(2090),we=j(8766);class De{constructor(Nt){this.container=Nt}getPlatformInfoString(){return this.container.getProviders().map(cn=>{if(function je(Xt){return"VERSION"===Xt.getComponent()?.type}(cn)){const Un=cn.getImmediate();return`${Un.library}/${Un.version}`}return null}).filter(cn=>cn).join(" ")}}const Oe="@firebase/app",ye=new I.Yd("@firebase/app"),kt="[DEFAULT]",It={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Ue=new Map;function Mt(Xt,Nt){try{Xt.container.addComponent(Nt)}catch(cn){ye.debug(`Component ${Nt.name} failed to register with FirebaseApp ${Xt.name}`,cn)}}function Te(Xt,Nt){Xt.container.addOrOverwriteComponent(Nt)}function Ce(Xt){const Nt=Xt.name;if(Ue.has(Nt))return ye.debug(`There were multiple attempts to register component ${Nt}.`),!1;Ue.set(Nt,Xt);for(const cn of Yt.values())Mt(cn,Xt);return!0}function Ke(Xt,Nt){const cn=Xt.container.getProvider("heartbeat").getImmediate({optional:!0});return cn&&cn.triggerHeartbeat(),Xt.container.getProvider(Nt)}function Jt(Xt,Nt,cn=kt){Ke(Xt,Nt).clearInstance(cn)}function wn(){Ue.clear()}const fr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wr{constructor(Nt,cn,Un){this._isDeleted=!1,this._options=Object.assign({},Nt),this._config=Object.assign({},cn),this._name=cn.name,this._automaticDataCollectionEnabled=cn.automaticDataCollectionEnabled,this._container=Un,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Nt){this._isDeleted=Nt}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const $n="9.17.1";function Xn(Xt,Nt={}){let cn=Xt;"object"!=typeof Nt&&(Nt={name:Nt});const Un=Object.assign({name:kt,automaticDataCollectionEnabled:!1},Nt),Rn=Un.name;if("string"!=typeof Rn||!Rn)throw fr.create("bad-app-name",{appName:String(Rn)});if(cn||(cn=(0,pe.aH)()),!cn)throw fr.create("no-options");const Fn=Yt.get(Rn);if(Fn){if((0,pe.vZ)(cn,Fn.options)&&(0,pe.vZ)(Un,Fn.config))return Fn;throw fr.create("duplicate-app",{appName:Rn})}const Ie=new te.H0(Rn);for(const ke of Ue.values())Ie.addComponent(ke);const _e=new wr(cn,Un,Ie);return Yt.set(Rn,_e),_e}function ir(Xt=kt){const Nt=Yt.get(Xt);if(!Nt&&Xt===kt)return Xn();if(!Nt)throw fr.create("no-app",{appName:Xt});return Nt}function Ve(){return Array.from(Yt.values())}function He(Xt){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(Xt){const Nt=Xt.name;Yt.has(Nt)&&(Yt.delete(Nt),yield Promise.all(Xt.container.getProviders().map(cn=>cn.delete())),Xt.isDeleted=!0)})).apply(this,arguments)}function dt(Xt,Nt,cn){var Un;let Rn=null!==(Un=It[Xt])&&void 0!==Un?Un:Xt;cn&&(Rn+=`-${cn}`);const Fn=Rn.match(/\s|\//),Ie=Nt.match(/\s|\//);if(Fn||Ie){const _e=[`Unable to register library "${Rn}" with version "${Nt}":`];return Fn&&_e.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),Fn&&Ie&&_e.push("and"),Ie&&_e.push(`version name "${Nt}" contains illegal characters (whitespace or "/")`),void ye.warn(_e.join(" "))}Ce(new te.wA(`${Rn}-version`,()=>({library:Rn,version:Nt}),"VERSION"))}function ot(Xt,Nt){if(null!==Xt&&"function"!=typeof Xt)throw fr.create("invalid-log-argument");(0,I.Am)(Xt,Nt)}function ln(Xt){(0,I.Ub)(Xt)}const sr="firebase-heartbeat-store";let Pr=null;function kn(){return Pr||(Pr=(0,we.X3)("firebase-heartbeat-database",1,{upgrade:(Xt,Nt)=>{0===Nt&&Xt.createObjectStore(sr)}}).catch(Xt=>{throw fr.create("idb-open",{originalErrorMessage:Xt.message})})),Pr}function An(){return(An=(0,a.Z)(function*(Xt){try{return(yield kn()).transaction(sr).objectStore(sr).get(bn(Xt))}catch(Nt){if(Nt instanceof pe.ZR)ye.warn(Nt.message);else{const cn=fr.create("idb-get",{originalErrorMessage:Nt?.message});ye.warn(cn.message)}}})).apply(this,arguments)}function Ai(Xt,Nt){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(Xt,Nt){try{const Un=(yield kn()).transaction(sr,"readwrite");return yield Un.objectStore(sr).put(Nt,bn(Xt)),Un.done}catch(cn){if(cn instanceof pe.ZR)ye.warn(cn.message);else{const Un=fr.create("idb-set",{originalErrorMessage:cn?.message});ye.warn(Un.message)}}})).apply(this,arguments)}function bn(Xt){return`${Xt.name}!${Xt.options.appId}`}class ki{constructor(Nt){this.container=Nt,this._heartbeatsCache=null;const cn=this.container.getProvider("app").getImmediate();this._storage=new er(cn),this._heartbeatsCachePromise=this._storage.read().then(Un=>(this._heartbeatsCache=Un,Un))}triggerHeartbeat(){var Nt=this;return(0,a.Z)(function*(){const Un=Nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=Nr();if(null===Nt._heartbeatsCache&&(Nt._heartbeatsCache=yield Nt._heartbeatsCachePromise),Nt._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!Nt._heartbeatsCache.heartbeats.some(Fn=>Fn.date===Rn))return Nt._heartbeatsCache.heartbeats.push({date:Rn,agent:Un}),Nt._heartbeatsCache.heartbeats=Nt._heartbeatsCache.heartbeats.filter(Fn=>{const Ie=new Date(Fn.date).valueOf();return Date.now()-Ie<=2592e6}),Nt._storage.overwrite(Nt._heartbeatsCache)})()}getHeartbeatsHeader(){var Nt=this;return(0,a.Z)(function*(){if(null===Nt._heartbeatsCache&&(yield Nt._heartbeatsCachePromise),null===Nt._heartbeatsCache||0===Nt._heartbeatsCache.heartbeats.length)return"";const cn=Nr(),{heartbeatsToSend:Un,unsentEntries:Rn}=function fi(Xt,Nt=1024){const cn=[];let Un=Xt.slice();for(const Rn of Xt){const Fn=cn.find(Ie=>Ie.agent===Rn.agent);if(Fn){if(Fn.dates.push(Rn.date),Qr(cn)>Nt){Fn.dates.pop();break}}else if(cn.push({agent:Rn.agent,dates:[Rn.date]}),Qr(cn)>Nt){cn.pop();break}Un=Un.slice(1)}return{heartbeatsToSend:cn,unsentEntries:Un}}(Nt._heartbeatsCache.heartbeats),Fn=(0,pe.L)(JSON.stringify({version:2,heartbeats:Un}));return Nt._heartbeatsCache.lastSentHeartbeatDate=cn,Rn.length>0?(Nt._heartbeatsCache.heartbeats=Rn,yield Nt._storage.overwrite(Nt._heartbeatsCache)):(Nt._heartbeatsCache.heartbeats=[],Nt._storage.overwrite(Nt._heartbeatsCache)),Fn})()}}function Nr(){return(new Date).toISOString().substring(0,10)}class er{constructor(Nt){this.app=Nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Nt=this;return(0,a.Z)(function*(){return(yield Nt._canUseIndexedDBPromise)&&(yield function Tn(Xt){return An.apply(this,arguments)}(Nt.app))||{heartbeats:[]}})()}overwrite(Nt){var cn=this;return(0,a.Z)(function*(){var Un;if(yield cn._canUseIndexedDBPromise){const Fn=yield cn.read();return Ai(cn.app,{lastSentHeartbeatDate:null!==(Un=Nt.lastSentHeartbeatDate)&&void 0!==Un?Un:Fn.lastSentHeartbeatDate,heartbeats:Nt.heartbeats})}})()}add(Nt){var cn=this;return(0,a.Z)(function*(){var Un;if(yield cn._canUseIndexedDBPromise){const Fn=yield cn.read();return Ai(cn.app,{lastSentHeartbeatDate:null!==(Un=Nt.lastSentHeartbeatDate)&&void 0!==Un?Un:Fn.lastSentHeartbeatDate,heartbeats:[...Fn.heartbeats,...Nt.heartbeats]})}})()}}function Qr(Xt){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Xt})).length}!function zr(Xt){Ce(new te.wA("platform-logger",Nt=>new De(Nt),"PRIVATE")),Ce(new te.wA("heartbeat",Nt=>new ki(Nt),"PRIVATE")),dt(Oe,"0.9.3",Xt),dt(Oe,"0.9.3","esm2017"),dt("fire-js","")}("")},4859:(un,et,j)=>{j.d(et,{H0:()=>Oe,wA:()=>I});var a=j(5861),te=j(2090);class I{constructor(ye,he,Me){this.name=ye,this.instanceFactory=he,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const pe="[DEFAULT]";class we{constructor(ye,he){this.name=ye,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const he=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(he)){const Me=new te.BH;if(this.instancesDeferred.set(he,Me),this.isInitialized(he)||this.shouldAutoInitialize())try{const Pt=this.getOrInitializeService({instanceIdentifier:he});Pt&&Me.resolve(Pt)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(ye){var he;const Me=this.normalizeInstanceIdentifier(ye?.identifier),Pt=null!==(he=ye?.optional)&&void 0!==he&&he;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(ft){if(Pt)return null;throw ft}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function je(Ge){return"EAGER"===Ge.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[he,Me]of this.instancesDeferred.entries()){const Pt=this.normalizeInstanceIdentifier(he);try{const ft=this.getOrInitializeService({instanceIdentifier:Pt});Me.resolve(ft)}catch{}}}}clearInstance(ye=pe){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,a.Z)(function*(){const he=Array.from(ye.instances.values());yield Promise.all([...he.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...he.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=pe){return this.instances.has(ye)}getOptions(ye=pe){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:he={}}=ye,Me=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pt=this.getOrInitializeService({instanceIdentifier:Me,options:he});for(const[ft,St]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(ft)&&St.resolve(Pt);return Pt}onInit(ye,he){var Me;const Pt=this.normalizeInstanceIdentifier(he),ft=null!==(Me=this.onInitCallbacks.get(Pt))&&void 0!==Me?Me:new Set;ft.add(ye),this.onInitCallbacks.set(Pt,ft);const St=this.instances.get(Pt);return St&&ye(St,Pt),()=>{ft.delete(ye)}}invokeOnInitCallbacks(ye,he){const Me=this.onInitCallbacks.get(he);if(Me)for(const Pt of Me)try{Pt(ye,he)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:he={}}){let Me=this.instances.get(ye);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=ye,Ge===pe?void 0:Ge),options:he}),this.instances.set(ye,Me),this.instancesOptions.set(ye,he),this.invokeOnInitCallbacks(Me,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Me)}catch{}var Ge;return Me||null}normalizeInstanceIdentifier(ye=pe){return this.component?this.component.multipleInstances?ye:pe:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const he=this.getProvider(ye.name);if(he.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);he.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const he=new we(ye,this);return this.providers.set(ye,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(un,et,j)=>{j.d(et,{Am:()=>Ge,Ub:()=>Oe,Yd:()=>je,in:()=>te});const a=[];var te=(()=>{return(ye=te||(te={}))[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",te;var ye})();const I={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pe=te.INFO,we={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},De=(ye,he,...Me)=>{if(he<ye.logLevel)return;const Pt=(new Date).toISOString(),ft=we[he];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ft](`[${Pt}]  ${ye.name}:`,...Me)};class je{constructor(he){this.name=he,this._logLevel=pe,this._logHandler=De,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in te))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?I[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...he),this._logHandler(this,te.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...he),this._logHandler(this,te.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,te.INFO,...he),this._logHandler(this,te.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,te.WARN,...he),this._logHandler(this,te.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...he),this._logHandler(this,te.ERROR,...he)}}function Oe(ye){a.forEach(he=>{he.setLogLevel(ye)})}function Ge(ye,he){for(const Me of a){let Pt=null;he&&he.level&&(Pt=I[he.level]),Me.userLogHandler=null===ye?null:(ft,St,...qt)=>{const nt=qt.map(At=>{if(null==At)return null;if("string"==typeof At)return At;if("number"==typeof At||"boolean"==typeof At)return At.toString();if(At instanceof Error)return At.message;try{return JSON.stringify(At)}catch{return null}}).filter(At=>At).join(" ");St>=(Pt??ft.logLevel)&&ye({level:te[St].toLowerCase(),message:nt,args:qt,type:ft.name})}}}},9061:(un,et,j)=>{j.d(et,{_D:()=>Ii,FF:()=>zl,IJ:()=>Zd,M2:()=>ou});var a=j(4650),te=j(9751),I=j(515),pe=j(9646),we=j(7579),De=j(4968),je=j(5963),Oe=j(8421);const{isArray:Ge}=Array;function ye(d){return 1===d.length&&Ge(d[0])?d[0]:d}var he=j(5403);var ft=j(1135),St=j(9841),qt=j(5032);const nt=new te.y(qt.Z);var ve=j(3269);function Ft(...d){const v=(0,ve.jO)(d),l=ye(d);return l.length?new te.y(g=>{let M=l.map(()=>[]),H=l.map(()=>!1);g.add(()=>{M=H=null});for(let ce=0;!g.closed&&ce<l.length;ce++)(0,Oe.Xf)(l[ce]).subscribe((0,he.x)(g,Re=>{if(M[ce].push(Re),M.every(Be=>Be.length)){const Be=M.map(ut=>ut.shift());g.next(v?v(...Be):Be),M.some((ut,wt)=>!ut.length&&H[wt])&&g.complete()}},()=>{H[ce]=!0,!M[ce].length&&g.complete()}));return()=>{M=H=null}}):I.E}var Ye=j(6451),ge=j(7272),yt=j(2722),Tt=j(9300),ae=j(5698),at=j(4004),pt=j(8675),Vt=j(1884),rn=j(3900),Kt=j(8505),ct=j(4482),bt=j(4671);function st(...d){const v=(0,ve.jO)(d);return(0,ct.e)((l,g)=>{const M=d.length,H=new Array(M);let ce=d.map(()=>!1),Re=!1;for(let Be=0;Be<M;Be++)(0,Oe.Xf)(d[Be]).subscribe((0,he.x)(g,ut=>{H[Be]=ut,!Re&&!ce[Be]&&(ce[Be]=!0,(Re=ce.every(bt.y))&&(ce=null))},qt.Z));l.subscribe((0,he.x)(g,Be=>{if(Re){const ut=[Be,...H];g.next(v?v(...ut):ut)}}))})}j(4986),j(9718),j(5577);var Ce=j(6895),Ke=j(433);function Xo(d,v){}function mo(d,v){if(1&d&&(a.TgZ(0,"button",3),a._uU(1),a.YNc(2,Xo,0,0,"ng-template",4),a.qZA()),2&d){const l=v.$implicit;a.Q6J("ngbPanelToggle",l),a.xp6(1),a.hij(" ",l.title," "),a.xp6(1),a.Q6J("ngTemplateOutlet",null==l.titleTpl?null:l.titleTpl.templateRef)}}function _o(d,v){}function Fs(d,v){}function Co(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"div",8),a.NdJ("ngbRef",function(M){a.CHM(l);const H=a.oxw().$implicit;return a.KtG(H.panelDiv=M)}),a.TgZ(1,"div",9),a.YNc(2,Fs,0,0,"ng-template",4),a.qZA()()}if(2&d){const l=a.oxw().$implicit;a.s9C("id",l.id),a.uIk("aria-labelledby",l.id+"-header"),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==l.contentTpl?null:l.contentTpl.templateRef)||null)}}Math,Math,Math;const ds=function(d,v){return{$implicit:d,opened:v}};function Ga(d,v){if(1&d&&(a.TgZ(0,"div")(1,"div",5),a.YNc(2,_o,0,0,"ng-template",6),a.qZA(),a.YNc(3,Co,3,3,"div",7),a.qZA()),2&d){const l=v.$implicit,g=a.oxw(),M=a.MAs(1);a.Tol("accordion-item "+(l.cardClass||"")),a.xp6(1),a.Tol("accordion-header "+(l.type?"bg-"+l.type:g.type?"bg-"+g.type:"")),a.MGl("id","",l.id,"-header"),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==l.headerTpl?null:l.headerTpl.templateRef)||M)("ngTemplateOutletContext",a.WLB(8,ds,l,l.isOpen)),a.xp6(1),a.Q6J("ngIf",!g.destroyOnHide||l.isOpen||l.transitionRunning)}}function ea(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.close())}),a.qZA()}}const yo=["*"];function Li(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const H=a.CHM(l).$implicit,ce=a.oxw();return ce.focus(),a.KtG(ce.select(H.id,ce.NgbSlideEventSource.INDICATOR))}),a.qZA()}if(2&d){const l=v.$implicit,g=a.oxw();a.ekj("active",l.id===g.activeId),a.uIk("aria-labelledby","slide-"+l.id)("aria-controls","slide-"+l.id)("aria-selected",l.id===g.activeId)}}function ys(d,v){}function ta(d,v){if(1&d&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,ys,0,0,"ng-template",10),a.qZA()),2&d){const l=v.$implicit,g=v.index,M=v.count;a.Q6J("id","slide-"+l.id),a.xp6(2),a.pQV(g+1)(M),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",l.tplRef)}}function Vo(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.arrowLeft())}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function ga(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.arrowRight())}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const dr=["ngbDatepickerDayView",""],vs=["month"],is=["year"];function Ls(d,v){if(1&d&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&d){const l=v.$implicit,g=a.oxw();a.Q6J("value",l),a.uIk("aria-label",g.i18n.getMonthFullName(l,g.date.year)),a.xp6(1),a.Oqu(g.i18n.getMonthShortName(l,g.date.year))}}function ma(d,v){if(1&d&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&d){const l=v.$implicit,g=a.oxw();a.Q6J("value",l),a.xp6(1),a.Oqu(g.i18n.getYearNumerals(l))}}function so(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(M){a.CHM(l);const H=a.oxw();return a.KtG(H.select.emit(M))}),a.qZA()}if(2&d){const l=a.oxw();a.Q6J("date",l.date)("disabled",l.disabled)("months",l.selectBoxes.months)("years",l.selectBoxes.years)}}function ss(d,v){1&d&&a._UZ(0,"div",0)}function Ra(d,v){1&d&&a._UZ(0,"div",0)}function Qa(d,v){if(1&d&&(a.YNc(0,ss,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,Ra,1,0,"div",9)),2&d){const l=v.$implicit,g=v.index,M=a.oxw(2);a.Q6J("ngIf",g>0),a.xp6(2),a.hij(" ",M.i18n.getMonthLabel(l.firstDate)," "),a.xp6(1),a.Q6J("ngIf",g!==M.months.length-1)}}function Io(d,v){if(1&d&&a.YNc(0,Qa,4,3,"ng-template",8),2&d){const l=a.oxw();a.Q6J("ngForOf",l.months)}}function oo(d,v){if(1&d&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&d){const l=a.oxw(2);a.xp6(1),a.Oqu(l.i18n.getWeekLabel())}}function Si(d,v){if(1&d&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&d){const l=v.$implicit;a.xp6(1),a.Oqu(l)}}function Ti(d,v){if(1&d&&(a.TgZ(0,"div",2),a.YNc(1,oo,2,1,"div",3),a.YNc(2,Si,2,1,"div",4),a.qZA()),2&d){const l=a.oxw();a.xp6(1),a.Q6J("ngIf",l.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",l.viewModel.weekdays)}}function Ao(d,v){if(1&d&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&d){const l=a.oxw(2).$implicit,g=a.oxw();a.xp6(1),a.Oqu(g.i18n.getWeekNumerals(l.number))}}function Vr(d,v){}function ts(d,v){if(1&d&&a.YNc(0,Vr,0,0,"ng-template",14),2&d){const l=a.oxw().$implicit,g=a.oxw(3);a.Q6J("ngTemplateOutlet",g.datepicker.dayTemplate)("ngTemplateOutletContext",l.context)}}function zi(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(M){const ce=a.CHM(l).$implicit;return a.oxw(3).doSelect(ce),a.KtG(M.preventDefault())}),a.YNc(1,ts,1,2,"ng-template",13),a.qZA()}if(2&d){const l=v.$implicit;a.ekj("disabled",l.context.disabled)("hidden",l.hidden)("ngb-dp-today",l.context.today),a.Q6J("tabindex",l.tabindex),a.uIk("aria-label",l.ariaLabel),a.xp6(1),a.Q6J("ngIf",!l.hidden)}}function Vi(d,v){if(1&d&&(a.TgZ(0,"div",8),a.YNc(1,Ao,2,1,"div",9),a.YNc(2,zi,2,9,"div",10),a.qZA()),2&d){const l=a.oxw().$implicit,g=a.oxw();a.xp6(1),a.Q6J("ngIf",g.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",l.days)}}function ao(d,v){1&d&&a.YNc(0,Vi,3,2,"div",7),2&d&&a.Q6J("ngIf",!v.$implicit.collapsed)}const na=["defaultDayTemplate"],lo=["content"];function Ri(d,v){if(1&d&&a._UZ(0,"div",7),2&d){const g=v.currentMonth,M=v.selected,H=v.disabled,ce=v.focused;a.Q6J("date",v.date)("currentMonth",g)("selected",M)("disabled",H)("focused",ce)}}function zs(d,v){if(1&d&&(a.TgZ(0,"div",12),a._uU(1),a.qZA()),2&d){const l=a.oxw().$implicit,g=a.oxw(2);a.xp6(1),a.hij(" ",g.i18n.getMonthLabel(l.firstDate)," ")}}function Ho(d,v){if(1&d&&(a.TgZ(0,"div",9),a.YNc(1,zs,2,1,"div",10),a._UZ(2,"ngb-datepicker-month",11),a.qZA()),2&d){const l=v.$implicit,g=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===g.navigation||g.displayMonths>1&&"select"===g.navigation),a.xp6(1),a.Q6J("month",l.firstDate)}}function ra(d,v){if(1&d&&a.YNc(0,Ho,3,2,"div",8),2&d){const l=a.oxw();a.Q6J("ngForOf",l.model.months)}}function bs(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",13),a.NdJ("navigate",function(M){a.CHM(l);const H=a.oxw();return a.KtG(H.onNavigateEvent(M))})("select",function(M){a.CHM(l);const H=a.oxw();return a.KtG(H.onNavigateDateSelect(M))}),a.qZA()}if(2&d){const l=a.oxw();a.Q6J("date",l.model.firstDate)("months",l.model.months)("disabled",l.model.disabled)("showSelect","select"===l.model.navigation)("prevDisabled",l.model.prevDisabled)("nextDisabled",l.model.nextDisabled)("selectBoxes",l.model.selectBoxes)}}function As(d,v){}function ia(d,v){}const Yn=["dialog"],$o=["ngbNavOutlet",""];function uo(d,v){}const Mo=function(d){return{$implicit:d}};function sa(d,v){if(1&d&&(a.TgZ(0,"div",2),a.YNc(1,uo,0,0,"ng-template",3),a.qZA()),2&d){const l=a.oxw().$implicit,g=a.oxw();a.Q6J("item",l)("nav",g.nav)("role",g.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==l.contentTpl?null:l.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,Mo,l.active||g.isPanelTransitioning(l)))}}function jo(d,v){if(1&d&&a.YNc(0,sa,2,7,"div",1),2&d){const l=v.$implicit,g=a.oxw();a.Q6J("ngIf",l.isPanelInDom()||g.isPanelTransitioning(l))}}function _a(d,v){1&d&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function ya(d,v){1&d&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function No(d,v){1&d&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function k(d,v){1&d&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function L(d,v){1&d&&a._uU(0,"...")}function F(d,v){1&d&&(a.TgZ(0,"span",15),a._uU(1,"(current)"),a.qZA())}function re(d,v){if(1&d&&(a._uU(0),a.YNc(1,F,2,0,"span",14)),2&d){const l=v.$implicit,g=v.currentPage;a.hij(" ",l," "),a.xp6(1),a.Q6J("ngIf",l===g)}}function rt(d,v){}const En=function(d){return{disabled:!0,currentPage:d}};function qr(d,v){if(1&d&&(a.TgZ(0,"a",20),a.YNc(1,rt,0,0,"ng-template",8),a.qZA()),2&d){const l=a.oxw(2).$implicit,g=a.oxw(),M=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==g.tplEllipsis?null:g.tplEllipsis.templateRef)||M)("ngTemplateOutletContext",a.VKq(2,En,l))}}function ii(d,v){}const Bs=function(d,v,l){return{disabled:d,$implicit:v,currentPage:l}};function Us(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"a",21),a.NdJ("click",function(M){a.CHM(l);const H=a.oxw().$implicit;return a.oxw(2).selectPage(H),a.KtG(M.preventDefault())}),a.YNc(1,ii,0,0,"ng-template",8),a.qZA()}if(2&d){const l=a.oxw().$implicit,g=a.oxw(),M=g.disabled,H=g.$implicit,ce=a.oxw(),Re=a.MAs(11);a.uIk("tabindex",M?"-1":null)("aria-disabled",M?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==ce.tplNumber?null:ce.tplNumber.templateRef)||Re)("ngTemplateOutletContext",a.kEZ(4,Bs,M,l,H))}}function va(d,v){if(1&d&&(a.TgZ(0,"li",17),a.YNc(1,qr,2,4,"a",18),a.YNc(2,Us,2,8,"a",19),a.qZA()),2&d){const l=v.$implicit,g=a.oxw(),M=g.$implicit,H=g.disabled,ce=a.oxw();a.ekj("active",l===M)("disabled",ce.isEllipsis(l)||H),a.uIk("aria-current",l===M?"page":null),a.xp6(1),a.Q6J("ngIf",ce.isEllipsis(l)),a.xp6(1),a.Q6J("ngIf",!ce.isEllipsis(l))}}function Vs(d,v){1&d&&a.YNc(0,va,3,7,"li",16),2&d&&a.Q6J("ngForOf",v.pages)}function Pa(d,v){}const Pi=function(d,v){return{disabled:d,currentPage:v}};function mr(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"li",17)(1,"a",22),a.NdJ("click",function(M){return a.CHM(l),a.oxw().selectPage(1),a.KtG(M.preventDefault())}),a.YNc(2,Pa,0,0,"ng-template",8),a.qZA()()}if(2&d){const l=a.oxw(),g=a.MAs(1);a.ekj("disabled",l.previousDisabled()),a.xp6(1),a.uIk("tabindex",l.previousDisabled()?"-1":null)("aria-disabled",l.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==l.tplFirst?null:l.tplFirst.templateRef)||g)("ngTemplateOutletContext",a.WLB(6,Pi,l.previousDisabled(),l.page))}}function hs(d,v){}const Wi=function(d){return{disabled:d}};function Es(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"li",17)(1,"a",23),a.NdJ("click",function(M){a.CHM(l);const H=a.oxw();return H.selectPage(H.page-1),a.KtG(M.preventDefault())}),a.YNc(2,hs,0,0,"ng-template",8),a.qZA()()}if(2&d){const l=a.oxw(),g=a.MAs(3);a.ekj("disabled",l.previousDisabled()),a.xp6(1),a.uIk("tabindex",l.previousDisabled()?"-1":null)("aria-disabled",l.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==l.tplPrevious?null:l.tplPrevious.templateRef)||g)("ngTemplateOutletContext",a.VKq(6,Wi,l.previousDisabled()))}}function Go(d,v){}function zo(d,v){}function za(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"li",17)(1,"a",24),a.NdJ("click",function(M){a.CHM(l);const H=a.oxw();return H.selectPage(H.page+1),a.KtG(M.preventDefault())}),a.YNc(2,zo,0,0,"ng-template",8),a.qZA()()}if(2&d){const l=a.oxw(),g=a.MAs(5);a.ekj("disabled",l.nextDisabled()),a.xp6(1),a.uIk("tabindex",l.nextDisabled()?"-1":null)("aria-disabled",l.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==l.tplNext?null:l.tplNext.templateRef)||g)("ngTemplateOutletContext",a.WLB(6,Pi,l.nextDisabled(),l.page))}}function al(d,v){}function Ja(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"li",17)(1,"a",25),a.NdJ("click",function(M){a.CHM(l);const H=a.oxw();return H.selectPage(H.pageCount),a.KtG(M.preventDefault())}),a.YNc(2,al,0,0,"ng-template",8),a.qZA()()}if(2&d){const l=a.oxw(),g=a.MAs(7);a.ekj("disabled",l.nextDisabled()),a.xp6(1),a.uIk("tabindex",l.nextDisabled()?"-1":null)("aria-disabled",l.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==l.tplLast?null:l.tplLast.templateRef)||g)("ngTemplateOutletContext",a.WLB(6,Pi,l.nextDisabled(),l.page))}}const Ws=function(d,v,l){return{$implicit:d,pages:v,disabled:l}};function ka(d,v){if(1&d&&(a.TgZ(0,"span"),a.SDv(1,1),a.ALo(2,"percent"),a.qZA()),2&d){const l=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,l.getValue()/l.max)),a.QtT(1)}}function aa(d,v){1&d&&a._uU(0),2&d&&a.Oqu(100===v.fill?"\u2605":"\u2606")}function Zs(d,v){}function la(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const H=a.CHM(l).index,ce=a.oxw();return a.KtG(ce.enter(H+1))})("click",function(){const H=a.CHM(l).index,ce=a.oxw();return a.KtG(ce.handleClick(H+1))}),a.YNc(3,Zs,0,0,"ng-template",4),a.qZA()}if(2&d){const l=v.index,g=a.oxw(),M=a.MAs(1);a.xp6(1),a.hij("(",l<g.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",g.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",g.starTemplate||g.starTemplateFromContent||M)("ngTemplateOutletContext",g.contexts[l])}}function ll(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.changeHour(M.hourStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,14),a.qZA()()}if(2&d){const l=a.oxw();a.ekj("btn-sm",l.isSmallSize)("btn-lg",l.isLargeSize)("disabled",l.disabled),a.Q6J("disabled",l.disabled)}}function co(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.changeHour(-M.hourStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,16),a.qZA()()}if(2&d){const l=a.oxw();a.ekj("btn-sm",l.isSmallSize)("btn-lg",l.isLargeSize)("disabled",l.disabled),a.Q6J("disabled",l.disabled)}}function vl(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.changeMinute(M.minuteStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,17),a.qZA()()}if(2&d){const l=a.oxw();a.ekj("btn-sm",l.isSmallSize)("btn-lg",l.isLargeSize)("disabled",l.disabled),a.Q6J("disabled",l.disabled)}}function Ll(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.changeMinute(-M.minuteStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,18),a.qZA()()}if(2&d){const l=a.oxw();a.ekj("btn-sm",l.isSmallSize)("btn-lg",l.isLargeSize)("disabled",l.disabled),a.Q6J("disabled",l.disabled)}}function ul(d,v){1&d&&(a.TgZ(0,"div",5),a._uU(1,":"),a.qZA())}function Ms(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw(2);return a.KtG(M.changeSecond(M.secondStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,21),a.qZA()()}if(2&d){const l=a.oxw(2);a.ekj("btn-sm",l.isSmallSize)("btn-lg",l.isLargeSize)("disabled",l.disabled),a.Q6J("disabled",l.disabled)}}function Oo(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(l);const M=a.oxw(2);return a.KtG(M.changeSecond(-M.secondStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,22),a.qZA()()}if(2&d){const l=a.oxw(2);a.ekj("btn-sm",l.isSmallSize)("btn-lg",l.isLargeSize)("disabled",l.disabled),a.Q6J("disabled",l.disabled)}}function Fr(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"div",19),a.YNc(1,Ms,4,7,"button",3),a.TgZ(2,"input",20),a.NdJ("change",function(M){a.CHM(l);const H=a.oxw();return a.KtG(H.updateSecond(M.target.value))})("blur",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.handleBlur())})("input",function(M){a.CHM(l);const H=a.oxw();return a.KtG(H.formatInput(M.target))})("keydown.ArrowUp",function(M){a.CHM(l);const H=a.oxw();return H.changeSecond(H.secondStep),a.KtG(M.preventDefault())})("keydown.ArrowDown",function(M){a.CHM(l);const H=a.oxw();return H.changeSecond(-H.secondStep),a.KtG(M.preventDefault())}),a.qZA(),a.YNc(3,Oo,4,7,"button",3),a.qZA()}if(2&d){const l=a.oxw();a.xp6(1),a.Q6J("ngIf",l.spinners),a.xp6(1),a.ekj("form-control-sm",l.isSmallSize)("form-control-lg",l.isLargeSize),a.Q6J("value",l.formatMinSec(null==l.model?null:l.model.second))("readOnly",l.readonlyInputs)("disabled",l.disabled),a.xp6(1),a.Q6J("ngIf",l.spinners)}}function ua(d,v){1&d&&a._UZ(0,"div",5)}function Xa(d,v){if(1&d&&(a.ynx(0),a.SDv(1,27),a.BQk()),2&d){const l=a.oxw(2);a.xp6(1),a.pQV(l.i18n.getAfternoonPeriod()),a.QtT(1)}}function es(d,v){if(1&d&&a.SDv(0,28),2&d){const l=a.oxw(2);a.pQV(l.i18n.getMorningPeriod()),a.QtT(0)}}function Bl(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.toggleMeridian())}),a.YNc(2,Xa,2,1,"ng-container",25),a.YNc(3,es,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&d){const l=a.MAs(4),g=a.oxw();a.xp6(1),a.ekj("btn-sm",g.isSmallSize)("btn-lg",g.isLargeSize)("disabled",g.disabled),a.Q6J("disabled",g.disabled),a.xp6(1),a.Q6J("ngIf",g.model&&g.model.hour>=12)("ngIfElse",l)}}function Ul(d,v){if(1&d&&(a.TgZ(0,"strong",3),a._uU(1),a.qZA()),2&d){const l=a.oxw();a.xp6(1),a.Oqu(l.header)}}function cl(d,v){}function Fa(d,v){if(1&d){const l=a.EpF();a.TgZ(0,"div",4),a.YNc(1,cl,0,0,"ng-template",5),a.TgZ(2,"button",6),a.NdJ("click",function(){a.CHM(l);const M=a.oxw();return a.KtG(M.hide())}),a.qZA()()}if(2&d){const l=a.oxw(),g=a.MAs(1);a.xp6(1),a.Q6J("ngTemplateOutlet",l.contentHeaderTpl||g)}}function ba(d,v){if(1&d&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&d){const l=a.oxw().$implicit,g=a.oxw();a.Tol(g.highlightClass),a.xp6(1),a.Oqu(l)}}function x(d,v){if(1&d&&a._uU(0),2&d){const l=a.oxw().$implicit;a.Oqu(l)}}function K(d,v){if(1&d&&(a.YNc(0,ba,2,3,"span",1),a.YNc(1,x,1,1,"ng-template",null,2,a.W1O)),2&d){const l=v.odd,g=a.MAs(2);a.Q6J("ngIf",l)("ngIfElse",g)}}function Et(d){return parseInt(`${d}`,10)}function Dn(d){return null!=d?`${d}`:""}function Sr(d,v,l=0){return Math.max(Math.min(d,v),l)}function Tr(d){return"string"==typeof d}function mt(d){return!isNaN(Et(d))}function gn(d){return"number"==typeof d&&isFinite(d)&&Math.floor(d)===d}function Cr(d){return null!=d}function zt(d){return mt(d)?`0${d}`.slice(-2):""}function li(d,v){return d&&d.className&&d.className.split&&d.className.split(/\s+/).indexOf(v)>=0}function ht(d){return(d||document.body).getBoundingClientRect()}function Wr(d){return d.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const E={animation:!0,transitionTimerDelayMs:5},m=()=>{},{transitionTimerDelayMs:C}=E,$=new Map,J=(d,v,l,g)=>{let M=g.context||{};const H=$.get(v);if(H)switch(g.runningTransition){case"continue":return I.E;case"stop":d.run(()=>H.transition$.complete()),M=Object.assign(H.context,M),$.delete(v)}const ce=l(v,g.animation,M)||m;if(!g.animation||"none"===window.getComputedStyle(v).transitionProperty)return d.run(()=>ce()),(0,pe.of)(void 0).pipe(function Ht(d){return v=>new te.y(l=>v.subscribe({next:ce=>d.run(()=>l.next(ce)),error:ce=>d.run(()=>l.error(ce)),complete:()=>d.run(()=>l.complete())}))}(d));const Re=new we.x,Be=new we.x,ut=Re.pipe(function We(...d){return v=>(0,ge.z)(v,(0,pe.of)(...d))}(!0));$.set(v,{transition$:Re,complete:()=>{Be.next(),Be.complete()},context:M});const wt=function W(d){const{transitionDelay:v,transitionDuration:l}=window.getComputedStyle(d);return 1e3*(parseFloat(v)+parseFloat(l))}(v);return d.runOutsideAngular(()=>{const vn=(0,De.R)(v,"transitionend").pipe((0,yt.R)(ut),(0,Tt.h)(({target:In})=>In===v));(function Me(...d){return 1===(d=ye(d)).length?(0,Oe.Xf)(d[0]):new te.y(function Pt(d){return v=>{let l=[];for(let g=0;l&&!v.closed&&g<d.length;g++)l.push((0,Oe.Xf)(d[g]).subscribe((0,he.x)(v,M=>{if(l){for(let H=0;H<l.length;H++)H!==g&&l[H].unsubscribe();l=null}v.next(M)})))}}(d))})((0,je.H)(wt+C).pipe((0,yt.R)(ut)),vn,Be).pipe((0,yt.R)(ut)).subscribe(()=>{$.delete(v),d.run(()=>{ce(),Re.next(),Re.complete()})})}),Re.asObservable()},de=(d,v,l)=>{let{direction:g,maxSize:M,dimension:H}=l;const{classList:ce}=d;function Re(){ce.add("collapse"),"show"===g?ce.add("show"):ce.remove("show")}if(v)return M||(M=function Se(d,v){if(typeof navigator>"u")return"0px";const{classList:l}=d,g=l.contains("show");g||l.add("show"),d.style[v]="";const M=d.getBoundingClientRect()[v]+"px";return g||l.remove("show"),M}(d,H),l.maxSize=M,d.style[H]="show"!==g?M:"0px",ce.remove("collapse"),ce.remove("collapsing"),ce.remove("show"),ht(d),ce.add("collapsing")),d.style[H]="show"===g?M:"0px",()=>{Re(),ce.remove("collapsing"),d.style[H]=""};Re()};let Qe=(()=>{class d{constructor(){this.animation=E.animation}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),$t=(()=>{class d{constructor(l){this._ngbConfig=l,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(l){this._animation=l}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Qe))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ot=0,Gn=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),d})(),On=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),d})(),tn=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),d})(),Bt=(()=>{class d{constructor(){this.disabled=!1,this.id="ngb-panel-"+Ot++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275dir=a.lG2({type:d,selectors:[["ngb-panel"]],contentQueries:function(l,g,M){if(1&l&&(a.Suo(M,On,4),a.Suo(M,Gn,4),a.Suo(M,tn,4)),2&l){let H;a.iGM(H=a.CRH())&&(g.titleTpls=H),a.iGM(H=a.CRH())&&(g.headerTpls=H),a.iGM(H=a.CRH())&&(g.contentTpls=H)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),d})(),br=(()=>{class d{constructor(l){this._El=l,this.ngbRef=new a.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),d})(),Cn=(()=>{class d{constructor(l,g){this.accordion=l,this.panel=g}set ngbPanelToggle(l){l&&(this.panel=l)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36((0,a.Gpc)(()=>Ci)),a.Y36(Bt,9))},d.\u0275dir=a.lG2({type:d,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(l,g){1&l&&a.NdJ("click",function(){return g.accordion.toggle(g.panel.id)}),2&l&&(a.Ikx("disabled",g.panel.disabled),a.uIk("aria-expanded",g.panel.isOpen)("aria-controls",g.panel.id),a.ekj("collapsed",!g.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),d})(),Ci=(()=>{class d{constructor(l,g,M){this._ngZone=g,this._changeDetector=M,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=l.animation,this.type=l.type,this.closeOtherPanels=l.closeOthers}isExpanded(l){return this.activeIds.indexOf(l)>-1}expand(l){this._changeOpenState(this._findPanelById(l),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(l=>this._changeOpenState(l,!0))}collapse(l){this._changeOpenState(this._findPanelById(l),!1)}collapseAll(){this.panels.forEach(l=>{this._changeOpenState(l,!1)})}toggle(l){const g=this._findPanelById(l);g&&this._changeOpenState(g,!g.isOpen)}ngAfterContentChecked(){Tr(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(l=>{l.isOpen=!l.disabled&&this.activeIds.indexOf(l.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,ae.q)(1)).subscribe(()=>{this.panels.forEach(l=>{const g=l.panelDiv;g?l.initClassDone||(l.initClassDone=!0,J(this._ngZone,g,de,{animation:!1,runningTransition:"continue",context:{direction:l.isOpen?"show":"hide",dimension:"height"}})):l.initClassDone=!1})})}_changeOpenState(l,g){if(null!=l&&!l.disabled&&l.isOpen!==g){let M=!1;this.panelChange.emit({panelId:l.id,nextState:g,preventDefault:()=>{M=!0}}),M||(l.isOpen=g,l.transitionRunning=!0,g&&this.closeOtherPanels&&this._closeOthers(l.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(l,g=!0){this.panels.forEach(M=>{M.id!==l&&M.isOpen&&(M.isOpen=!1,M.transitionRunning=g)})}_findPanelById(l){return this.panels.find(g=>g.id===l)||null}_updateActiveIds(){this.activeIds=this.panels.filter(l=>l.isOpen&&!l.disabled).map(l=>l.id)}_runTransitions(l){this._changeDetector.detectChanges(),this.panels.forEach(g=>{g.transitionRunning&&J(this._ngZone,g.panelDiv,de,{animation:l,runningTransition:"stop",context:{direction:g.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{g.transitionRunning=!1;const{id:H}=g;g.isOpen?(g.shown.emit(),this.shown.emit(H)):(g.hidden.emit(),this.hidden.emit(H))})})}}return d.\u0275fac=function(l){return new(l||d)(a.Y36($t),a.Y36(a.R0b),a.Y36(a.sBO))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-accordion"]],contentQueries:function(l,g,M){if(1&l&&a.Suo(M,Bt,4),2&l){let H;a.iGM(H=a.CRH())&&(g.panels=H)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(l,g){2&l&&a.uIk("aria-multiselectable",!g.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[a.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(l,g){1&l&&(a.YNc(0,mo,3,3,"ng-template",0,1,a.W1O),a.YNc(2,Ga,4,11,"ng-template",2)),2&l&&(a.xp6(2),a.Q6J("ngForOf",g.panels))},dependencies:[Ce.ax,Ce.tP,Cn,br,Gn,Ce.O5],encapsulation:2}),d})(),Rt=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[Ci]}),d})();const hr=({classList:d})=>{d.remove("show")};let si=(()=>{class d{constructor(l){this._ngbConfig=l,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(l){this._animation=l}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Qe))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),mi=(()=>{class d{constructor(l,g,M,H){this._renderer=g,this._element=M,this._zone=H,this.closed=new a.vpe,this.dismissible=l.dismissible,this.type=l.type,this.animation=l.animation}close(){const l=J(this._zone,this._element.nativeElement,hr,{animation:this.animation,runningTransition:"continue"});return l.subscribe(()=>this.closed.emit()),l}ngOnChanges(l){const g=l.type;g&&!g.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${g.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${g.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(si),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(l,g){2&l&&a.ekj("fade",g.animation)("alert-dismissible",g.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:yo,decls:2,vars:1,consts:function(){let v;return v=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",v,3,"click",4,"ngIf"],["type","button","aria-label",v,1,"btn-close",3,"click"]]},template:function(l,g){1&l&&(a.F$t(),a.Hsn(0),a.YNc(1,ea,1,0,"button",0)),2&l&&(a.xp6(1),a.Q6J("ngIf",g.dismissible))},dependencies:[Ce.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),d})(),ws=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[mi]}),d})();var Xr=(()=>{return(d=Xr||(Xr={})).START="start",d.END="end",Xr;var d})();const ei=({classList:d})=>d.contains("carousel-item-start")||d.contains("carousel-item-end"),Hs=d=>{d.remove("carousel-item-start"),d.remove("carousel-item-end")},vo=d=>{Hs(d),d.remove("carousel-item-prev"),d.remove("carousel-item-next")},$s=(d,v,{direction:l})=>{const{classList:g}=d;return v?(ei(d)?Hs(g):(g.add("carousel-item-"+(l===Xr.START?"next":"prev")),ht(d),g.add("carousel-item-"+l)),()=>{vo(g),g.add("active")}):(Hs(g),vo(g),void g.add("active"))},Ns=(d,v,{direction:l})=>{const{classList:g}=d;return v?(ei(d)?Hs(g):g.add("carousel-item-"+l),()=>{vo(g),g.remove("active")}):(Hs(g),vo(g),void g.remove("active"))};let dl=(()=>{class d{constructor(l){this._ngbConfig=l,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(l){this._animation=l}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Qe))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Vn=0,Zn=(()=>{class d{constructor(l){this.tplRef=l,this.id="ngb-slide-"+Vn++,this.slid=new a.vpe}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),d})(),Wn=(()=>{class d{constructor(l,g,M,H,ce){this._platformId=g,this._ngZone=M,this._cd=H,this._container=ce,this.NgbSlideEventSource=_r,this._destroy$=new we.x,this._interval$=new ft.X(0),this._mouseHover$=new ft.X(!1),this._focused$=new ft.X(!1),this._pauseOnHover$=new ft.X(!1),this._pauseOnFocus$=new ft.X(!1),this._pause$=new ft.X(!1),this._wrap$=new ft.X(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=l.animation,this.interval=l.interval,this.wrap=l.wrap,this.keyboard=l.keyboard,this.pauseOnHover=l.pauseOnHover,this.pauseOnFocus=l.pauseOnFocus,this.showNavigationArrows=l.showNavigationArrows,this.showNavigationIndicators=l.showNavigationIndicators}set interval(l){this._interval$.next(l)}get interval(){return this._interval$.value}set wrap(l){this._wrap$.next(l)}get wrap(){return this._wrap$.value}set pauseOnHover(l){this._pauseOnHover$.next(l)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(l){this._pauseOnFocus$.next(l)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(l){this._mouseHover$.next(l)}get mouseHover(){return this._mouseHover$.value}set focused(l){this._focused$.next(l)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(_r.ARROW_LEFT)}arrowRight(){this.focus(),this.next(_r.ARROW_RIGHT)}ngAfterContentInit(){(0,Ce.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const l=(0,St.a)([this.slide.pipe((0,at.U)(g=>g.current),(0,pt.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,pt.O)(null))]).pipe((0,at.U)(([g,M])=>{const H=this.slides.toArray(),ce=this._getSlideIdxById(g);return M?H.length>1:ce<H.length-1}),(0,Vt.x)());(0,St.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,l]).pipe((0,at.U)(([g,M,H,ce,Re,Be,ut])=>g||M&&H||ce&&Re||!ut?0:Be),(0,Vt.x)(),(0,rn.w)(g=>g>0?(0,je.H)(g,g):nt),(0,yt.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(_r.TIMER)))}),this.slides.changes.pipe((0,yt.R)(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(l=>(d=>{$.get(d)?.complete()})(this._getSlideElement(l))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,ae.q)(1)).subscribe(()=>{for(const{id:l}of this.slides){const g=this._getSlideElement(l);l===this.activeId?g.classList.add("active"):g.classList.remove("active")}})})}ngAfterContentChecked(){let l=this._getSlideById(this.activeId);this.activeId=l?l.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const l=this._getSlideElement(this.activeId);l&&l.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(l,g){this._cycleToSelected(l,this._getSlideEventDirection(this.activeId,l),g)}prev(l){this._cycleToSelected(this._getPrevSlide(this.activeId),Xr.END,l)}next(l){this._cycleToSelected(this._getNextSlide(this.activeId),Xr.START,l)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(l,g,M){const H=this._transitionIds;if(H&&(H[0]!==l||H[1]!==this.activeId))return;let ce=this._getSlideById(l);if(ce&&ce.id!==this.activeId){this._transitionIds=[this.activeId,l],this.slide.emit({prev:this.activeId,current:ce.id,direction:g,paused:this._pause$.value,source:M});const Re={animation:this.animation,runningTransition:"stop",context:{direction:g}},Be=[],ut=this._getSlideById(this.activeId);if(ut){const In=J(this._ngZone,this._getSlideElement(ut.id),Ns,Re);In.subscribe(()=>{ut.slid.emit({isShown:!1,direction:g,source:M})}),Be.push(In)}const wt=this.activeId;this.activeId=ce.id;const vn=this._getSlideById(this.activeId),dn=J(this._ngZone,this._getSlideElement(ce.id),$s,Re);dn.subscribe(()=>{vn?.slid.emit({isShown:!0,direction:g,source:M})}),Be.push(dn),Ft(...Be).pipe((0,ae.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:wt,current:ce.id,direction:g,paused:this._pause$.value,source:M})})}this._cd.markForCheck()}_getSlideEventDirection(l,g){return this._getSlideIdxById(l)>this._getSlideIdxById(g)?Xr.END:Xr.START}_getSlideById(l){return this.slides.find(g=>g.id===l)||null}_getSlideIdxById(l){const g=this._getSlideById(l);return null!=g?this.slides.toArray().indexOf(g):-1}_getNextSlide(l){const g=this.slides.toArray(),M=this._getSlideIdxById(l);return M===g.length-1?this.wrap?g[0].id:g[g.length-1].id:g[M+1].id}_getPrevSlide(l){const g=this.slides.toArray(),M=this._getSlideIdxById(l);return 0===M?this.wrap?g[g.length-1].id:g[0].id:g[M-1].id}_getSlideElement(l){return this._container.nativeElement.querySelector(`#slide-${l}`)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(dl),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-carousel"]],contentQueries:function(l,g,M){if(1&l&&a.Suo(M,Zn,4),2&l){let H;a.iGM(H=a.CRH())&&(g.slides=H)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(l,g){1&l&&a.NdJ("keydown.arrowLeft",function(){return g.keyboard&&g.arrowLeft()})("keydown.arrowRight",function(){return g.keyboard&&g.arrowRight()})("mouseenter",function(){return g.mouseHover=!0})("mouseleave",function(){return g.mouseHover=!1})("focusin",function(){return g.focused=!0})("focusout",function(){return g.focused=!1}),2&l&&(a.uIk("aria-activedescendant","slide-"+g.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[a.jDz],decls:6,vars:6,consts:function(){let v,l,g;return v=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,l=$localize`:@@ngb.carousel.previous:Previous`,g=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],v,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],l,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],g]},template:function(l,g){1&l&&(a.TgZ(0,"div",0),a.YNc(1,Li,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,ta,4,4,"div",3),a.qZA(),a.YNc(4,Vo,4,0,"button",4),a.YNc(5,ga,4,0,"button",5)),2&l&&(a.ekj("visually-hidden",!g.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",g.slides),a.xp6(2),a.Q6J("ngForOf",g.slides),a.xp6(1),a.Q6J("ngIf",g.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",g.showNavigationArrows))},dependencies:[Ce.ax,Ce.tP,Ce.O5],encapsulation:2,changeDetection:0}),d})();var _r=(()=>{return(d=_r||(_r={})).TIMER="timer",d.ARROW_LEFT="arrowLeft",d.ARROW_RIGHT="arrowRight",d.INDICATOR="indicator",_r;var d})();let tt=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[Wn]}),d})(),ho=(()=>{class d{constructor(l){this._ngbConfig=l,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(l){this._animation=l}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Qe))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ii=(()=>{class d{constructor(l,g,M){this._element=l,this._zone=M,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=g.animation,this.horizontal=g.horizontal}set collapsed(l){this._isCollapsed!==l&&(this._isCollapsed=l,this._afterInit&&this._runTransitionWithEvents(l,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(l=this._isCollapsed){this.collapsed=!l,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(l,g){return J(this._zone,this._element.nativeElement,de,{animation:g,runningTransition:"stop",context:{direction:l?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(l,g){this._runTransition(l,g).subscribe(()=>{l?this.hidden.emit():this.shown.emit()})}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.SBq),a.Y36(ho),a.Y36(a.R0b))},d.\u0275dir=a.lG2({type:d,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(l,g){2&l&&a.ekj("collapse-horizontal",g.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),d})(),La=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({}),d})();class pr{constructor(v,l,g){this.year=gn(v)?v:null,this.month=gn(l)?l:null,this.day=gn(g)?g:null}static from(v){return v instanceof pr?v:v?new pr(v.year,v.month,v.day):null}equals(v){return null!=v&&this.year===v.year&&this.month===v.month&&this.day===v.day}before(v){return!!v&&(this.year===v.year?this.month===v.month?this.day!==v.day&&this.day<v.day:this.month<v.month:this.year<v.year)}after(v){return!!v&&(this.year===v.year?this.month===v.month?this.day!==v.day&&this.day>v.day:this.month>v.month:this.year>v.year)}}function Rr(d,v){return!function os(d,v){return!d&&!v||!!d&&!!v&&d.equals(v)}(d,v)}function Vl(d,v){return!(!d&&!v||d&&v&&d.year===v.year&&d.month===v.month)}function qs(d,v,l){return d&&v&&d.before(v)?v:d&&l&&d.after(l)?l:d||null}function Ba(d,v){const{minDate:l,maxDate:g,disabled:M,markDisabled:H}=v;return!(null==d||M||H&&H(d,{year:d.year,month:d.month})||l&&d.before(l)||g&&d.after(g))}function Ua(d){return new pr(d.getFullYear(),d.getMonth()+1,d.getDate())}function Ea(d){const v=new Date(d.year,d.month-1,d.day,12);return isNaN(v.getTime())||v.setFullYear(d.year),v}let Wo=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:function(){return function Eo(){return new T}()},providedIn:"root"}),d})(),T=(()=>{class d extends Wo{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(l,g="d",M=1){let H=Ea(l),ce=!0,Re=H.getMonth();switch(g){case"y":H.setFullYear(H.getFullYear()+M);break;case"m":Re+=M,H.setMonth(Re),Re%=12,Re<0&&(Re+=12);break;case"d":H.setDate(H.getDate()+M),ce=!1;break;default:return l}return ce&&H.getMonth()!==Re&&H.setDate(0),Ua(H)}getPrev(l,g="d",M=1){return this.getNext(l,g,-M)}getWeekday(l){let M=Ea(l).getDay();return 0===M?7:M}getWeekNumber(l,g){7===g&&(g=0);const ce=Ea(l[(11-g)%7]);ce.setDate(ce.getDate()+4-(ce.getDay()||7));const Re=ce.getTime();return ce.setMonth(0),ce.setDate(1),Math.floor(Math.round((Re-ce.getTime())/864e5)/7)+1}getToday(){return Ua(new Date)}isValid(l){if(!(l&&gn(l.year)&&gn(l.month)&&gn(l.day)&&0!==l.year))return!1;const g=Ea(l);return!isNaN(g.getTime())&&g.getFullYear()===l.year&&g.getMonth()+1===l.month&&g.getDate()===l.day}}return d.\u0275fac=function(){let v;return function(g){return(v||(v=a.n5z(d)))(g||d)}}(),d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),w=(()=>{class d{getMonthLabel(l){return`${this.getMonthFullName(l.month,l.year)} ${this.getYearNumerals(l.year)}`}getDayNumerals(l){return`${l.day}`}getWeekNumerals(l){return`${l}`}getYearNumerals(l){return`${l}`}getWeekLabel(){return""}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:function(l){let g=null;return g=l?new l:function N(d){return new P(d)}(a.LFG(a.soG)),g},providedIn:"root"}),d})(),P=(()=>{class d extends w{constructor(l){super(),this._locale=l,this._monthsShort=(0,Ce.UT)(l,Ce.x.Standalone,Ce.Tn.Abbreviated),this._monthsFull=(0,Ce.UT)(l,Ce.x.Standalone,Ce.Tn.Wide)}getWeekdayLabel(l,g){const M=(0,Ce.Mn)(this._locale,Ce.x.Standalone,void 0===g?Ce.Tn.Short:g);return M.map((ce,Re)=>M[(Re+1)%7])[l-1]||""}getMonthShortName(l){return this._monthsShort[l-1]||""}getMonthFullName(l){return this._monthsFull[l-1]||""}getDayAriaLabel(l){const g=new Date(l.year,l.month-1,l.day);return(0,Ce.p6)(g,"fullDate",this._locale)}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(a.soG))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),G=(()=>{class d{constructor(l,g){this._calendar=l,this._i18n=g,this._VALIDATORS={dayTemplateData:M=>{if(this._state.dayTemplateData!==M)return{dayTemplateData:M}},displayMonths:M=>{if(gn(M=Et(M))&&M>0&&this._state.displayMonths!==M)return{displayMonths:M}},disabled:M=>{if(this._state.disabled!==M)return{disabled:M}},firstDayOfWeek:M=>{if(gn(M=Et(M))&&M>=0&&this._state.firstDayOfWeek!==M)return{firstDayOfWeek:M}},focusVisible:M=>{if(this._state.focusVisible!==M&&!this._state.disabled)return{focusVisible:M}},markDisabled:M=>{if(this._state.markDisabled!==M)return{markDisabled:M}},maxDate:M=>{const H=this.toValidDate(M,null);if(Rr(this._state.maxDate,H))return{maxDate:H}},minDate:M=>{const H=this.toValidDate(M,null);if(Rr(this._state.minDate,H))return{minDate:H}},navigation:M=>{if(this._state.navigation!==M)return{navigation:M}},outsideDays:M=>{if(this._state.outsideDays!==M)return{outsideDays:M}},weekdays:M=>{const H=!0===M||!1===M?Ce.Tn.Short:M,ce=!0!==M&&!1!==M||M;if(this._state.weekdayWidth!==H||this._state.weekdaysVisible!==ce)return{weekdayWidth:H,weekdaysVisible:ce}}},this._model$=new we.x,this._dateSelect$=new we.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ce.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,Tt.h)(l=>l.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,Tt.h)(l=>null!==l))}set(l){let g=Object.keys(l).map(M=>this._VALIDATORS[M](l[M])).reduce((M,H)=>({...M,...H}),{});Object.keys(g).length>0&&this._nextState(g)}focus(l){const g=this.toValidDate(l,null);null!=g&&!this._state.disabled&&Rr(this._state.focusDate,g)&&this._nextState({focusDate:l})}focusSelect(){Ba(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(l){const g=this.toValidDate(l,this._calendar.getToday());null!=g&&!this._state.disabled&&(!this._state.firstDate||Vl(this._state.firstDate,g))&&this._nextState({firstDate:g})}select(l,g={}){const M=this.toValidDate(l,null);null!=M&&!this._state.disabled&&(Rr(this._state.selectedDate,M)&&this._nextState({selectedDate:M}),g.emitEvent&&Ba(M,this._state)&&this._dateSelect$.next(M))}toValidDate(l,g){const M=pr.from(l);return void 0===g&&(g=this._calendar.getToday()),this._calendar.isValid(M)?M:g}getMonth(l){for(let g of this._state.months)if(l.month===g.number&&l.year===g.year)return g;throw new Error(`month ${l.month} of year ${l.year} not found`)}_nextState(l){const g=this._updateState(l);this._patchContexts(g),this._state=g,this._model$.next(this._state)}_patchContexts(l){const{months:g,displayMonths:M,selectedDate:H,focusDate:ce,focusVisible:Re,disabled:Be,outsideDays:ut}=l;l.months.forEach(wt=>{wt.weeks.forEach(vn=>{vn.days.forEach(dn=>{ce&&(dn.context.focused=ce.equals(dn.date)&&Re),dn.tabindex=!Be&&ce&&dn.date.equals(ce)&&ce.month===wt.number?0:-1,!0===Be&&(dn.context.disabled=!0),void 0!==H&&(dn.context.selected=null!==H&&H.equals(dn.date)),wt.number!==dn.date.month&&(dn.hidden="hidden"===ut||"collapsed"===ut||M>1&&dn.date.after(g[0].firstDate)&&dn.date.before(g[M-1].lastDate))})})})}_updateState(l){const g=Object.assign({},this._state,l);let M=g.firstDate;if(("minDate"in l||"maxDate"in l)&&(function bo(d,v){if(v&&d&&v.before(d))throw new Error(`'maxDate' ${v} should be greater than 'minDate' ${d}`)}(g.minDate,g.maxDate),g.focusDate=qs(g.focusDate,g.minDate,g.maxDate),g.firstDate=qs(g.firstDate,g.minDate,g.maxDate),M=g.focusDate),"disabled"in l&&(g.focusVisible=!1),"selectedDate"in l&&0===this._state.months.length&&(M=g.selectedDate),"focusVisible"in l||"focusDate"in l&&(g.focusDate=qs(g.focusDate,g.minDate,g.maxDate),M=g.focusDate,0!==g.months.length&&g.focusDate&&!g.focusDate.before(g.firstDate)&&!g.focusDate.after(g.lastDate)))return g;if("firstDate"in l&&(g.firstDate=qs(g.firstDate,g.minDate,g.maxDate),M=g.firstDate),M){const ce=function Hl(d,v,l,g,M){const{displayMonths:H,months:ce}=l,Re=ce.splice(0,ce.length);return Array.from({length:H},(ut,wt)=>{const vn=Object.assign(d.getNext(v,"m",wt),{day:1});if(ce[wt]=null,!M){const dn=Re.findIndex(In=>In.firstDate.equals(vn));-1!==dn&&(ce[wt]=Re.splice(dn,1)[0])}return vn}).forEach((ut,wt)=>{null===ce[wt]&&(ce[wt]=function _i(d,v,l,g,M={}){const{dayTemplateData:H,minDate:ce,maxDate:Re,firstDayOfWeek:Be,markDisabled:ut,outsideDays:wt,weekdayWidth:vn,weekdaysVisible:dn}=l,In=d.getToday();M.firstDate=null,M.lastDate=null,M.number=v.month,M.year=v.year,M.weeks=M.weeks||[],M.weekdays=M.weekdays||[],v=function bl(d,v,l){const g=d.getDaysPerWeek(),M=new pr(v.year,v.month,1),H=d.getWeekday(M)%g;return d.getPrev(M,"d",(g+H-l)%g)}(d,v,Be),dn||(M.weekdays.length=0);for(let oi=0;oi<d.getWeeksPerMonth();oi++){let lr=M.weeks[oi];lr||(lr=M.weeks[oi]={number:0,days:[],collapsed:!0});const $r=lr.days;for(let hi=0;hi<d.getDaysPerWeek();hi++){0===oi&&dn&&(M.weekdays[hi]=g.getWeekdayLabel(d.getWeekday(v),vn));const Zr=new pr(v.year,v.month,v.day),Ds=d.getNext(Zr),vi=g.getDayAriaLabel(Zr);let ti=!!(ce&&Zr.before(ce)||Re&&Zr.after(Re));!ti&&ut&&(ti=ut(Zr,{month:M.number,year:M.year}));let bi=Zr.equals(In),xi=H?H(Zr,{month:M.number,year:M.year}):void 0;null===M.firstDate&&Zr.month===M.number&&(M.firstDate=Zr),Zr.month===M.number&&Ds.month!==M.number&&(M.lastDate=Zr);let qi=$r[hi];qi||(qi=$r[hi]={}),qi.date=Zr,qi.context=Object.assign(qi.context||{},{$implicit:Zr,date:Zr,data:xi,currentMonth:M.number,currentYear:M.year,disabled:ti,focused:!1,selected:!1,today:bi}),qi.tabindex=-1,qi.ariaLabel=vi,qi.hidden=!1,v=Ds}lr.number=d.getWeekNumber($r.map(hi=>hi.date),Be),lr.collapsed="collapsed"===wt&&$r[0].date.month!==M.number&&$r[$r.length-1].date.month!==M.number}return M}(d,ut,l,g,Re.shift()||{}))}),ce}(this._calendar,M,g,this._i18n,"dayTemplateData"in l||"firstDayOfWeek"in l||"markDisabled"in l||"minDate"in l||"maxDate"in l||"disabled"in l||"outsideDays"in l||"weekdaysVisible"in l);g.months=ce,g.firstDate=ce[0].firstDate,g.lastDate=ce[ce.length-1].lastDate,"selectedDate"in l&&!Ba(g.selectedDate,g)&&(g.selectedDate=null),"firstDate"in l&&(!g.focusDate||g.focusDate.before(g.firstDate)||g.focusDate.after(g.lastDate))&&(g.focusDate=M);const Re=!this._state.firstDate||this._state.firstDate.year!==g.firstDate.year,Be=!this._state.firstDate||this._state.firstDate.month!==g.firstDate.month;"select"===g.navigation?(("minDate"in l||"maxDate"in l||0===g.selectBoxes.years.length||Re)&&(g.selectBoxes.years=function Ro(d,v,l){if(!d)return[];const g=v?Math.max(v.year,d.year-500):d.year-10,H=(l?Math.min(l.year,d.year+500):d.year+10)-g+1,ce=Array(H);for(let Re=0;Re<H;Re++)ce[Re]=g+Re;return ce}(g.firstDate,g.minDate,g.maxDate)),("minDate"in l||"maxDate"in l||0===g.selectBoxes.months.length||Re)&&(g.selectBoxes.months=function hl(d,v,l,g){if(!v)return[];let M=d.getMonths(v.year);if(l&&v.year===l.year){const H=M.findIndex(ce=>ce===l.month);M=M.slice(H)}if(g&&v.year===g.year){const H=M.findIndex(ce=>ce===g.month);M=M.slice(0,H+1)}return M}(this._calendar,g.firstDate,g.minDate,g.maxDate))):g.selectBoxes={years:[],months:[]},("arrows"===g.navigation||"select"===g.navigation)&&(Be||Re||"minDate"in l||"maxDate"in l||"disabled"in l)&&(g.prevDisabled=g.disabled||function Za(d,v,l){const g=Object.assign(d.getPrev(v,"m"),{day:1});return null!=l&&(g.year===l.year&&g.month<l.month||g.year<l.year&&1===l.month)}(this._calendar,g.firstDate,g.minDate),g.nextDisabled=g.disabled||function nu(d,v,l){const g=Object.assign(d.getNext(v,"m"),{day:1});return null!=l&&g.after(l)}(this._calendar,g.lastDate,g.maxDate))}return g}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Wo),a.LFG(w))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})();var X=(()=>{return(d=X||(X={}))[d.PREV=0]="PREV",d[d.NEXT=1]="NEXT",X;var d})();let oe=(()=>{class d{constructor(l){this.i18n=l}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(w))},d.\u0275cmp=a.Xpm({type:d,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(l,g){2&l&&a.ekj("bg-primary",g.selected)("text-white",g.selected)("text-muted",g.isMuted())("outside",g.isMuted())("active",g.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[a.jDz],attrs:dr,decls:1,vars:1,template:function(l,g){1&l&&a._uU(0),2&l&&a.Oqu(g.i18n.getDayNumerals(g.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),d})(),$e=(()=>{class d{constructor(l,g){this.i18n=l,this._renderer=g,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(l){this.select.emit(new pr(this.date.year,Et(l),1))}changeYear(l){this.select.emit(new pr(Et(l),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(w),a.Y36(a.Qsj))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(l,g){if(1&l&&(a.Gf(vs,7,a.SBq),a.Gf(is,7,a.SBq)),2&l){let M;a.iGM(M=a.CRH())&&(g.monthSelect=M.first),a.iGM(M=a.CRH())&&(g.yearSelect=M.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:function(){let v,l,g,M;return v=$localize`:@@ngb.datepicker.select-month:Select month`,l=$localize`:@@ngb.datepicker.select-month:Select month`,g=$localize`:@@ngb.datepicker.select-year:Select year`,M=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",v,"title",l,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",g,"title",M,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(l,g){1&l&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(H){return g.changeMonth(H.target.value)}),a.YNc(2,Ls,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(H){return g.changeYear(H.target.value)}),a.YNc(5,ma,2,2,"option",2),a.qZA()),2&l&&(a.Q6J("disabled",g.disabled),a.xp6(2),a.Q6J("ngForOf",g.months),a.xp6(1),a.Q6J("disabled",g.disabled),a.xp6(2),a.Q6J("ngForOf",g.years))},dependencies:[Ce.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),d})(),Ut=(()=>{class d{constructor(l){this.i18n=l,this.navigation=X,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(l){l.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(l){l.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(w))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[a.jDz],decls:8,vars:4,consts:function(){let v,l,g,M;return v=$localize`:@@ngb.datepicker.previous-month:Previous month`,l=$localize`:@@ngb.datepicker.previous-month:Previous month`,g=$localize`:@@ngb.datepicker.next-month:Next month`,M=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",v,"title",l,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",g,"title",M,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(l,g){1&l&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(H){return g.onClickPrev(H)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,so,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,Io,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(H){return g.onClickNext(H)}),a._UZ(7,"span",2),a.qZA()()),2&l&&(a.xp6(1),a.Q6J("disabled",g.prevDisabled),a.xp6(2),a.Q6J("ngIf",g.showSelect),a.xp6(1),a.Q6J("ngIf",!g.showSelect),a.xp6(2),a.Q6J("disabled",g.nextDisabled))},dependencies:[Ce.O5,Ce.ax,$e],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),d})();var Wt=(()=>{return(d=Wt||(Wt={}))[d.Tab=9]="Tab",d[d.Enter=13]="Enter",d[d.Escape=27]="Escape",d[d.Space=32]="Space",d[d.PageUp=33]="PageUp",d[d.PageDown=34]="PageDown",d[d.End=35]="End",d[d.Home=36]="Home",d[d.ArrowLeft=37]="ArrowLeft",d[d.ArrowUp=38]="ArrowUp",d[d.ArrowRight=39]="ArrowRight",d[d.ArrowDown=40]="ArrowDown",Wt;var d})();let Sn=(()=>{class d{processKey(l,g){const{state:M,calendar:H}=g;switch(l.which){case Wt.PageUp:g.focusDate(H.getPrev(M.focusedDate,l.shiftKey?"y":"m",1));break;case Wt.PageDown:g.focusDate(H.getNext(M.focusedDate,l.shiftKey?"y":"m",1));break;case Wt.End:g.focusDate(l.shiftKey?M.maxDate:M.lastDate);break;case Wt.Home:g.focusDate(l.shiftKey?M.minDate:M.firstDate);break;case Wt.ArrowLeft:g.focusDate(H.getPrev(M.focusedDate,"d",1));break;case Wt.ArrowUp:g.focusDate(H.getPrev(M.focusedDate,"d",H.getDaysPerWeek()));break;case Wt.ArrowRight:g.focusDate(H.getNext(M.focusedDate,"d",1));break;case Wt.ArrowDown:g.focusDate(H.getNext(M.focusedDate,"d",H.getDaysPerWeek()));break;case Wt.Enter:case Wt.Space:g.focusSelect();break;default:return}l.preventDefault(),l.stopPropagation()}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Lr=(()=>{class d{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ce.Tn.Short}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Zi=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:function(){return function as(){return new ca}()},providedIn:"root"}),d})(),ca=(()=>{class d extends Zi{fromModel(l){return l&&gn(l.year)&&gn(l.month)&&gn(l.day)?{year:l.year,month:l.month,day:l.day}:null}toModel(l){return l&&gn(l.year)&&gn(l.month)&&gn(l.day)?{year:l.year,month:l.month,day:l.day}:null}}return d.\u0275fac=function(){let v;return function(g){return(v||(v=a.n5z(d)))(g||d)}}(),d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),fs=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),d})(),Po=(()=>{class d{constructor(l,g,M,H){this.i18n=l,this.datepicker=g,this._keyboardService=M,this._service=H}set month(l){this.viewModel=this._service.getMonth(l)}onKeyDown(l){this._keyboardService.processKey(l,this.datepicker)}doSelect(l){!l.context.disabled&&!l.hidden&&this.datepicker.onDateSelect(l.date)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(w),a.Y36((0,a.Gpc)(()=>Va)),a.Y36(Sn),a.Y36(G))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(l,g){1&l&&a.NdJ("keydown",function(H){return g.onKeyDown(H)})},inputs:{month:"month"},standalone:!0,features:[a.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,g){1&l&&(a.YNc(0,Ti,3,2,"div",0),a.YNc(1,ao,1,1,"ng-template",1)),2&l&&(a.Q6J("ngIf",g.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",g.viewModel.weeks))},dependencies:[Ce.O5,Ce.ax,Ce.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),d})(),Va=(()=>{class d{constructor(l,g,M,H,ce,Re,Be,ut){this._service=l,this._calendar=g,this.i18n=M,this._elementRef=Re,this._ngbDateAdapter=Be,this._ngZone=ut,this._controlValue=null,this._destroyed$=new we.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=wt=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(wt=>this[wt]=H[wt]),l.dateSelect$.pipe((0,yt.R)(this._destroyed$)).subscribe(wt=>{this.dateSelect.emit(wt)}),l.model$.pipe((0,yt.R)(this._destroyed$)).subscribe(wt=>{const vn=wt.firstDate,dn=this.model?this.model.firstDate:null;this._publicState={maxDate:wt.maxDate,minDate:wt.minDate,firstDate:wt.firstDate,lastDate:wt.lastDate,focusedDate:wt.focusDate,months:wt.months.map(hi=>hi.firstDate)};let In=!1;if(!vn.equals(dn)&&(this.navigate.emit({current:dn?{year:dn.year,month:dn.month}:null,next:{year:vn.year,month:vn.month},preventDefault:()=>In=!0}),In&&null!==dn))return void this._service.open(dn);const oi=wt.selectedDate,lr=wt.focusDate,$r=this.model?this.model.focusDate:null;this.model=wt,Rr(oi,this._controlValue)&&(this._controlValue=oi,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(oi))),Rr(lr,$r)&&$r&&wt.focusVisible&&this.focus(),ce.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(l){this._service.focus(pr.from(l))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{const l=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');l&&l.focus()})}navigateTo(l){this._service.open(pr.from(l?l.day?l:{...l,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const l=(0,De.R)(this._contentEl.nativeElement,"focusin"),g=(0,De.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:M}=this._elementRef;(0,Ye.T)(l,g).pipe((0,Tt.h)(({target:H,relatedTarget:ce})=>!(li(H,"ngb-dp-day")&&li(ce,"ngb-dp-day")&&M.contains(H)&&M.contains(ce))),(0,yt.R)(this._destroyed$)).subscribe(({type:H})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===H})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const l={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(g=>l[g]=this[g]),this._service.set(l),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(l){const g={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(M=>M in l).forEach(M=>g[M]=this[M]),this._service.set(g),"startDate"in l){const{currentValue:M,previousValue:H}=l.startDate;Vl(H,M)&&this.navigateTo(this.startDate)}}onDateSelect(l){this._service.focus(l),this._service.select(l,{emitEvent:!0})}onNavigateDateSelect(l){this._service.open(l)}onNavigateEvent(l){switch(l){case X.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case X.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}setDisabledState(l){this._service.set({disabled:l})}writeValue(l){this._controlValue=pr.from(this._ngbDateAdapter.fromModel(l)),this._service.select(this._controlValue)}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(G),a.Y36(Wo),a.Y36(w),a.Y36(Lr),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Zi),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-datepicker"]],contentQueries:function(l,g,M){if(1&l&&a.Suo(M,fs,7),2&l){let H;a.iGM(H=a.CRH())&&(g.contentTemplate=H.first)}},viewQuery:function(l,g){if(1&l&&(a.Gf(na,7),a.Gf(lo,7)),2&l){let M;a.iGM(M=a.CRH())&&(g._defaultDayTemplate=M.first),a.iGM(M=a.CRH())&&(g._contentEl=M.first)}},hostVars:2,hostBindings:function(l,g){2&l&&a.ekj("disabled",g.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[a._Bn([{provide:Ke.JU,useExisting:(0,a.Gpc)(()=>d),multi:!0},G]),a.TTD,a.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(l,g){if(1&l&&(a.YNc(0,Ri,1,5,"ng-template",null,0,a.W1O),a.YNc(2,ra,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,bs,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,As,0,0,"ng-template",6),a.qZA(),a.YNc(9,ia,0,0,"ng-template",6)),2&l){const M=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==g.navigation),a.xp6(1),a.ekj("ngb-dp-months",!g.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==g.contentTemplate?null:g.contentTemplate.templateRef)||M),a.xp6(1),a.Q6J("ngTemplateOutlet",g.footerTemplate)}},dependencies:[Ce.O5,Ce.ax,Ce.tP,oe,Po,Ut],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),d})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const z=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ee(d){const v=Array.from(d.querySelectorAll(z)).filter(l=>-1!==l.tabIndex);return[v[0],v[v.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ms=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[Va,Po]}),d})(),ou=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275dir=a.lG2({type:d,selectors:[["",8,"navbar"]],standalone:!0}),d})(),el=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({}),d})();class jl{constructor(v,l,g){this.nodes=v,this.viewRef=l,this.componentRef=g}}let ld=(()=>{class d{constructor(l,g){this._el=l,this._zone=g}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{J(this._zone,this._el.nativeElement,(l,g)=>{g&&ht(l),l.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return J(this._zone,this._el.nativeElement,({classList:l})=>l.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(l,g){2&l&&(a.Tol("modal-backdrop"+(g.backdropClass?" "+g.backdropClass:"")),a.ekj("show",!g.animation)("fade",g.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(l,g){},encapsulation:2}),d})();class lu{close(v){}dismiss(v){}}class Gl{constructor(v,l,g,M){this._windowCmptRef=v,this._contentRef=l,this._backdropCmptRef=g,this._beforeDismiss=M,this._closed=new we.x,this._dismissed=new we.x,this._hidden=new we.x,v.instance.dismissEvent.subscribe(H=>{this.dismiss(H)}),this.result=new Promise((H,ce)=>{this._resolve=H,this._reject=ce}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,yt.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,yt.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(v){this._windowCmptRef&&(this._closed.next(v),this._resolve(v),this._removeModalElements())}_dismiss(v){this._dismissed.next(v),this._reject(v),this._removeModalElements()}dismiss(v){if(this._windowCmptRef)if(this._beforeDismiss){const l=this._beforeDismiss();!function Gr(d){return d&&d.then}(l)?!1!==l&&this._dismiss(v):l.then(g=>{!1!==g&&this._dismiss(v)},()=>{})}else this._dismiss(v)}_removeModalElements(){const v=this._windowCmptRef.instance.hide(),l=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pe.of)(void 0);v.subscribe(()=>{const{nativeElement:g}=this._windowCmptRef.location;g.parentNode.removeChild(g),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),l.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:g}=this._backdropCmptRef.location;g.parentNode.removeChild(g),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ft(v,l).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Al=(()=>{return(d=Al||(Al={}))[d.BACKDROP_CLICK=0]="BACKDROP_CLICK",d[d.ESC=1]="ESC",Al;var d})();let Ks=(()=>{class d{constructor(l,g,M){this._document=l,this._elRef=g,this._zone=M,this._closed$=new we.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new we.x,this.hidden=new we.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Tr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(l){this.dismissEvent.emit(l)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:l}=this._elRef,g={animation:this.animation,runningTransition:"stop"},ce=Ft(J(this._zone,l,()=>l.classList.remove("show"),g),J(this._zone,this._dialogEl.nativeElement,()=>{},g));return ce.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ce}_show(){const l={animation:this.animation,runningTransition:"continue"};Ft(J(this._zone,this._elRef.nativeElement,(H,ce)=>{ce&&ht(H),H.classList.add("show")},l),J(this._zone,this._dialogEl.nativeElement,()=>{},l)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:l}=this._elRef;this._zone.runOutsideAngular(()=>{(0,De.R)(l,"keydown").pipe((0,yt.R)(this._closed$),(0,Tt.h)(M=>M.which===Wt.Escape)).subscribe(M=>{this.keyboard?requestAnimationFrame(()=>{M.defaultPrevented||this._zone.run(()=>this.dismiss(Al.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let g=!1;(0,De.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,yt.R)(this._closed$),(0,Kt.b)(()=>g=!1),(0,rn.w)(()=>(0,De.R)(l,"mouseup").pipe((0,yt.R)(this._closed$),(0,ae.q)(1))),(0,Tt.h)(({target:M})=>l===M)).subscribe(()=>{g=!0}),(0,De.R)(l,"click").pipe((0,yt.R)(this._closed$)).subscribe(({target:M})=>{l===M&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!g&&this._zone.run(()=>this.dismiss(Al.BACKDROP_CLICK))),g=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:l}=this._elRef;if(!l.contains(document.activeElement)){const g=l.querySelector("[ngbAutofocus]"),M=ee(l)[0];(g||M||l).focus()}}_restoreFocus(){const l=this._document.body,g=this._elWithFocus;let M;M=g&&g.focus&&l.contains(g)?g:l,this._zone.runOutsideAngular(()=>{setTimeout(()=>M.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&J(this._zone,this._elRef.nativeElement,({classList:l})=>(l.add("modal-static"),()=>l.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(Ce.K0),a.Y36(a.SBq),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-modal-window"]],viewQuery:function(l,g){if(1&l&&a.Gf(Yn,7),2&l){let M;a.iGM(M=a.CRH())&&(g._dialogEl=M.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(l,g){2&l&&(a.uIk("aria-modal",!0)("aria-labelledby",g.ariaLabelledBy)("aria-describedby",g.ariaDescribedBy),a.Tol("modal d-block"+(g.windowClass?" "+g.windowClass:"")),a.ekj("fade",g.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:yo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(l,g){1&l&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&l&&a.Tol("modal-dialog"+(g.size?" modal-"+g.size:"")+(g.centered?" modal-dialog-centered":"")+g.fullscreenClass+(g.scrollable?" modal-dialog-scrollable":"")+(g.modalDialogClass?" "+g.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),d})(),yi=(()=>{class d{constructor(l){this._document=l}hide(){const l=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),g=this._document.body,M=g.style,{overflow:H,paddingRight:ce}=M;if(l>0){const Re=parseFloat(window.getComputedStyle(g).paddingRight);M.paddingRight=`${Re+l}px`}return M.overflow="hidden",()=>{l>0&&(M.paddingRight=ce),M.overflow=H}}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Ce.K0))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Nh=(()=>{class d{constructor(l,g,M,H,ce,Re,Be){this._applicationRef=l,this._injector=g,this._environmentInjector=M,this._document=H,this._scrollBar=ce,this._rendererFactory=Re,this._ngZone=Be,this._activeWindowCmptHasChanged=new we.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ut=this._windowCmpts[this._windowCmpts.length-1];((d,v,l,g=!1)=>{d.runOutsideAngular(()=>{const M=(0,De.R)(v,"focusin").pipe((0,yt.R)(l),(0,at.U)(H=>H.target));(0,De.R)(v,"keydown").pipe((0,yt.R)(l),(0,Tt.h)(H=>H.which===Wt.Tab),st(M)).subscribe(([H,ce])=>{const[Re,Be]=ee(v);(ce===Re||ce===v)&&H.shiftKey&&(Be.focus(),H.preventDefault()),ce===Be&&!H.shiftKey&&(Re.focus(),H.preventDefault())}),g&&(0,De.R)(v,"click").pipe((0,yt.R)(l),st(M),(0,at.U)(H=>H[1])).subscribe(H=>H.focus())})})(this._ngZone,ut.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ut.location.nativeElement)}})}_restoreScrollBar(){const l=this._scrollBarRestoreFn;l&&(this._scrollBarRestoreFn=null,l())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(l,g,M){const H=M.container instanceof HTMLElement?M.container:Cr(M.container)?this._document.querySelector(M.container):this._document.body,ce=this._rendererFactory.createRenderer(null,null);if(!H)throw new Error(`The specified modal container "${M.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Re=new lu,Be=(l=M.injector||l).get(a.lqb,null)||this._environmentInjector,ut=this._getContentRef(l,Be,g,Re,M);let wt=!1!==M.backdrop?this._attachBackdrop(H):void 0,vn=this._attachWindowComponent(H,ut.nodes),dn=new Gl(vn,ut,wt,M.beforeDismiss);return this._registerModalRef(dn),this._registerWindowCmpt(vn),dn.hidden.pipe((0,ae.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ce.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Re.close=In=>{dn.close(In)},Re.dismiss=In=>{dn.dismiss(In)},this._applyWindowOptions(vn.instance,M),1===this._modalRefs.length&&ce.addClass(this._document.body,"modal-open"),wt&&wt.instance&&(this._applyBackdropOptions(wt.instance,M),wt.changeDetectorRef.detectChanges()),vn.changeDetectorRef.detectChanges(),dn}get activeInstances(){return this._activeInstances}dismissAll(l){this._modalRefs.forEach(g=>g.dismiss(l))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(l){let g=(0,a.LMc)(ld,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(g.hostView),l.appendChild(g.location.nativeElement),g}_attachWindowComponent(l,g){let M=(0,a.LMc)(Ks,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:g});return this._applicationRef.attachView(M.hostView),l.appendChild(M.location.nativeElement),M}_applyWindowOptions(l,g){this._windowAttributes.forEach(M=>{Cr(g[M])&&(l[M]=g[M])})}_applyBackdropOptions(l,g){this._backdropAttributes.forEach(M=>{Cr(g[M])&&(l[M]=g[M])})}_getContentRef(l,g,M,H,ce){return M?M instanceof a.Rgc?this._createFromTemplateRef(M,H):Tr(M)?this._createFromString(M):this._createFromComponent(l,g,M,H,ce):new jl([])}_createFromTemplateRef(l,g){const H=l.createEmbeddedView({$implicit:g,close(ce){g.close(ce)},dismiss(ce){g.dismiss(ce)}});return this._applicationRef.attachView(H),new jl([H.rootNodes],H)}_createFromString(l){const g=this._document.createTextNode(`${l}`);return new jl([[g]])}_createFromComponent(l,g,M,H,ce){const Re=a.zs3.create({providers:[{provide:lu,useValue:H}],parent:l}),Be=(0,a.LMc)(M,{environmentInjector:g,elementInjector:Re}),ut=Be.location.nativeElement;return ce.scrollable&&ut.classList.add("component-host-scrollable"),this._applicationRef.attachView(Be.hostView),new jl([[ut]],Be.hostView,Be)}_setAriaHidden(l){const g=l.parentElement;g&&l!==this._document.body&&(Array.from(g.children).forEach(M=>{M!==l&&"SCRIPT"!==M.nodeName&&(this._ariaHiddenValues.set(M,M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))}),this._setAriaHidden(g))}_revertAriaHidden(){this._ariaHiddenValues.forEach((l,g)=>{l?g.setAttribute("aria-hidden",l):g.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(l){const g=()=>{const M=this._modalRefs.indexOf(l);M>-1&&(this._modalRefs.splice(M,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(l),this._activeInstances.emit(this._modalRefs),l.result.then(g,g)}_registerWindowCmpt(l){this._windowCmpts.push(l),this._activeWindowCmptHasChanged.next(),l.onDestroy(()=>{const g=this._windowCmpts.indexOf(l);g>-1&&(this._windowCmpts.splice(g,1),this._activeWindowCmptHasChanged.next())})}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(Ce.K0),a.LFG(yi),a.LFG(a.FYo),a.LFG(a.R0b))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),rc=(()=>{class d{constructor(l){this._ngbConfig=l,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(l){this._animation=l}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Qe))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),zl=(()=>{class d{constructor(l,g,M){this._injector=l,this._modalStack=g,this._config=M}open(l,g={}){const M={...this._config,animation:this._config.animation,...g};return this._modalStack.open(this._injector,l,M)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(l){this._modalStack.dismissAll(l)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(a.zs3),a.LFG(Nh),a.LFG(rc))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),ud=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({providers:[zl]}),d})();const Ta=({classList:d})=>(d.remove("show"),()=>d.remove("active")),bu=(d,v)=>{v&&ht(d),d.classList.add("show")};let Mr=(()=>{class d{constructor(l){this.elRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.SBq))},d.\u0275dir=a.lG2({type:d,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(l,g){2&l&&(a.Ikx("id",g.item.panelDomId),a.uIk("role",g.role?g.role:g.nav.roles?"tabpanel":void 0)("aria-labelledby",g.item.domId),a.ekj("fade",g.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),d})(),Bu=(()=>{class d{constructor(l,g){this._cd=l,this._ngZone=g,this._activePane=null}isPanelTransitioning(l){return this._activePane?.item===l}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,yt.R)(this.nav.destroy$),(0,pt.O)(this._activePane?.item||null),(0,Vt.x)(),function Te(d){return(0,Tt.h)((v,l)=>d<=l)}(1)).subscribe(l=>{const g={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?J(this._ngZone,this._activePane.elRef.nativeElement,Ta,g).subscribe(()=>{const M=this._activePane?.item;this._activePane=this._getPaneForItem(l),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),J(this._ngZone,this._activePane.elRef.nativeElement,bu,g).subscribe(()=>{l&&(l.shown.emit(),this.nav.shown.emit(l.id))})),M&&(M.hidden.emit(),this.nav.hidden.emit(M.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(l){return this._panes&&this._panes.find(g=>g.item===l)||null}_getActivePane(){return this._panes&&this._panes.find(l=>l.item.active)||null}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.sBO),a.Y36(a.R0b))},d.\u0275cmp=a.Xpm({type:d,selectors:[["","ngbNavOutlet",""]],viewQuery:function(l,g){if(1&l&&a.Gf(Mr,5),2&l){let M;a.iGM(M=a.CRH())&&(g._panes=M)}},hostVars:2,hostBindings:function(l,g){2&l&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[a.jDz],attrs:$o,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,g){1&l&&a.YNc(0,jo,1,1,"ng-template",0),2&l&&a.Q6J("ngForOf",g.nav.items)},dependencies:[Mr,Ce.ax,Ce.O5,Ce.tP],encapsulation:2,changeDetection:0}),d})(),ql=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[Bu]}),d})(),oc=(()=>{class d{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Uu=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),d})(),cd=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),d})(),_l=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),d})(),ac=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),d})(),lc=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),d})(),uc=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),d})(),Kl=(()=>{class d{constructor(l){this.templateRef=l}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(a.Rgc))},d.\u0275dir=a.lG2({type:d,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),d})(),dd=(()=>{class d{constructor(l){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=l.disabled,this.boundaryLinks=l.boundaryLinks,this.directionLinks=l.directionLinks,this.ellipses=l.ellipses,this.maxSize=l.maxSize,this.pageSize=l.pageSize,this.rotate=l.rotate,this.size=l.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(l){this._updatePages(l)}ngOnChanges(l){this._updatePages(this.page)}isEllipsis(l){return-1===l}_applyEllipses(l,g){this.ellipses&&(l>0&&(l>2?this.pages.unshift(-1):2===l&&this.pages.unshift(2),this.pages.unshift(1)),g<this.pageCount&&(g<this.pageCount-2?this.pages.push(-1):g===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let l=0,g=this.pageCount,M=Math.floor(this.maxSize/2);return this.page<=M?g=this.maxSize:this.pageCount-this.page<M?l=this.pageCount-this.maxSize:(l=this.page-M-1,g=this.page+(this.maxSize%2==0?M-1:M)),[l,g]}_applyPagination(){let g=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[g,g+this.maxSize]}_setPageInRange(l){const g=this.page;this.page=Sr(l,this.pageCount,1),this.page!==g&&mt(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(l){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),mt(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let g=1;g<=this.pageCount;g++)this.pages.push(g);if(this._setPageInRange(l),this.maxSize>0&&this.pageCount>this.maxSize){let g=0,M=this.pageCount;[g,M]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(g,M),this._applyEllipses(g,M)}}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(oc))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-pagination"]],contentQueries:function(l,g,M){if(1&l&&(a.Suo(M,Uu,5),a.Suo(M,cd,5),a.Suo(M,_l,5),a.Suo(M,ac,5),a.Suo(M,lc,5),a.Suo(M,uc,5),a.Suo(M,Kl,5)),2&l){let H;a.iGM(H=a.CRH())&&(g.tplEllipsis=H.first),a.iGM(H=a.CRH())&&(g.tplFirst=H.first),a.iGM(H=a.CRH())&&(g.tplLast=H.first),a.iGM(H=a.CRH())&&(g.tplNext=H.first),a.iGM(H=a.CRH())&&(g.tplNumber=H.first),a.iGM(H=a.CRH())&&(g.tplPrevious=H.first),a.iGM(H=a.CRH())&&(g.tplPages=H.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[a.TTD,a.jDz],decls:20,vars:12,consts:function(){let v,l,g,M,H,ce,Re,Be;return v=$localize`:@@ngb.pagination.first:`,l=$localize`:@@ngb.pagination.previous:`,g=$localize`:@@ngb.pagination.next:`,M=$localize`:@@ngb.pagination.last:`,H=$localize`:@@ngb.pagination.first-aria:First`,ce=$localize`:@@ngb.pagination.previous-aria:Previous`,Re=$localize`:@@ngb.pagination.next-aria:Next`,Be=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],v,l,g,M,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",H,"href","",1,"page-link",3,"click"],["aria-label",ce,"href","",1,"page-link",3,"click"],["aria-label",Re,"href","",1,"page-link",3,"click"],["aria-label",Be,"href","",1,"page-link",3,"click"]]},template:function(l,g){if(1&l&&(a.YNc(0,_a,2,0,"ng-template",null,0,a.W1O),a.YNc(2,ya,2,0,"ng-template",null,1,a.W1O),a.YNc(4,No,2,0,"ng-template",null,2,a.W1O),a.YNc(6,k,2,0,"ng-template",null,3,a.W1O),a.YNc(8,L,1,0,"ng-template",null,4,a.W1O),a.YNc(10,re,2,2,"ng-template",null,5,a.W1O),a.YNc(12,Vs,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,mr,3,9,"li",7),a.YNc(16,Es,3,8,"li",7),a.YNc(17,Go,0,0,"ng-template",8),a.YNc(18,za,3,9,"li",7),a.YNc(19,Ja,3,9,"li",7),a.qZA()),2&l){const M=a.MAs(13);a.xp6(14),a.Tol("pagination"+(g.size?" pagination-"+g.size:"")),a.xp6(1),a.Q6J("ngIf",g.boundaryLinks),a.xp6(1),a.Q6J("ngIf",g.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==g.tplPages?null:g.tplPages.templateRef)||M)("ngTemplateOutletContext",a.kEZ(8,Ws,g.page,g.pages,g.disabled)),a.xp6(1),a.Q6J("ngIf",g.directionLinks),a.xp6(1),a.Q6J("ngIf",g.boundaryLinks)}},dependencies:[Ce.O5,Ce.ax,Ce.tP],encapsulation:2,changeDetection:0}),d})(),hd=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[dd]}),d})(),$u=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({}),d})(),D=(()=>{class d{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),f=(()=>{class d{constructor(l){this.value=0,this.max=l.max,this.animated=l.animated,this.ariaLabel=l.ariaLabel,this.striped=l.striped,this.textType=l.textType,this.type=l.type,this.showValue=l.showValue,this.height=l.height}set max(l){this._max=!mt(l)||l<=0?100:l}get max(){return this._max}getValue(){return Sr(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(D))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(l,g){2&l&&(a.uIk("aria-valuenow",g.getValue())("aria-valuemax",g.max)("aria-label",g.ariaLabel),a.Udp("height",g.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[a.jDz],ngContentSelectors:yo,decls:3,vars:11,consts:function(){let v;return v=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],v]},template:function(l,g){1&l&&(a.F$t(),a.TgZ(0,"div"),a.YNc(1,ka,3,3,"span",0),a.Hsn(2),a.qZA()),2&l&&(a.MT6("progress-bar",g.type?g.textType?" bg-"+g.type:" text-bg-"+g.type:"","",g.textType?" text-"+g.textType:"",""),a.Udp("width",g.getPercentValue(),"%"),a.ekj("progress-bar-animated",g.animated)("progress-bar-striped",g.striped),a.xp6(1),a.Q6J("ngIf",g.showValue))},dependencies:[Ce.O5,Ce.Zx],encapsulation:2,changeDetection:0}),d})(),y=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[f]}),d})(),A=(()=>{class d{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Y=(()=>{class d{constructor(l,g){this._changeDetectorRef=g,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=M=>{},this.onTouched=()=>{},this.max=l.max,this.readonly=l.readonly,this.tabindex=l.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(l){this.isInteractive()&&this._updateState(l),this.hover.emit(l)}handleBlur(){this.onTouched()}handleClick(l){this.isInteractive()&&this.update(this.resettable&&this.rate===l?0:l)}handleKeyDown(l){switch(l.which){case Wt.ArrowDown:case Wt.ArrowLeft:this.update(this.rate-1);break;case Wt.ArrowUp:case Wt.ArrowRight:this.update(this.rate+1);break;case Wt.Home:this.update(0);break;case Wt.End:this.update(this.max);break;default:return}l.preventDefault()}ngOnChanges(l){l.rate&&this.update(this.rate),l.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(l){this.disabled=l}update(l,g=!0){const M=Sr(l,this.max,0);this.isInteractive()&&this.rate!==M&&(this.rate=M,this.rateChange.emit(this.rate)),g&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(l){this.update(l,!1),this._changeDetectorRef.markForCheck()}_updateState(l){this.nextRate=l,this.contexts.forEach((g,M)=>g.fill=Math.round(100*Sr(l-M,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(l,g)=>({fill:0,index:g}))}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(A),a.Y36(a.sBO))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-rating"]],contentQueries:function(l,g,M){if(1&l&&a.Suo(M,a.Rgc,5),2&l){let H;a.iGM(H=a.CRH())&&(g.starTemplateFromContent=H.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(l,g){1&l&&a.NdJ("blur",function(){return g.handleBlur()})("keydown",function(H){return g.handleKeyDown(H)})("mouseleave",function(){return g.reset()}),2&l&&(a.Ikx("tabindex",g.disabled?-1:g.tabindex),a.uIk("aria-valuemax",g.max)("aria-valuenow",g.nextRate)("aria-valuetext",g.ariaValueText())("aria-disabled",!!g.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[a._Bn([{provide:Ke.JU,useExisting:(0,a.Gpc)(()=>d),multi:!0}]),a.TTD,a.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,g){1&l&&(a.YNc(0,aa,1,1,"ng-template",null,0,a.W1O),a.YNc(2,la,4,5,"ng-template",1)),2&l&&(a.xp6(2),a.Q6J("ngForOf",g.contexts))},dependencies:[Ce.ax,Ce.tP],encapsulation:2,changeDetection:0}),d})(),se=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[Y]}),d})();class Ze{constructor(v,l,g){this.hour=Et(v),this.minute=Et(l),this.second=Et(g)}changeHour(v=1){this.updateHour((isNaN(this.hour)?0:this.hour)+v)}updateHour(v){this.hour=mt(v)?(v<0?24+v:v)%24:NaN}changeMinute(v=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+v)}updateMinute(v){mt(v)?(this.minute=v%60<0?60+v%60:v%60,this.changeHour(Math.floor(v/60))):this.minute=NaN}changeSecond(v=1){this.updateSecond((isNaN(this.second)?0:this.second)+v)}updateSecond(v){mt(v)?(this.second=v<0?60+v%60:v%60,this.changeMinute(Math.floor(v/60))):this.second=NaN}isValid(v=!0){return mt(this.hour)&&mt(this.minute)&&(!v||mt(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let xt=(()=>{class d{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ln=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:function(){return function pn(){return new yr}()},providedIn:"root"}),d})(),yr=(()=>{class d extends Ln{fromModel(l){return l&&gn(l.hour)&&gn(l.minute)?{hour:l.hour,minute:l.minute,second:gn(l.second)?l.second:null}:null}toModel(l){return l&&gn(l.hour)&&gn(l.minute)?{hour:l.hour,minute:l.minute,second:gn(l.second)?l.second:null}:null}}return d.\u0275fac=function(){let v;return function(g){return(v||(v=a.n5z(d)))(g||d)}}(),d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})(),Ys=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=a.Yz7({token:d,factory:function(l){let g=null;return g=l?new l:function ar(d){return new yl(d)}(a.LFG(a.soG)),g},providedIn:"root"}),d})(),yl=(()=>{class d extends Ys{constructor(l){super(),this._periods=(0,Ce.ol)(l,Ce.x.Standalone,Ce.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(a.soG))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac}),d})();const kc=/[^0-9]/g;let zd=(()=>{class d{constructor(l,g,M,H){this._config=l,this._ngbTimeAdapter=g,this._cd=M,this.i18n=H,this.onChange=ce=>{},this.onTouched=()=>{},this.meridian=l.meridian,this.spinners=l.spinners,this.seconds=l.seconds,this.hourStep=l.hourStep,this.minuteStep=l.minuteStep,this.secondStep=l.secondStep,this.disabled=l.disabled,this.readonlyInputs=l.readonlyInputs,this.size=l.size}set hourStep(l){this._hourStep=gn(l)?l:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(l){this._minuteStep=gn(l)?l:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(l){this._secondStep=gn(l)?l:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(l){const g=this._ngbTimeAdapter.fromModel(l);this.model=g?new Ze(g.hour,g.minute,g.second):new Ze,!this.seconds&&(!g||!mt(g.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}setDisabledState(l){this.disabled=l}changeHour(l){this.model?.changeHour(l),this.propagateModelChange()}changeMinute(l){this.model?.changeMinute(l),this.propagateModelChange()}changeSecond(l){this.model?.changeSecond(l),this.propagateModelChange()}updateHour(l){const g=!!this.model&&this.model.hour>=12,M=Et(l);this.model?.updateHour(this.meridian&&(g&&M<12||!g&&12===M)?M+12:M),this.propagateModelChange()}updateMinute(l){this.model?.updateMinute(Et(l)),this.propagateModelChange()}updateSecond(l){this.model?.updateSecond(Et(l)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(l){l.value=l.value.replace(kc,"")}formatHour(l){return mt(l)?zt(this.meridian?l%12==0?12:l%12:l%24):zt(NaN)}formatMinSec(l){return zt(mt(l)?l:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(l){l.seconds&&!this.seconds&&this.model&&!mt(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(l=!0){l&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return d.\u0275fac=function(l){return new(l||d)(a.Y36(xt),a.Y36(Ln),a.Y36(a.sBO),a.Y36(Ys))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[a._Bn([{provide:Ke.JU,useExisting:(0,a.Gpc)(()=>d),multi:!0}]),a.TTD,a.jDz],decls:16,vars:25,consts:function(){let v,l,g,M,H,ce,Re,Be,ut,wt,vn,dn,In,oi;return v=$localize`:@@ngb.timepicker.HH:HH`,l=$localize`:@@ngb.timepicker.hours:Hours`,g=$localize`:@@ngb.timepicker.MM:MM`,M=$localize`:@@ngb.timepicker.minutes:Minutes`,H=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,ce=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,Re=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,Be=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,ut=$localize`:@@ngb.timepicker.SS:SS`,wt=$localize`:@@ngb.timepicker.seconds:Seconds`,vn=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,dn=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,In=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,oi=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",l,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",g,"aria-label",M,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],H,[1,"chevron","ngb-tp-chevron","bottom"],ce,Re,Be,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",ut,"aria-label",wt,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],vn,dn,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],In,oi]},template:function(l,g){1&l&&(a.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),a.YNc(3,ll,4,7,"button",3),a.TgZ(4,"input",4),a.NdJ("change",function(H){return g.updateHour(H.target.value)})("blur",function(){return g.handleBlur()})("input",function(H){return g.formatInput(H.target)})("keydown.ArrowUp",function(H){return g.changeHour(g.hourStep),H.preventDefault()})("keydown.ArrowDown",function(H){return g.changeHour(-g.hourStep),H.preventDefault()}),a.qZA(),a.YNc(5,co,4,7,"button",3),a.qZA(),a.TgZ(6,"div",5),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",6),a.YNc(9,vl,4,7,"button",3),a.TgZ(10,"input",7),a.NdJ("change",function(H){return g.updateMinute(H.target.value)})("blur",function(){return g.handleBlur()})("input",function(H){return g.formatInput(H.target)})("keydown.ArrowUp",function(H){return g.changeMinute(g.minuteStep),H.preventDefault()})("keydown.ArrowDown",function(H){return g.changeMinute(-g.minuteStep),H.preventDefault()}),a.qZA(),a.YNc(11,Ll,4,7,"button",3),a.qZA(),a.YNc(12,ul,2,0,"div",8),a.YNc(13,Fr,4,9,"div",9),a.YNc(14,ua,1,0,"div",8),a.YNc(15,Bl,5,9,"div",10),a.qZA()()),2&l&&(a.ekj("disabled",g.disabled),a.Q6J("disabled",g.disabled),a.xp6(3),a.Q6J("ngIf",g.spinners),a.xp6(1),a.ekj("form-control-sm",g.isSmallSize)("form-control-lg",g.isLargeSize),a.Q6J("value",g.formatHour(null==g.model?null:g.model.hour))("readOnly",g.readonlyInputs)("disabled",g.disabled),a.xp6(1),a.Q6J("ngIf",g.spinners),a.xp6(4),a.Q6J("ngIf",g.spinners),a.xp6(1),a.ekj("form-control-sm",g.isSmallSize)("form-control-lg",g.isLargeSize),a.Q6J("value",g.formatMinSec(null==g.model?null:g.model.minute))("readOnly",g.readonlyInputs)("disabled",g.disabled),a.xp6(1),a.Q6J("ngIf",g.spinners),a.xp6(1),a.Q6J("ngIf",g.seconds),a.xp6(1),a.Q6J("ngIf",g.seconds),a.xp6(1),a.Q6J("ngIf",g.meridian),a.xp6(1),a.Q6J("ngIf",g.meridian))},dependencies:[Ce.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),d})(),tl=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[zd]}),d})();const Ca=(d,v)=>{const{classList:l}=d;if(v)return l.add("fade"),ht(d),l.add("show","showing"),()=>{l.remove("showing")};l.add("show")},wu=({classList:d})=>(d.add("showing"),()=>{d.remove("show","showing")});let Fc=(()=>{class d{constructor(l){this._ngbConfig=l,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(l){this._animation=l}}return d.\u0275fac=function(l){return new(l||d)(a.LFG(Qe))},d.\u0275prov=a.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Lc=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275dir=a.lG2({type:d,selectors:[["","ngbToastHeader",""]],standalone:!0}),d})(),Ko=(()=>{class d{constructor(l,g,M,H){this.ariaLive=l,this._zone=M,this._element=H,this.contentHeaderTpl=null,this.shown=new a.vpe,this.hidden=new a.vpe,null==this.ariaLive&&(this.ariaLive=g.ariaLive),this.delay=g.delay,this.autohide=g.autohide,this.animation=g.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(l){"autohide"in l&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const l=J(this._zone,this._element.nativeElement,wu,{animation:this.animation,runningTransition:"stop"});return l.subscribe(()=>{this.hidden.emit()}),l}show(){const l=J(this._zone,this._element.nativeElement,Ca,{animation:this.animation,runningTransition:"continue"});return l.subscribe(()=>{this.shown.emit()}),l}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return d.\u0275fac=function(l){return new(l||d)(a.$8M("aria-live"),a.Y36(Fc),a.Y36(a.R0b),a.Y36(a.SBq))},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-toast"]],contentQueries:function(l,g,M){if(1&l&&a.Suo(M,Lc,7,a.Rgc),2&l){let H;a.iGM(H=a.CRH())&&(g.contentHeaderTpl=H.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(l,g){2&l&&(a.uIk("aria-live",g.ariaLive),a.ekj("fade",g.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:yo,decls:5,vars:1,consts:function(){let v;return v=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",v,1,"btn-close",3,"click"]]},template:function(l,g){1&l&&(a.F$t(),a.YNc(0,Ul,2,1,"ng-template",null,0,a.W1O),a.YNc(2,Fa,3,1,"ng-template",1),a.TgZ(3,"div",2),a.Hsn(4),a.qZA()),2&l&&(a.xp6(2),a.Q6J("ngIf",g.contentHeaderTpl||g.header))},dependencies:[Ce.O5,Ce.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),d})(),pd=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[Ko]}),d})(),Rf=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({}),d})(),bm=(()=>{class d{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(l){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const g=Dn(this.result),M=Array.isArray(this.term)?this.term:[this.term],H=ut=>this.accentSensitive?ut:Wr(ut),ce=M.map(ut=>function _n(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(H(Dn(ut)))).filter(ut=>ut),Re=this.accentSensitive?g:Wr(g),Be=ce.length?Re.split(new RegExp(`(${ce.join("|")})`,"gmi")):[g];if(this.accentSensitive)this.parts=Be;else{let ut=0;this.parts=Be.map(wt=>g.substring(ut,ut+=wt.length))}}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275cmp=a.Xpm({type:d,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[a.TTD,a.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(l,g){1&l&&a.YNc(0,K,3,2,"ng-template",0),2&l&&a.Q6J("ngForOf",g.parts)},dependencies:[Ce.O5,Ce.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),d})();new a.OlP("live announcer delay",{providedIn:"root",factory:function Vp(){return 100}});let Wd=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[bm]}),d})(),xh=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({}),d})();const zp=[Rt,ws,tt,La,ms,el,ud,ql,xh,hd,$u,y,se,tl,pd,Rf,Wd];let Zd=(()=>{class d{}return d.\u0275fac=function(l){return new(l||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[zp,Rt,ws,tt,La,ms,el,ud,ql,xh,hd,$u,y,se,tl,pd,Rf,Wd]}),d})()},259:(un,et,j)=>{j.d(et,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=j(9681);(0,a.registerVersion)("firebase","9.17.1","app")},9260:(un,et,j)=>{j.d(et,{Z:()=>a.Z});var a=j(3942);a.Z.registerVersion("firebase","9.17.1","app-compat")},407:(un,et,j)=>{j.r(et);var a=j(5861),te=j(3942),I=j(2090),pe=j(9681),we=j(1877),De=j(655),je=j(4859);const St=function Pt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qt=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new I.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new we.Yd("@firebase/auth");function Ft(D,...f){ve.logLevel<=we.in.ERROR&&ve.error(`Auth (${pe.SDK_VERSION}): ${D}`,...f)}function Ye(D,...f){throw Tt(D,...f)}function ge(D,...f){return Tt(D,...f)}function We(D,f,y){const A=Object.assign(Object.assign({},qt()),{[f]:y});return new I.LL("auth","Firebase",A).create(f,{appName:D.name})}function yt(D,f,y){if(!(f instanceof y))throw y.name!==f.constructor.name&&Ye(D,"argument-error"),We(D,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(D,...f){if("string"!=typeof D){const y=f[0],A=[...f.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(y,...A)}return nt.create(D,...f)}function ae(D,f,...y){if(!D)throw Tt(f,...y)}function at(D){const f="INTERNAL ASSERTION FAILED: "+D;throw Ft(f),new Error(f)}function pt(D,f){D||at(f)}const Vt=new Map;function rn(D){pt(D instanceof Function,"Expected a class definition");let f=Vt.get(D);return f?(pt(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,Vt.set(D,f),f)}function bt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function st(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Yt{constructor(f,y){this.shortDelay=f,this.longDelay=y,pt(y>f,"Short delay should be less than long delay!"),this.isMobile=(0,I.uI)()||(0,I.b$)()}get(){return function kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,I.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(D,f){pt(D.emulator,"Emulator should always be set here");const{url:y}=D.emulator;return f?`${y}${f.startsWith("/")?f.slice(1):f}`:y}class Mt{static initialize(f,y,A){this.fetchImpl=f,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ce=new Yt(3e4,6e4);function Ke(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function Jt(D,f,y,A){return wn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(D,f,y,A,Y={}){return Qn(D,Y,(0,a.Z)(function*(){let se={},Ze={};A&&("GET"===f?Ze=A:se={body:JSON.stringify(A)});const xt=(0,I.xO)(Object.assign({key:D.config.apiKey},Ze)).slice(1),pn=yield D._getAdditionalHeaders();return pn["Content-Type"]="application/json",D.languageCode&&(pn["X-Firebase-Locale"]=D.languageCode),Mt.fetch()(Xn(D,D.config.apiHost,y,xt),Object.assign({method:f,headers:pn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Qn(D,f,y){return fr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(D,f,y){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},Te),f);try{const Y=new ir(D),se=yield Promise.race([y(),Y.promise]);Y.clearNetworkTimeout();const Ze=yield se.json();if("needConfirmation"in Ze)throw Ve(D,"account-exists-with-different-credential",Ze);if(se.ok&&!("errorMessage"in Ze))return Ze;{const xt=se.ok?Ze.errorMessage:Ze.error.message,[pn,Ln]=xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw Ve(D,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===pn)throw Ve(D,"email-already-in-use",Ze);if("USER_DISABLED"===pn)throw Ve(D,"user-disabled",Ze);const yr=A[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if(Ln)throw We(D,yr,Ln);Ye(D,yr)}}catch(Y){if(Y instanceof I.ZR)throw Y;Ye(D,"network-request-failed")}})).apply(this,arguments)}function wr(D,f,y,A){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(D,f,y,A,Y={}){const se=yield Jt(D,f,y,A,Y);return"mfaPendingCredential"in se&&Ye(D,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Xn(D,f,y,A){const Y=`${f}${y}?${A}`;return D.config.emulator?Ue(D.config,Y):`${D.config.apiScheme}://${Y}`}class ir{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(ge(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ve(D,f,y){const A={appName:D.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const Y=ge(D,f,A);return Y.customData._tokenResponse=y,Y}function Le(){return(Le=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function dt(D,f){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ln(D,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function jn(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function kn(){return(kn=(0,a.Z)(function*(D,f=!1){const y=(0,I.m9)(D),A=yield y.getIdToken(f),Y=An(A);ae(Y&&Y.exp&&Y.auth_time&&Y.iat,y.auth,"internal-error");const se="object"==typeof Y.firebase?Y.firebase:void 0,Ze=se?.sign_in_provider;return{claims:Y,token:A,authTime:jn(Tn(Y.auth_time)),issuedAtTime:jn(Tn(Y.iat)),expirationTime:jn(Tn(Y.exp)),signInProvider:Ze||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Tn(D){return 1e3*Number(D)}function An(D){const[f,y,A]=D.split(".");if(void 0===f||void 0===y||void 0===A)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,I.tV)(y);return Y?JSON.parse(Y):(Ft("Failed to decode base64 JWT payload"),null)}catch(Y){return Ft("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function zn(D,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(D,f,y=!1){if(y)return f;try{return yield f}catch(A){throw A instanceof I.ZR&&Er(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function Er({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Yr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var y;if(f){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(f=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),A)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&f.schedule(!0))}f.schedule()})()}}class ki{constructor(f,y){this.createdAt=f,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(D){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(D){var f;const y=D.auth,A=yield D.getIdToken(),Y=yield zn(D,ln(y,{idToken:A}));ae(Y?.users.length,y,"internal-error");const se=Y.users[0];D._notifyReloadListener(se);const Ze=null!==(f=se.providerUserInfo)&&void 0!==f&&f.length?Xt(se.providerUserInfo):[],xt=zr(D.providerData,Ze),yr=!!D.isAnonymous&&!(D.email&&se.passwordHash||xt?.length),ar={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:xt,metadata:new ki(se.createdAt,se.lastLoginAt),isAnonymous:yr};Object.assign(D,ar)})).apply(this,arguments)}function Qr(){return(Qr=(0,a.Z)(function*(D){const f=(0,I.m9)(D);yield Nr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function zr(D,f){return[...D.filter(A=>!f.some(Y=>Y.providerId===A.providerId)),...f]}function Xt(D){return D.map(f=>{var{providerId:y}=f,A=(0,De._T)(f,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function cn(){return(cn=(0,a.Z)(function*(D,f){const y=yield Qn(D,{},(0,a.Z)(function*(){const A=(0,I.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Y,apiKey:se}=D.config,Ze=Xn(D,Y,"/v1/token",`key=${se}`),xt=yield D._getAdditionalHeaders();return xt["Content-Type"]="application/x-www-form-urlencoded",Mt.fetch()(Ze,{method:"POST",headers:xt,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ae(f.idToken,"internal-error"),ae(typeof f.idToken<"u","internal-error"),ae(typeof f.refreshToken<"u","internal-error");const y="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Ai(D){const f=An(D);return ae(f,"internal-error"),ae(typeof f.exp<"u","internal-error"),ae(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,y)}getToken(f,y=!1){var A=this;return(0,a.Z)(function*(){return ae(!A.accessToken||A.refreshToken,f,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(f,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,y){var A=this;return(0,a.Z)(function*(){const{accessToken:Y,refreshToken:se,expiresIn:Ze}=yield function Nt(D,f){return cn.apply(this,arguments)}(f,y);A.updateTokensAndExpiration(Y,se,Number(Ze))})()}updateTokensAndExpiration(f,y,A){this.refreshToken=y||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(f,y){const{refreshToken:A,accessToken:Y,expirationTime:se}=y,Ze=new Un;return A&&(ae("string"==typeof A,"internal-error",{appName:f}),Ze.refreshToken=A),Y&&(ae("string"==typeof Y,"internal-error",{appName:f}),Ze.accessToken=Y),se&&(ae("number"==typeof se,"internal-error",{appName:f}),Ze.expirationTime=se),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return at("not implemented")}}function Rn(D,f){ae("string"==typeof D||typeof D>"u","internal-error",{appName:f})}class Fn{constructor(f){var{uid:y,auth:A,stsTokenManager:Y}=f,se=(0,De._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ki(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(f){var y=this;return(0,a.Z)(function*(){const A=yield zn(y,y.stsTokenManager.getToken(y.auth,f));return ae(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(f){return function Pr(D){return kn.apply(this,arguments)}(this,f)}reload(){return function er(D){return Qr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ae(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(y=>Object.assign({},y)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Fn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,y=!1){var A=this;return(0,a.Z)(function*(){let Y=!1;f.idToken&&f.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(f),Y=!0),y&&(yield Nr(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var f=this;return(0,a.Z)(function*(){const y=yield f.getIdToken();return yield zn(f,function He(D,f){return Le.apply(this,arguments)}(f.auth,{idToken:y})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,y){var A,Y,se,Ze,xt,pn,Ln,yr;const ar=null!==(A=y.displayName)&&void 0!==A?A:void 0,Ys=null!==(Y=y.email)&&void 0!==Y?Y:void 0,yl=null!==(se=y.phoneNumber)&&void 0!==se?se:void 0,kc=null!==(Ze=y.photoURL)&&void 0!==Ze?Ze:void 0,zd=null!==(xt=y.tenantId)&&void 0!==xt?xt:void 0,tl=null!==(pn=y._redirectEventId)&&void 0!==pn?pn:void 0,Ca=null!==(Ln=y.createdAt)&&void 0!==Ln?Ln:void 0,wu=null!==(yr=y.lastLoginAt)&&void 0!==yr?yr:void 0,{uid:Fc,emailVerified:Lc,isAnonymous:Ko,providerData:pd,stsTokenManager:Rh}=y;ae(Fc&&Rh,f,"internal-error");const du=Un.fromJSON(this.name,Rh);ae("string"==typeof Fc,f,"internal-error"),Rn(ar,f.name),Rn(Ys,f.name),ae("boolean"==typeof Lc,f,"internal-error"),ae("boolean"==typeof Ko,f,"internal-error"),Rn(yl,f.name),Rn(kc,f.name),Rn(zd,f.name),Rn(tl,f.name),Rn(Ca,f.name),Rn(wu,f.name);const cc=new Fn({uid:Fc,auth:f,email:Ys,emailVerified:Lc,displayName:ar,isAnonymous:Ko,photoURL:kc,phoneNumber:yl,tenantId:zd,stsTokenManager:du,createdAt:Ca,lastLoginAt:wu});return pd&&Array.isArray(pd)&&(cc.providerData=pd.map(dc=>Object.assign({},dc))),tl&&(cc._redirectEventId=tl),cc}static _fromIdTokenResponse(f,y,A=!1){return(0,a.Z)(function*(){const Y=new Un;Y.updateFromServerResponse(y);const se=new Fn({uid:y.localId,auth:f,stsTokenManager:Y,isAnonymous:A});return yield Nr(se),se})()}}const _e=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,A){var Y=this;return(0,a.Z)(function*(){Y.storage[y]=A})()}_get(y){var A=this;return(0,a.Z)(function*(){const Y=A.storage[y];return void 0===Y?null:Y})()}_remove(y){var A=this;return(0,a.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return D.type="NONE",D})();function ke(D,f,y){return`firebase:${D}:${f}:${y}`}class Dt{constructor(f,y,A){this.persistence=f,this.auth=y,this.userKey=A;const{config:Y,name:se}=this.auth;this.fullUserKey=ke(this.userKey,Y.apiKey,se),this.fullPersistenceKey=ke("persistence",Y.apiKey,se),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const y=yield f.persistence._get(f.fullUserKey);return y?Fn._fromJSON(f.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var y=this;return(0,a.Z)(function*(){if(y.persistence===f)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=f,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,y,A="authUser"){return(0,a.Z)(function*(){if(!y.length)return new Dt(rn(_e),f,A);const Y=(yield Promise.all(y.map(function(){var Ln=(0,a.Z)(function*(yr){if(yield yr._isAvailable())return yr});return function(yr){return Ln.apply(this,arguments)}}()))).filter(Ln=>Ln);let se=Y[0]||rn(_e);const Ze=ke(A,f.config.apiKey,f.name);let xt=null;for(const Ln of y)try{const yr=yield Ln._get(Ze);if(yr){const ar=Fn._fromJSON(f,yr);Ln!==se&&(xt=ar),se=Ln;break}}catch{}const pn=Y.filter(Ln=>Ln._shouldAllowMigration);return se._shouldAllowMigration&&pn.length?(se=pn[0],xt&&(yield se._set(Ze,xt.toJSON())),yield Promise.all(y.map(function(){var Ln=(0,a.Z)(function*(yr){if(yr!==se)try{yield yr._remove(Ze)}catch{}});return function(yr){return Ln.apply(this,arguments)}}())),new Dt(se,f,A)):new Dt(se,f,A)})()}}function it(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(xr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(fn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Pe(f))return"Blackberry";if(ue(f))return"Webos";if(qn(f))return"Safari";if((f.includes("chrome/")||Hn(f))&&!f.includes("edge/"))return"Chrome";if(Ne(f))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function fn(D=(0,I.z$)()){return/firefox\//i.test(D)}function qn(D=(0,I.z$)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Hn(D=(0,I.z$)()){return/crios\//i.test(D)}function xr(D=(0,I.z$)()){return/iemobile/i.test(D)}function Ne(D=(0,I.z$)()){return/android/i.test(D)}function Pe(D=(0,I.z$)()){return/blackberry/i.test(D)}function ue(D=(0,I.z$)()){return/webos/i.test(D)}function ze(D=(0,I.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function ai(D=(0,I.z$)()){return ze(D)||Ne(D)||ue(D)||Pe(D)||/windows phone/i.test(D)||xr(D)}function Rs(D,f=[]){let y;switch(D){case"Browser":y=it((0,I.z$)());break;case"Worker":y=`${it((0,I.z$)())}-${D}`;break;default:y=D}const A=f.length?f.join(","):"FirebaseCore-web";return`${y}/JsCore/${pe.SDK_VERSION}/${A}`}class pi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,y){const A=se=>new Promise((Ze,xt)=>{try{Ze(f(se))}catch(pn){xt(pn)}});A.onAbort=y,this.queue.push(A);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(f){var y=this;return(0,a.Z)(function*(){if(y.auth.currentUser===f)return;const A=[];try{for(const Y of y.queue)yield Y(f),Y.onAbort&&A.push(Y.onAbort)}catch(Y){A.reverse();for(const se of A)try{se()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class Cs{constructor(f,y,A){this.app=f,this.heartbeatServiceProvider=y,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,y){var A=this;return y&&(this._popupRedirectResolver=rn(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Y,se;if(!A._deleted&&(A.persistenceManager=yield Dt.create(A,f),!A._deleted)){if(null!==(Y=A._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const y=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||y){if(f.currentUser&&y&&f.currentUser.uid===y.uid)return f._currentUser._assign(y),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(y,!0)}})()}initializeCurrentUser(f){var y=this;return(0,a.Z)(function*(){var A;const Y=yield y.assertedPersistence.getCurrentUser();let se=Y,Ze=!1;if(f&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const xt=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,pn=se?._redirectEventId,Ln=yield y.tryRedirectSignIn(f);(!xt||xt===pn)&&Ln?.user&&(se=Ln.user,Ze=!0)}if(!se)return y.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ze)try{yield y.beforeStateQueue.runMiddleware(se)}catch(xt){se=Y,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(xt))}return se?y.reloadAndSetCurrentUserOrClear(se):y.directlySetCurrentUser(null)}return ae(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===se._redirectEventId?y.directlySetCurrentUser(se):y.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(f){var y=this;return(0,a.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,f,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(f){var y=this;return(0,a.Z)(function*(){try{yield Nr(f)}catch(A){if("auth/network-request-failed"!==A?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function It(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var y=this;return(0,a.Z)(function*(){const A=f?(0,I.m9)(f):null;return A&&ae(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(f,y=!1){var A=this;return(0,a.Z)(function*(){if(!A._deleted)return f&&ae(A.tenantId===f.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(f)),A.queue((0,a.Z)(function*(){yield A.directlySetCurrentUser(f),A.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(rn(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new I.LL("auth","Firebase",f())}onAuthStateChanged(f,y,A){return this.registerStateListener(this.authStateSubscription,f,y,A)}beforeAuthStateChanged(f,y){return this.beforeStateQueue.pushCallback(f,y)}onIdTokenChanged(f,y,A){return this.registerStateListener(this.idTokenSubscription,f,y,A)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,y){var A=this;return(0,a.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(y);return null===f?Y.removeCurrentUser():Y.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const A=f&&rn(f)||y._popupRedirectResolver;ae(A,y,"argument-error"),y.redirectPersistenceManager=yield Dt.create(y,[rn(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(f){var y=this;return(0,a.Z)(function*(){var A,Y;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===f?y._currentUser:(null===(Y=y.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===f?y.redirectUser:null})()}_persistUserIfCurrent(f){var y=this;return(0,a.Z)(function*(){if(f===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,y,A,Y){if(this._deleted)return()=>{};const se="function"==typeof y?y:y.next.bind(y),Ze=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(Ze,this,"internal-error"),Ze.then(()=>se(this.currentUser)),"function"==typeof y?f.addObserver(y,A,Y):f.addObserver(y)}directlySetCurrentUser(f){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==f&&y._currentUser._stopProactiveRefresh(),f&&y.isProactiveRefreshEnabled&&f._startProactiveRefresh(),y.currentUser=f,f?yield y.assertedPersistence.setCurrentUser(f):yield y.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Rs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var y;const A={"X-Client-Version":f.clientVersion};f.app.options.appId&&(A["X-Firebase-gmpid"]=f.app.options.appId);const Y=yield null===(y=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return Y&&(A["X-Firebase-Client"]=Y),A})()}}function kr(D){return(0,I.m9)(D)}class Yi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,I.ne)(y=>this.observer=y)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cs(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function vr(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class ui{constructor(f,y){this.providerId=f,this.signInMethod=y}toJSON(){return at("not implemented")}_getIdTokenResponse(f){return at("not implemented")}_linkToIdToken(f,y){return at("not implemented")}_getReauthenticationResolver(f){return at("not implemented")}}function ci(D,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:resetPassword",Ke(D,f))})).apply(this,arguments)}function rs(D,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function tr(D,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:update",Ke(D,f))})).apply(this,arguments)}function $i(){return($i=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithPassword",Ke(D,f))})).apply(this,arguments)}function di(D,f){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:sendOobCode",Ke(D,f))})).apply(this,arguments)}function Ar(D,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,a.Z)(function*(D,f){return di(D,f)})).apply(this,arguments)}function ji(D,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(D,f){return di(D,f)})).apply(this,arguments)}function to(D,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(D,f){return di(D,f)})).apply(this,arguments)}function xs(D,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,a.Z)(function*(D,f){return di(D,f)})).apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithEmailLink",Ke(D,f))})).apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithEmailLink",Ke(D,f))})).apply(this,arguments)}class go extends ui{constructor(f,y,A,Y=null){super("password",A),this._email=f,this._password=y,this._tenantId=Y}static _fromEmailAndPassword(f,y){return new go(f,y,"password")}static _fromEmailAndCode(f,y,A=null){return new go(f,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(f){var y=this;return(0,a.Z)(function*(){switch(y.signInMethod){case"password":return function Qi(D,f){return $i.apply(this,arguments)}(f,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function gi(D,f){return Is.apply(this,arguments)}(f,{email:y._email,oobCode:y._password});default:Ye(f,"internal-error")}})()}_linkToIdToken(f,y){var A=this;return(0,a.Z)(function*(){switch(A.signInMethod){case"password":return rs(f,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function po(D,f){return ri.apply(this,arguments)}(f,{idToken:y,email:A._email,oobCode:A._password});default:Ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _s(D,f){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithIdp",Ke(D,f))})).apply(this,arguments)}class Xe extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const y=new Xe(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(y.idToken=f.idToken),f.accessToken&&(y.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(y.nonce=f.nonce),f.pendingToken&&(y.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(y.accessToken=f.oauthToken,y.secret=f.oauthTokenSecret):Ye("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:Y}=y,se=(0,De._T)(y,["providerId","signInMethod"]);if(!A||!Y)return null;const Ze=new Xe(A,Y);return Ze.idToken=se.idToken||void 0,Ze.accessToken=se.accessToken||void 0,Ze.secret=se.secret,Ze.nonce=se.nonce,Ze.pendingToken=se.pendingToken||null,Ze}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,y){const A=this.buildRequest();return A.idToken=y,_s(f,A)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,_s(f,y)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),f.postBody=(0,I.xO)(y)}return f}}function Lt(D,f){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:sendVerificationCode",Ke(D,f))})).apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithPhoneNumber",Ke(D,f))})).apply(this,arguments)}function jr(){return(jr=(0,a.Z)(function*(D,f){const y=yield wr(D,"POST","/v1/accounts:signInWithPhoneNumber",Ke(D,f));if(y.temporaryProof)throw Ve(D,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Di={USER_NOT_FOUND:"user-not-found"};function Xi(){return(Xi=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithPhoneNumber",Ke(D,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Di)})).apply(this,arguments)}class Bi extends ui{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,y){return new Bi({verificationId:f,verificationCode:y})}static _fromTokenResponse(f,y){return new Bi({phoneNumber:f,temporaryProof:y})}_getIdTokenResponse(f){return function Nn(D,f){return Kn.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,y){return function Dr(D,f){return jr.apply(this,arguments)}(f,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Oi(D,f){return Xi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:y,verificationId:A,verificationCode:Y}=this.params;return f&&y?{temporaryProof:f,phoneNumber:y}:{sessionInfo:A,code:Y}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:y,verificationCode:A,phoneNumber:Y,temporaryProof:se}=f;return A||y||Y||se?new Bi({verificationId:y,verificationCode:A,phoneNumber:Y,temporaryProof:se}):null}}class ro{constructor(f){var y,A,Y,se,Ze,xt;const pn=(0,I.zd)((0,I.pd)(f)),Ln=null!==(y=pn.apiKey)&&void 0!==y?y:null,yr=null!==(A=pn.oobCode)&&void 0!==A?A:null,ar=function no(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=pn.mode)&&void 0!==Y?Y:null);ae(Ln&&yr&&ar,"argument-error"),this.apiKey=Ln,this.operation=ar,this.code=yr,this.continueUrl=null!==(se=pn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ze=pn.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(xt=pn.tenantId)&&void 0!==xt?xt:null}static parseLink(f){const y=function Ui(D){const f=(0,I.zd)((0,I.pd)(D)).link,y=f?(0,I.zd)((0,I.pd)(f)).deep_link_id:null,A=(0,I.zd)((0,I.pd)(D)).deep_link_id;return(A?(0,I.zd)((0,I.pd)(A)).link:null)||A||y||f||D}(f);try{return new ro(y)}catch{return null}}}let io=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(y,A){return go._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const Y=ro.parseLink(A);return ae(Y,"argument-error"),go._fromEmailAndCode(y,Y.code,Y.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Gs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Uo extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ks extends Uo{static credentialFromJSON(f){const y="string"==typeof f?JSON.parse(f):f;return ae("providerId"in y&&"signInMethod"in y,"argument-error"),Xe._fromParams(y)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ae(f.idToken||f.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ks.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ks.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:se,nonce:Ze,providerId:xt}=f;if(!A&&!Y&&!y&&!se||!xt)return null;try{return new ks(xt)._credential({idToken:y,accessToken:A,nonce:Ze,pendingToken:se})}catch{return null}}}let To=(()=>{class D extends Uo{constructor(){super("facebook.com")}static credential(y){return Xe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return D.credential(y.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Xo=(()=>{class D extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,A){return Xe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:A})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:A,oauthAccessToken:Y}=y;if(!A&&!Y)return null;try{return D.credential(A,Y)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),mo=(()=>{class D extends Uo{constructor(){super("github.com")}static credential(y){return Xe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return D.credential(y.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Fs extends ui{constructor(f,y){super(f,f),this.pendingToken=y}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,y){const A=this.buildRequest();return A.idToken=y,_s(f,A)}_getReauthenticationResolver(f){const y=this.buildRequest();return y.autoCreate=!1,_s(f,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f,{providerId:A,signInMethod:Y,pendingToken:se}=y;return A&&Y&&se&&A===Y?new Fs(A,se):null}static _create(f,y){return new Fs(f,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ds extends Gs{constructor(f){ae(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ds.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ds.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const y=Fs.fromJSON(f);return ae(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:y,providerId:A}=f;if(!y||!A)return null;try{return Fs._create(A,y)}catch{return null}}}let Ga=(()=>{class D extends Uo{constructor(){super("twitter.com")}static credential(y,A){return Xe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:A})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=y;if(!A||!Y)return null;try{return D.credential(A,Y)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function ea(D,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signUp",Ke(D,f))})).apply(this,arguments)}class Li{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,y,A,Y=!1){return(0,a.Z)(function*(){const se=yield Fn._fromIdTokenResponse(f,A,Y),Ze=ys(A);return new Li({user:se,providerId:Ze,_tokenResponse:A,operationType:y})})()}static _forOperation(f,y,A){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(A,!0);const Y=ys(A);return new Li({user:f,providerId:Y,_tokenResponse:A,operationType:y})})()}}function ys(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Vo(){return(Vo=(0,a.Z)(function*(D){var f;const y=kr(D);if(yield y._initializationPromise,null!==(f=y.currentUser)&&void 0!==f&&f.isAnonymous)return new Li({user:y.currentUser,providerId:null,operationType:"signIn"});const A=yield ea(y,{returnSecureToken:!0}),Y=yield Li._fromIdTokenResponse(y,"signIn",A,!0);return yield y._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class ga extends I.ZR{constructor(f,y,A,Y){var se;super(y.code,y.message),this.operationType=A,this.user=Y,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:f.name,tenantId:null!==(se=f.tenantId)&&void 0!==se?se:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(f,y,A,Y){return new ga(f,y,A,Y)}}function dr(D,f,y,A){return("reauthenticate"===f?y._getReauthenticationResolver(D):y._getIdTokenResponse(D)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?ga._fromErrorAndOperation(D,se,f,A):se})}function vs(D){return new Set(D.map(({providerId:f})=>f).filter(f=>!!f))}function Ls(){return(Ls=(0,a.Z)(function*(D,f){const y=(0,I.m9)(D);yield ss(!0,y,f);const{providerUserInfo:A}=yield dt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[f]}),Y=vs(A||[]);return y.providerData=y.providerData.filter(se=>Y.has(se.providerId)),Y.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function ma(D,f){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(D,f,y=!1){const A=yield zn(D,f._linkToIdToken(D.auth,yield D.getIdToken()),y);return Li._forOperation(D,"link",A)})).apply(this,arguments)}function ss(D,f,y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(D,f,y){yield Nr(f);const Y=!1===D?"provider-already-linked":"no-such-provider";ae(vs(f.providerData).has(y)===D,f.auth,Y)})).apply(this,arguments)}function Qa(D,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(D,f,y=!1){const{auth:A}=D,Y="reauthenticate";try{const se=yield zn(D,dr(A,Y,f,D),y);ae(se.idToken,A,"internal-error");const Ze=An(se.idToken);ae(Ze,A,"internal-error");const{sub:xt}=Ze;return ae(D.uid===xt,A,"user-mismatch"),Li._forOperation(D,Y,se)}catch(se){throw"auth/user-not-found"===se?.code&&Ye(A,"user-mismatch"),se}})).apply(this,arguments)}function oo(D,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(D,f,y=!1){const A="signIn",Y=yield dr(D,A,f),se=yield Li._fromIdTokenResponse(D,A,Y);return y||(yield D._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ti(D,f){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(D,f){return oo(kr(D),f)})).apply(this,arguments)}function Vr(D,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(D,f){const y=(0,I.m9)(D);return yield ss(!1,y,f.providerId),ma(y,f)})).apply(this,arguments)}function zi(D,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(D,f){return Qa((0,I.m9)(D),f)})).apply(this,arguments)}function ao(D,f){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(D,f){return wr(D,"POST","/v1/accounts:signInWithCustomToken",Ke(D,f))})).apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(D,f){const y=kr(D),A=yield ao(y,{token:f,returnSecureToken:!0}),Y=yield Li._fromIdTokenResponse(y,"signIn",A);return yield y._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class zs{constructor(f,y){this.factorId=f,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(f,y){return"phoneInfo"in y?Ho._fromServerResponse(f,y):Ye(f,"internal-error")}}class Ho extends zs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,y){return new Ho(y)}}function ra(D,f,y){var A;ae((null===(A=y.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),ae(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),f.continueUrl=y.url,f.dynamicLinkDomain=y.dynamicLinkDomain,f.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ae(y.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),f.iOSBundleId=y.iOS.bundleId),y.android&&(ae(y.android.packageName.length>0,D,"missing-android-pkg-name"),f.androidInstallApp=y.android.installApp,f.androidMinimumVersionCode=y.android.minimumVersion,f.androidPackageName=y.android.packageName)}function As(){return(As=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D),Y={requestType:"PASSWORD_RESET",email:f};y&&ra(A,Y,y),yield ji(A,Y)})).apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(D,f,y){yield ci((0,I.m9)(D),{oobCode:f,newPassword:y})})).apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(D,f){yield tr((0,I.m9)(D),{oobCode:f})})).apply(this,arguments)}function Mo(D,f){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(D,f){const y=(0,I.m9)(D),A=yield ci(y,{oobCode:f}),Y=A.requestType;switch(ae(Y,y,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(A.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(A.mfaInfo,y,"internal-error");default:ae(A.email,y,"internal-error")}let se=null;return A.mfaInfo&&(se=zs._fromServerResponse(kr(y),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:Y}})).apply(this,arguments)}function _a(){return(_a=(0,a.Z)(function*(D,f){const{data:y}=yield Mo((0,I.m9)(D),f);return y.email})).apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(D,f,y){const A=kr(D),Y=yield ea(A,{returnSecureToken:!0,email:f,password:y}),se=yield Li._fromIdTokenResponse(A,"signIn",Y);return yield A._updateCurrentUser(se.user),se})).apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D),Y={requestType:"EMAIL_SIGNIN",email:f};ae(y.handleCodeInApp,A,"argument-error"),y&&ra(A,Y,y),yield to(A,Y)})).apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D),Y=io.credentialWithLink(f,y||bt());return ae(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Ti(A,Y)})).apply(this,arguments)}function qr(D,f){return ii.apply(this,arguments)}function ii(){return(ii=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:createAuthUri",Ke(D,f))})).apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(D,f){const A={identifier:f,continueUri:st()?bt():"http://localhost"},{signinMethods:Y}=yield qr((0,I.m9)(D),A);return Y||[]})).apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(D,f){const y=(0,I.m9)(D),Y={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};f&&ra(y.auth,Y,f);const{email:se}=yield Ar(y.auth,Y);se!==D.email&&(yield D.reload())})).apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:f};y&&ra(A.auth,se,y);const{email:Ze}=yield xs(A.auth,se);Ze!==D.email&&(yield D.reload())})).apply(this,arguments)}function mr(D,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(D,f){return Jt(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(D,{displayName:f,photoURL:y}){if(void 0===f&&void 0===y)return;const A=(0,I.m9)(D),se={idToken:yield A.getIdToken(),displayName:f,photoUrl:y,returnSecureToken:!0},Ze=yield zn(A,mr(A.auth,se));A.displayName=Ze.displayName||null,A.photoURL=Ze.photoUrl||null;const xt=A.providerData.find(({providerId:pn})=>"password"===pn);xt&&(xt.displayName=A.displayName,xt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ze)})).apply(this,arguments)}function za(D,f,y){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(D,f,y){const{auth:A}=D,se={idToken:yield D.getIdToken(),returnSecureToken:!0};f&&(se.email=f),y&&(se.password=y);const Ze=yield zn(D,rs(A,se));yield D._updateTokensIfNecessary(Ze,!0)})).apply(this,arguments)}class Ws{constructor(f,y,A={}){this.isNewUser=f,this.providerId=y,this.profile=A}}class xa extends Ws{constructor(f,y,A,Y){super(f,y,A),this.username=Y}}class Wa extends Ws{constructor(f,y){super(f,"facebook.com",y)}}class oa extends xa{constructor(f,y){super(f,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class ka extends Ws{constructor(f,y){super(f,"google.com",y)}}class aa extends xa{constructor(f,y,A){super(f,"twitter.com",y,A)}}function Zs(D){const{user:f,_tokenResponse:y}=D;return f.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ja(D){var f,y;if(!D)return null;const{providerId:A}=D,Y=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},se=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&D?.idToken){const Ze=null===(y=null===(f=An(D.idToken))||void 0===f?void 0:f.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ze)return new Ws(se,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!A)return null;switch(A){case"facebook.com":return new Wa(se,Y);case"github.com":return new oa(se,Y);case"google.com":return new ka(se,Y);case"twitter.com":return new aa(se,Y,D.screenName||null);case"custom":case"anonymous":return new Ws(se,null);default:return new Ws(se,A,Y)}}(y)}class ua{constructor(f,y,A){this.type=f,this.credential=y,this.auth=A}static _fromIdtoken(f,y){return new ua("enroll",f,y)}static _fromMfaPendingCredential(f){return new ua("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var y,A;if(f?.multiFactorSession){if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ua._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(A=f.multiFactorSession)&&void 0!==A&&A.idToken)return ua._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Xa{constructor(f,y,A){this.session=f,this.hints=y,this.signInResolver=A}static _fromError(f,y){const A=kr(f),Y=y.customData._serverResponse,se=(Y.mfaInfo||[]).map(xt=>zs._fromServerResponse(A,xt));ae(Y.mfaPendingCredential,A,"internal-error");const Ze=ua._fromMfaPendingCredential(Y.mfaPendingCredential);return new Xa(Ze,se,function(){var xt=(0,a.Z)(function*(pn){const Ln=yield pn._process(A,Ze);delete Y.mfaInfo,delete Y.mfaPendingCredential;const yr=Object.assign(Object.assign({},Y),{idToken:Ln.idToken,refreshToken:Ln.refreshToken});switch(y.operationType){case"signIn":const ar=yield Li._fromIdTokenResponse(A,y.operationType,yr);return yield A._updateCurrentUser(ar.user),ar;case"reauthenticate":return ae(y.user,A,"internal-error"),Li._forOperation(y.user,y.operationType,yr);default:Ye(A,"internal-error")}});return function(pn){return xt.apply(this,arguments)}}())}resolveSignIn(f){var y=this;return(0,a.Z)(function*(){return y.signInResolver(f)})()}}function Bl(D,f){return Jt(D,"POST","/v2/accounts/mfaEnrollment:start",Ke(D,f))}class Fa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(A=>zs._fromServerResponse(f.auth,A)))})}static _fromUser(f){return new Fa(f)}getSession(){var f=this;return(0,a.Z)(function*(){return ua._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,y){var A=this;return(0,a.Z)(function*(){const Y=f,se=yield A.getSession(),Ze=yield zn(A.user,Y._process(A.user.auth,se,y));return yield A.user._updateTokensIfNecessary(Ze),A.user.reload()})()}unenroll(f){var y=this;return(0,a.Z)(function*(){const A="string"==typeof f?f:f.uid,Y=yield y.user.getIdToken();try{const se=yield zn(y.user,function cl(D,f){return Jt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(D,f))}(y.user.auth,{idToken:Y,mfaEnrollmentId:A}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ze})=>Ze!==A),yield y.user._updateTokensIfNecessary(se),yield y.user.reload()}catch(se){throw se}})()}}const ba=new WeakMap,K="__sak";class V{constructor(f,y){this.storageRetriever=f,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(K,"1"),this.storage.removeItem(K),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,y){return this.storage.setItem(f,JSON.stringify(y)),Promise.resolve()}_get(f){const y=this.storage.getItem(f);return Promise.resolve(y?JSON.parse(y):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dn=(()=>{class D extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ne(){const D=(0,I.z$)();return qn(D)||ze(D)}()&&function Jr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ai(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),se=this.localCache[A];Y!==se&&y(A,se,Y)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((xt,pn,Ln)=>{this.notifyListeners(xt,Ln)});const Y=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xt=this.storage.getItem(Y);if(y.newValue!==xt)null!==y.newValue?this.storage.setItem(Y,y.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===y.newValue&&!A)return}const se=()=>{const xt=this.storage.getItem(Y);!A&&this.localCache[Y]===xt||this.notifyListeners(Y,xt)},Ze=this.storage.getItem(Y);!function Mn(){return(0,I.w1)()&&10===document.documentMode}()||Ze===y.newValue||y.newValue===y.oldValue?se():setTimeout(se,10)}notifyListeners(y,A){this.localCache[y]=A;const Y=this.listeners[y];if(Y)for(const se of Array.from(Y))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var Y=()=>super._set,se=this;return(0,a.Z)(function*(){yield Y().call(se,y,A),se.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,Y=this;return(0,a.Z)(function*(){const se=yield A().call(Y,y);return Y.localCache[y]=JSON.stringify(se),se})()}_remove(y){var A=()=>super._remove,Y=this;return(0,a.Z)(function*(){yield A().call(Y,y),delete Y.localCache[y]})()}}return D.type="LOCAL",D})(),Tr=(()=>{class D extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return D.type="SESSION",D})();let gn=(()=>{class D{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(se=>se.isListeningto(y));if(A)return A;const Y=new D(y);return this.receivers.push(Y),Y}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,a.Z)(function*(){const Y=y,{eventId:se,eventType:Ze,data:xt}=Y.data,pn=A.handlersMap[Ze];if(!pn?.size)return;Y.ports[0].postMessage({status:"ack",eventId:se,eventType:Ze});const Ln=Array.from(pn).map(function(){var ar=(0,a.Z)(function*(Ys){return Ys(Y.origin,xt)});return function(Ys){return ar.apply(this,arguments)}}()),yr=yield function mt(D){return Promise.all(D.map(function(){var f=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return f.apply(this,arguments)}}()))}(Ln);Y.ports[0].postMessage({status:"done",eventId:se,eventType:Ze,response:yr})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Cr(D="",f=10){let y="";for(let A=0;A<f;A++)y+=Math.floor(10*Math.random());return D+y}class Gr{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,y,A=50){var Y=this;return(0,a.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ze,xt;return new Promise((pn,Ln)=>{const yr=Cr("",20);se.port1.start();const ar=setTimeout(()=>{Ln(new Error("unsupported_event"))},A);xt={messageChannel:se,onMessage(Ys){const yl=Ys;if(yl.data.eventId===yr)switch(yl.data.status){case"ack":clearTimeout(ar),Ze=setTimeout(()=>{Ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),pn(yl.data.response);break;default:clearTimeout(ar),clearTimeout(Ze),Ln(new Error("invalid_response"))}}},Y.handlers.add(xt),se.port1.addEventListener("message",xt.onMessage),Y.target.postMessage({eventType:f,eventId:yr,data:y},[se.port2])}).finally(()=>{xt&&Y.removeMessageHandler(xt)})})()}}function zt(){return window}function li(){return typeof zt().WorkerGlobalScope<"u"&&"function"==typeof zt().importScripts}function ht(){return(ht=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const W="firebaseLocalStorageDb",m="firebaseLocalStorage",C="fbase_key";class ${constructor(f){this.request=f}toPromise(){return new Promise((f,y)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function J(D,f){return D.transaction([m],f?"readwrite":"readonly").objectStore(m)}function Se(){const D=indexedDB.open(W,1);return new Promise((f,y)=>{D.addEventListener("error",()=>{y(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(m,{keyPath:C})}catch(Y){y(Y)}}),D.addEventListener("success",(0,a.Z)(function*(){const A=D.result;A.objectStoreNames.contains(m)?f(A):(A.close(),yield function fe(){const D=indexedDB.deleteDatabase(W);return new $(D).toPromise()}(),f(yield Se()))}))})}function de(D,f,y){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(D,f,y){const A=J(D,!0).put({[C]:f,value:y});return new $(A).toPromise()})).apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(D,f){const y=J(D,!1).get(f),A=yield new $(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Gn(D,f){const y=J(D,!0).delete(f);return new $(y).toPromise()}const br=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield Se()),y.db})()}_withRetries(y){var A=this;return(0,a.Z)(function*(){let Y=0;for(;;)try{const se=yield A._openDb();return yield y(se)}catch(se){if(Y++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return li()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=gn._getInstance(function Wr(){return li()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,a.Z)(function*(Y,se){return{keyProcessed:(yield y._poll()).includes(se.key)}});return function(Y,se){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,a.Z)(function*(Y,se){return["keyChanged"]});return function(Y,se){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var A,Y;if(y.activeServiceWorker=yield function an(){return ht.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Gr(y.activeServiceWorker);const se=yield y.sender._send("ping",{},800);se&&null!==(A=se[0])&&void 0!==A&&A.fulfilled&&null!==(Y=se[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,a.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Ht(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Se();return yield de(y,K,"1"),yield Gn(y,K),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,a.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var Y=this;return(0,a.Z)(function*(){return Y._withPendingWrite((0,a.Z)(function*(){return yield Y._withRetries(se=>de(se,y,A)),Y.localCache[y]=A,Y.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,a.Z)(function*(){const Y=yield A._withRetries(se=>function $t(D,f){return Ot.apply(this,arguments)}(se,y));return A.localCache[y]=Y,Y})()}_remove(y){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(Y=>Gn(Y,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const A=yield y._withRetries(Ze=>{const xt=J(Ze,!1).getAll();return new $(xt).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const Y=[],se=new Set;for(const{fbase_key:Ze,value:xt}of A)se.add(Ze),JSON.stringify(y.localCache[Ze])!==JSON.stringify(xt)&&(y.notifyListeners(Ze,xt),Y.push(Ze));for(const Ze of Object.keys(y.localCache))y.localCache[Ze]&&!se.has(Ze)&&(y.notifyListeners(Ze,null),Y.push(Ze));return Y})()}notifyListeners(y,A){this.localCache[y]=A;const Y=this.listeners[y];if(Y)for(const se of Array.from(Y))se(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Cn(D,f){return Jt(D,"POST","/v2/accounts/mfaSignIn:start",Ke(D,f))}function Rt(){return(Rt=(0,a.Z)(function*(D){return(yield Jt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function si(D){return new Promise((f,y)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=f,A.onerror=Y=>{const se=ge("internal-error");se.customData=Y,y(se)},A.type="text/javascript",A.charset="UTF-8",function hr(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(A)})}function mi(D){return`__${D}${Math.floor(1e6*Math.random())}`}const ei=1e12;class Hs{constructor(f){this.auth=f,this.counter=ei,this._widgets=new Map}render(f,y){const A=this.counter;return this._widgets.set(A,new vo(f,this.auth.name,y||{})),this.counter++,A}reset(f){var y;const A=f||ei;null===(y=this._widgets.get(A))||void 0===y||y.delete(),this._widgets.delete(A)}getResponse(f){var y;return(null===(y=this._widgets.get(f||ei))||void 0===y?void 0:y.getResponse())||""}execute(f){var y=this;return(0,a.Z)(function*(){var A;return null===(A=y._widgets.get(f||ei))||void 0===A||A.execute(),""})()}}class vo{constructor(f,y,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof f?document.getElementById(f):f;ae(Y,"argument-error",{appName:y}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $s(D){const f=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<D;A++)f.push(y.charAt(Math.floor(Math.random()*y.length)));return f.join("")}(50);const{callback:f,"expired-callback":y}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ns=mi("rcb"),dl=new Yt(3e4,6e4);class Zn{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=zt().grecaptcha)||void 0===f||!f.render)}load(f,y=""){return ae(function Wn(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(y),f,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(zt().grecaptcha):new Promise((A,Y)=>{const se=zt().setTimeout(()=>{Y(ge(f,"network-request-failed"))},dl.get());zt()[Ns]=()=>{zt().clearTimeout(se),delete zt()[Ns];const xt=zt().grecaptcha;if(!xt)return void Y(ge(f,"internal-error"));const pn=xt.render;xt.render=(Ln,yr)=>{const ar=pn(Ln,yr);return this.counter++,ar},this.hostLanguage=y,A(xt)},si(`https://www.google.com/recaptcha/api.js??${(0,I.xO)({onload:Ns,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(se),Y(ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var y;return!(null===(y=zt().grecaptcha)||void 0===y||!y.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _r{load(f){return(0,a.Z)(function*(){return new Hs(f)})()}clearedOneInstance(){}}const tt="recaptcha",ho={theme:"light",type:"image"};class Ii{constructor(f,y=Object.assign({},ho),A){this.parameters=y,this.type=tt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kr(A),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof f?document.getElementById(f):f;ae(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _r:new Zn,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const y=yield f.render(),A=f.getAssertedRecaptcha();return A.getResponse(y)||new Promise(se=>{const Ze=xt=>{xt&&(f.tokenChangeListeners.delete(Ze),se(xt))};f.tokenChangeListeners.add(Ze),f.isInvisible&&A.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return y=>{if(this.tokenChangeListeners.forEach(A=>A(y)),"function"==typeof f)f(y);else if("string"==typeof f){const A=zt()[f];"function"==typeof A&&A(y)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let y=f.container;if(!f.isInvisible){const A=document.createElement("div");y.appendChild(A),y=A}f.widgetId=f.getAssertedRecaptcha().render(y,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){ae(st()&&!li(),f.auth,"internal-error"),yield function La(){let D=null;return new Promise(f=>{"complete"!==document.readyState?(D=()=>f(),window.addEventListener("load",D)):f()}).catch(f=>{throw D&&window.removeEventListener("load",D),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const y=yield function or(D){return Rt.apply(this,arguments)}(f.auth);ae(y,f.auth,"internal-error"),f.parameters.sitekey=y})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pr{constructor(f,y){this.verificationId=f,this.onConfirmation=y}confirm(f){const y=Bi._fromVerification(this.verificationId,f);return this.onConfirmation(y)}}function Vl(){return(Vl=(0,a.Z)(function*(D,f,y){const A=kr(D),Y=yield hl(A,f,(0,I.m9)(y));return new pr(Y,se=>Ti(A,se))})).apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D);yield ss(!1,A,"phone");const Y=yield hl(A.auth,f,(0,I.m9)(y));return new pr(Y,se=>Vr(A,se))})).apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D),Y=yield hl(A.auth,f,(0,I.m9)(y));return new pr(Y,se=>zi(A,se))})).apply(this,arguments)}function hl(D,f,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(D,f,y){var A;const Y=yield y.verify();try{let se;if(ae("string"==typeof Y,D,"argument-error"),ae(y.type===tt,D,"argument-error"),se="string"==typeof f?{phoneNumber:f}:f,"session"in se){const Ze=se.session;if("phoneNumber"in se)return ae("enroll"===Ze.type,D,"internal-error"),(yield Bl(D,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ae("signin"===Ze.type,D,"internal-error");const xt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return ae(xt,D,"missing-multi-factor-info"),(yield Cn(D,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:xt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield Lt(D,{phoneNumber:se.phoneNumber,recaptchaToken:Y});return Ze}}finally{y._reset()}})).apply(this,arguments)}function Za(){return(Za=(0,a.Z)(function*(D,f){yield ma((0,I.m9)(D),f)})).apply(this,arguments)}let Hl=(()=>{class D{constructor(y){this.providerId=D.PROVIDER_ID,this.auth=kr(y)}verifyPhoneNumber(y,A){return hl(this.auth,y,(0,I.m9)(A))}static credential(y,A){return Bi._fromVerification(y,A)}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:A,temporaryProof:Y}=y;return A&&Y?Bi._fromTokenResponse(A,Y):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _i(D,f){return f?rn(f):(ae(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class bl extends ui{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _s(f,this._buildIdpRequest())}_linkToIdToken(f,y){return _s(f,this._buildIdpRequest(y))}_getReauthenticationResolver(f){return _s(f,this._buildIdpRequest())}_buildIdpRequest(f){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(y.idToken=f),y}}function Ua(D){return oo(D.auth,new bl(D),D.bypassAuthState)}function Ea(D){const{auth:f,user:y}=D;return ae(y,f,"internal-error"),Qa(y,new bl(D),D.bypassAuthState)}function Eo(D){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(D){const{auth:f,user:y}=D;return ae(y,f,"internal-error"),ma(y,new bl(D),D.bypassAuthState)})).apply(this,arguments)}class T{constructor(f,y,A,Y,se=!1){this.auth=f,this.resolver=A,this.user=Y,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var f=this;return new Promise(function(){var y=(0,a.Z)(function*(A,Y){f.pendingPromise={resolve:A,reject:Y};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(se){f.reject(se)}});return function(A,Y){return y.apply(this,arguments)}}())}onAuthEvent(f){var y=this;return(0,a.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:se,tenantId:Ze,error:xt,type:pn}=f;if(xt)return void y.reject(xt);const Ln={auth:y.auth,requestUri:A,sessionId:Y,tenantId:Ze||void 0,postBody:se||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(pn)(Ln))}catch(yr){y.reject(yr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ua;case"linkViaPopup":case"linkViaRedirect":return Eo;case"reauthViaPopup":case"reauthViaRedirect":return Ea;default:Ye(this.auth,"internal-error")}}resolve(f){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const N=new Yt(2e3,1e4);function P(){return(P=(0,a.Z)(function*(D,f,y){const A=kr(D);yt(D,f,Gs);const Y=_i(A,y);return new Ut(A,"signInViaPopup",f,Y).executeNotNull()})).apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D);yt(A.auth,f,Gs);const Y=_i(A.auth,y);return new Ut(A.auth,"reauthViaPopup",f,Y,A).executeNotNull()})).apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D);yt(A.auth,f,Gs);const Y=_i(A.auth,y);return new Ut(A.auth,"linkViaPopup",f,Y,A).executeNotNull()})).apply(this,arguments)}let Ut=(()=>{class D extends T{constructor(y,A,Y,se,Ze){super(y,A,se,Ze),this.provider=Y,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const A=yield y.execute();return ae(A,y.auth,"internal-error"),A})()}onExecution(){var y=this;return(0,a.Z)(function*(){pt(1===y.filter.length,"Popup operations only handle one event");const A=Cr();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],A),y.authWindow.associatedEvent=A,y.resolver._originValidation(y.auth).catch(Y=>{y.reject(Y)}),y.resolver._isIframeWebStorageSupported(y.auth,Y=>{Y||y.reject(ge(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const y=()=>{var A,Y;this.pollId=null!==(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,N.get())};y()}}return D.currentPopupAction=null,D})();const Sn=new Map;class Lr extends T{constructor(f,y,A=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var f=()=>super.execute,y=this;return(0,a.Z)(function*(){let A=Sn.get(y.auth._key());if(!A){try{const se=(yield function as(D,f){return Zi.apply(this,arguments)}(y.resolver,y.auth))?yield f().call(y):null;A=()=>Promise.resolve(se)}catch(Y){A=()=>Promise.reject(Y)}Sn.set(y.auth._key(),A)}return y.bypassAuthState||Sn.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(f){var y=()=>super.onAuthEvent,A=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return y().call(A,f);if("unknown"!==f.type){if(f.eventId){const Y=yield A.auth._redirectUserForId(f.eventId);if(Y)return A.user=Y,y().call(A,f);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Zi(){return(Zi=(0,a.Z)(function*(D,f){const y=Ha(f),A=da(D);if(!(yield A._isAvailable()))return!1;const Y="true"===(yield A._get(y));return yield A._remove(y),Y})).apply(this,arguments)}function ca(D,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(D,f){return da(D)._set(Ha(f),"true")})).apply(this,arguments)}function Va(D,f){Sn.set(D._key(),f)}function da(D){return rn(D._redirectPersistence)}function Ha(D){return ke("pendingRedirect",D.config.apiKey,D.name)}function U(){return(U=(0,a.Z)(function*(D,f,y){const A=kr(D);yt(D,f,Gs),yield A._initializationPromise;const Y=_i(A,y);return yield ca(Y,A),Y._openRedirect(A,f,"signInViaRedirect")})).apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D);yt(A.auth,f,Gs),yield A.auth._initializationPromise;const Y=_i(A.auth,y);yield ca(Y,A.auth);const se=yield yn(A);return Y._openRedirect(A.auth,f,"reauthViaRedirect",se)})).apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(D,f,y){const A=(0,I.m9)(D);yt(A.auth,f,Gs),yield A.auth._initializationPromise;const Y=_i(A.auth,y);yield ss(!1,A,f.providerId),yield ca(Y,A.auth);const se=yield yn(A);return Y._openRedirect(A.auth,f,"linkViaRedirect",se)})).apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(D,f){return yield kr(D)._initializationPromise,Jn(D,f,!1)})).apply(this,arguments)}function Jn(D,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(D,f,y=!1){const A=kr(D),Y=_i(A,f),Ze=yield new Lr(A,Y,y).execute();return Ze&&!y&&(delete Ze.user._redirectEventId,yield A._persistUserIfCurrent(Ze.user),yield A._setRedirectUser(null,f)),Ze})).apply(this,arguments)}function yn(D){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(D){const f=Cr(`${D.uid}:::`);return D._redirectEventId=f,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),f})).apply(this,arguments)}class El{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(f,A)&&(y=!0,this.sendToConsumer(f,A),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ha(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=f,y=!0)),y}sendToConsumer(f,y){var A;if(f.error&&!wl(f)){const Y=(null===(A=f.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(ge(this.auth,Y))}else y.onAuthEvent(f)}isEventForConsumer(f,y){const A=null===y.eventId||!!f.eventId&&f.eventId===y.eventId;return y.filter.includes(f.type)&&A}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ru(f))}saveEventToCache(f){this.cachedEventUids.add(ru(f)),this.lastProcessedEventTime=Date.now()}}function ru(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function wl({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===f?.code}function qa(D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.Z)(function*(D,f={}){return Jt(D,"GET","/v1/projects",f)})).apply(this,arguments)}const Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dh=/^https?/;function Sh(){return(Sh=(0,a.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield qa(D);for(const y of f)try{if(Ld(y))return}catch{}Ye(D,"unauthorized-domain")})).apply(this,arguments)}function Ld(D){const f=bt(),{protocol:y,hostname:A}=new URL(f);if(D.startsWith("chrome-extension://")){const Ze=new URL(D);return""===Ze.hostname&&""===A?"chrome-extension:"===y&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===y&&Ze.hostname===A}if(!Dh.test(y))return!1;if(Ic.test(D))return A===D;const Y=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const Lp=new Yt(3e4,6e4);function Bd(){const D=zt().___jsl;if(D?.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let y=0;y<D.CP.length;y++)D.CP[y]=null}let Yu=null;function Ac(D){return Yu=Yu||function Nf(D){return new Promise((f,y)=>{var A,Y,se;function Ze(){Bd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bd(),y(ge(D,"network-request-failed"))},timeout:Lp.get()})}if(null!==(Y=null===(A=zt().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Y&&Y.Iframe)f(gapi.iframes.getContext());else{if(null===(se=zt().gapi)||void 0===se||!se.load){const xt=mi("iframefcb");return zt()[xt]=()=>{gapi.load?Ze():y(ge(D,"network-request-failed"))},si(`https://apis.google.com/js/api.js?onload=${xt}`).catch(pn=>y(pn))}Ze()}}).catch(f=>{throw Yu=null,f})}(D),Yu}const Bp=new Yt(5e3,15e3),wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Of(D){const f=D.config;ae(f.authDomain,D,"auth-domain-config-required");const y=f.emulator?Ue(f,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:f.apiKey,appName:D.name,v:pe.SDK_VERSION},Y=ls.get(D.config.apiHost);Y&&(A.eid=Y);const se=D._getFrameworks();return se.length&&(A.fw=se.join(",")),`${y}?${(0,I.xO)(A).slice(1)}`}function Da(){return Da=(0,a.Z)(function*(D){const f=yield Ac(D),y=zt().gapi;return ae(y,D,"internal-error"),f.open({where:document.body,url:Of(D),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},A=>new Promise(function(){var Y=(0,a.Z)(function*(se,Ze){yield A.restyle({setHideOnLeave:!1});const xt=ge(D,"network-request-failed"),pn=zt().setTimeout(()=>{Ze(xt)},Bp.get());function Ln(){zt().clearTimeout(pn),se(A)}A.ping(Ln).then(Ln,()=>{Ze(xt)})});return function(se,Ze){return Y.apply(this,arguments)}}()))}),Da.apply(this,arguments)}const Zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _u(D,f,y,A,Y,se){ae(D.config.authDomain,D,"auth-domain-config-required"),ae(D.config.apiKey,D,"invalid-api-key");const Ze={apiKey:D.config.apiKey,appName:D.name,authType:y,redirectUrl:A,v:pe.SDK_VERSION,eventId:Y};if(f instanceof Gs){f.setDefaultLanguage(D.languageCode),Ze.providerId=f.providerId||"",(0,I.xb)(f.getCustomParameters())||(Ze.customParameters=JSON.stringify(f.getCustomParameters()));for(const[pn,Ln]of Object.entries(se||{}))Ze[pn]=Ln}if(f instanceof Uo){const pn=f.getScopes().filter(Ln=>""!==Ln);pn.length>0&&(Ze.scopes=pn.join(","))}D.tenantId&&(Ze.tid=D.tenantId);const xt=Ze;for(const pn of Object.keys(xt))void 0===xt[pn]&&delete xt[pn];return`${function fl({config:D}){return D.emulator?Ue(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,I.xO)(xt).slice(1)}`}const Nc="webStorageSupport",Ou=class Nu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tr,this._completeRedirectFn=Jn,this._overrideRedirectResult=Va}_openPopup(f,y,A,Y){var se=this;return(0,a.Z)(function*(){var Ze;pt(null===(Ze=se.eventManagers[f._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const xt=_u(f,y,A,bt(),Y);return function Mc(D,f,y,A=500,Y=600){const se=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ze=Math.max((window.screen.availWidth-A)/2,0).toString();let xt="";const pn=Object.assign(Object.assign({},Zo),{width:A.toString(),height:Y.toString(),top:se,left:Ze}),Ln=(0,I.z$)().toLowerCase();y&&(xt=Hn(Ln)?"_blank":y),fn(Ln)&&(f=f||"http://localhost",pn.scrollbars="yes");const yr=Object.entries(pn).reduce((Ys,[yl,kc])=>`${Ys}${yl}=${kc},`,"");if(function sn(D=(0,I.z$)()){var f;return ze(D)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ln)&&"_self"!==xt)return function $a(D,f){const y=document.createElement("a");y.href=D,y.target=f;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(f||"",xt),new xo(null);const ar=window.open(f||"",xt,yr);ae(ar,D,"popup-blocked");try{ar.focus()}catch{}return new xo(ar)}(f,xt,Cr())})()}_openRedirect(f,y,A,Y){var se=this;return(0,a.Z)(function*(){return yield se._originValidation(f),function _n(D){zt().location.href=D}(_u(f,y,A,bt(),Y)),new Promise(()=>{})})()}_initialize(f){const y=f._key();if(this.eventManagers[y]){const{manager:Y,promise:se}=this.eventManagers[y];return Y?Promise.resolve(Y):(pt(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(f);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(f){var y=this;return(0,a.Z)(function*(){const A=yield function Qu(D){return Da.apply(this,arguments)}(f),Y=new El(f);return A.register("authEvent",se=>(ae(se?.authEvent,f,"invalid-auth-event"),{status:Y.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[f._key()]={manager:Y},y.iframes[f._key()]=A,Y})()}_isIframeWebStorageSupported(f,y){this.iframes[f._key()].send(Nc,{type:Nc},Y=>{var se;const Ze=null===(se=Y?.[0])||void 0===se?void 0:se[Nc];void 0!==Ze&&y(!!Ze),Ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const y=f._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Fd(D){return Sh.apply(this,arguments)}(f)),this.originValidationPromises[y]}get _shouldInitProactively(){return ai()||qn()||ze()}};class Vd{constructor(f){this.factorId=f}_process(f,y,A){switch(y.type){case"enroll":return this._finalizeEnroll(f,y.credential,A);case"signin":return this._finalizeSignIn(f,y.credential);default:return at("unexpected MultiFactorSessionType")}}}class Sl extends Vd{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Sl(f)}_finalizeEnroll(f,y,A){return function Ul(D,f){return Jt(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(D,f))}(f,{idToken:y,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,y){return function Ci(D,f){return Jt(D,"POST","/v2/accounts/mfaSignIn:finalize",Ke(D,f))}(f,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wo=(()=>{class D{constructor(){}static assertion(y){return Sl._fromCredential(y)}}return D.FACTOR_ID="phone",D})();var pl="@firebase/auth";class Xu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const y=this.auth.onIdTokenChanged(A=>{f(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,y),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const y=this.internalListeners.get(f);y&&(this.internalListeners.delete(f),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gl(){return window}function id(){return(id=(0,a.Z)(function*(D,f,y){var A;const{BuildInfo:Y}=gl();pt(f.sessionId,"AuthEvent did not contain a session ID");const se=yield Ih(f.sessionId),Ze={};return ze()?Ze.ibi=Y.packageName:Ne()?Ze.apn=Y.packageName:Ye(D,"operation-not-supported-in-this-environment"),Y.displayName&&(Ze.appDisplayName=Y.displayName),Ze.sessionId=se,_u(D,y,f.type,void 0,null!==(A=f.eventId)&&void 0!==A?A:void 0,Ze)})).apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(D){const{BuildInfo:f}=gl(),y={};ze()?y.iosBundleId=f.packageName:Ne()?y.androidPackageName=f.packageName:Ye(D,"operation-not-supported-in-this-environment"),yield qa(D,y)})).apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(D,f,y){const{cordova:A}=gl();let Y=()=>{};try{yield new Promise((se,Ze)=>{let xt=null;function pn(){var ar;se();const Ys=null===(ar=A.plugins.browsertab)||void 0===ar?void 0:ar.close;"function"==typeof Ys&&Ys(),"function"==typeof y?.close&&y.close()}function Ln(){xt||(xt=window.setTimeout(()=>{Ze(ge(D,"redirect-cancelled-by-user"))},2e3))}function yr(){"visible"===document?.visibilityState&&Ln()}f.addPassiveListener(pn),document.addEventListener("resume",Ln,!1),Ne()&&document.addEventListener("visibilitychange",yr,!1),Y=()=>{f.removePassiveListener(pn),document.removeEventListener("resume",Ln,!1),document.removeEventListener("visibilitychange",yr,!1),xt&&window.clearTimeout(xt)}})}finally{Y()}})).apply(this,arguments)}function Ih(D){return Il.apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(D){const f=od(D),y=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(y)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function od(D){if(pt(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const f=new ArrayBuffer(D.length),y=new Uint8Array(f);for(let A=0;A<D.length;A++)y[A]=D.charCodeAt(A);return y}(0,I.Pz)("authIdTokenMaxAge"),function $l(D){(0,pe._registerComponent)(new je.wA("auth",(f,{options:y})=>{const A=f.getProvider("app").getImmediate(),Y=f.getProvider("heartbeat"),{apiKey:se,authDomain:Ze}=A.options;return((xt,pn)=>{ae(se&&!se.includes(":"),"invalid-api-key",{appName:xt.name}),ae(!Ze?.includes(":"),"argument-error",{appName:xt.name});const Ln={apiKey:se,authDomain:Ze,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rs(D)},yr=new Cs(xt,pn,Ln);return function ct(D,f){const y=f?.persistence||[],A=(Array.isArray(y)?y:[y]).map(rn);f?.errorMap&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(A,f?.popupRedirectResolver)}(yr,y),yr})(A,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,y,A)=>{f.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new je.wA("auth-internal",f=>{const y=kr(f.getProvider("auth").getImmediate());return new Xu(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(pl,"0.21.3",function Do(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,pe.registerVersion)(pl,"0.21.3","esm2017")}("Browser");class ku extends El{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function Ah(D){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,a.Z)(function*(D){const f=yield ou()._get(tc(D));return f&&(yield ou()._remove(tc(D))),f})).apply(this,arguments)}function xc(){const D=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const A=Math.floor(Math.random()*f.length);D.push(f.charAt(A))}return D.join("")}function ou(){return rn(Dn)}function tc(D){return ke("authEvent",D.config.apiKey,D.name)}function nc(D){if(!D?.includes("?"))return{};const[f,...y]=D.split("?");return(0,I.zd)(y.join("?"))}const el=class Fu{constructor(){this._redirectPersistence=Tr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jn,this._overrideRedirectResult=Va}_initialize(f){var y=this;return(0,a.Z)(function*(){const A=f._key();let Y=y.eventManagers.get(A);return Y||(Y=new ku(f),y.eventManagers.set(A,Y),y.attachCallbackListeners(f,Y)),Y})()}_openPopup(f){Ye(f,"operation-not-supported-in-this-environment")}_openRedirect(f,y,A,Y){var se=this;return(0,a.Z)(function*(){!function Pu(D){var f,y,A,Y,se,Ze,xt,pn,Ln,yr;const ar=gl();ae("function"==typeof(null===(f=ar?.universalLinks)||void 0===f?void 0:f.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(y=ar?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(se=null===(Y=null===(A=ar?.cordova)||void 0===A?void 0:A.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===se?void 0:se.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(pn=null===(xt=null===(Ze=ar?.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===pn?void 0:pn.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(yr=null===(Ln=ar?.cordova)||void 0===Ln?void 0:Ln.InAppBrowser)||void 0===yr?void 0:yr.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Ze=yield se._initialize(f);yield Ze.initialized(),Ze.resetRedirect(),function Po(){Sn.clear()}(),yield se._originValidation(f);const xt=function ad(D,f,y=null){return{type:f,eventId:y,urlResponse:null,sessionId:xc(),postBody:null,tenantId:D.tenantId,error:ge(D,"no-auth-event")}}(f,A,Y);yield function ec(D,f){return ou()._set(tc(D),f)}(f,xt);const pn=yield function Oc(D,f,y){return id.apply(this,arguments)}(f,xt,y),Ln=yield function $d(D){const{cordova:f}=gl();return new Promise(y=>{f.plugins.browsertab.isAvailable(A=>{let Y=null;A?f.plugins.browsertab.openUrl(D):Y=f.InAppBrowser.open(D,function jt(D=(0,I.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),y(Y)})})}(pn);return function Ch(D,f,y){return ml.apply(this,arguments)}(f,Ze,Ln)})()}_isIframeWebStorageSupported(f,y){throw new Error("Method not implemented.")}_originValidation(f){const y=f._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function sd(D){return Rc.apply(this,arguments)}(f)),this.originValidationPromises[y]}attachCallbackListeners(f,y){const{universalLinks:A,handleOpenURL:Y,BuildInfo:se}=gl(),Ze=setTimeout((0,a.Z)(function*(){yield Ah(f),y.onEvent(jl())}),500),xt=function(){var yr=(0,a.Z)(function*(ar){clearTimeout(Ze);const Ys=yield Ah(f);let yl=null;Ys&&ar?.url&&(yl=function ms(D,f){var y,A;const Y=function au(D){const f=nc(D),y=f.link?decodeURIComponent(f.link):void 0,A=nc(y).link,Y=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return nc(Y).link||Y||A||y||D}(f);if(Y.includes("/__/auth/callback")){const se=nc(Y),Ze=se.firebaseError?function jd(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,xt=null===(A=null===(y=Ze?.code)||void 0===y?void 0:y.split("auth/"))||void 0===A?void 0:A[1],pn=xt?ge(xt):null;return pn?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:Y,postBody:null}}return null}(Ys,ar.url)),y.onEvent(yl||jl())});return function(Ys){return yr.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,xt);const pn=Y,Ln=`${se.packageName.toLowerCase()}://`;gl().handleOpenURL=function(){var yr=(0,a.Z)(function*(ar){if(ar.toLowerCase().startsWith(Ln)&&xt({url:ar}),"function"==typeof pn)try{pn(ar)}catch(Ys){console.error(Ys)}});return function(ar){return yr.apply(this,arguments)}}()}};function jl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Al(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function yi(D=(0,I.z$)()){return!("file:"!==Al()&&"ionic:"!==Al()&&"capacitor:"!==Al()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function fa(){try{const D=self.localStorage,f=Cr();if(D)return D.setItem(f,"1"),D.removeItem(f),!function ud(D=(0,I.z$)()){return function rc(){return(0,I.w1)()&&11===document?.documentMode}()||function zl(D=(0,I.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,I.hl)()}catch{return Lu()&&(0,I.hl)()}return!1}function Lu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wl(){return(function Ks(){return"http:"===Al()||"https:"===Al()}()||(0,I.ru)()||yi())&&!function Nh(){return(0,I.b$)()||(0,I.UG)()}()&&fa()&&!Lu()}function ic(){return yi()&&typeof document<"u"}function Zl(){return(Zl=(0,a.Z)(function*(){return!!ic()&&new Promise(D=>{const f=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),D(!0)})})})).apply(this,arguments)}const Ta={LOCAL:"local",NONE:"none",SESSION:"session"},bu=ae,Mr="persistence";function sc(D){return ql.apply(this,arguments)}function ql(){return(ql=(0,a.Z)(function*(D){yield D._initializationPromise;const f=Uu(),y=ke(Mr,D.config.apiKey,D.name);f&&f.setItem(y,D._getPersistence())})).apply(this,arguments)}function Uu(){var D;try{return(null===(D=function vu(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const cd=ae;class _l{constructor(){this.browserResolver=rn(Ou),this.cordovaResolver=rn(el),this.underlyingResolver=null,this._redirectPersistence=Tr,this._completeRedirectFn=Jn,this._overrideRedirectResult=Va}_initialize(f){var y=this;return(0,a.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,y,A,Y){var se=this;return(0,a.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(f,y,A,Y)})()}_openRedirect(f,y,A,Y){var se=this;return(0,a.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(f,y,A,Y)})()}_isIframeWebStorageSupported(f,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,y)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ic()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const y=yield function Sa(){return Zl.apply(this,arguments)}();f.underlyingResolver=y?f.cordovaResolver:f.browserResolver})()}}function ac(D){return D.unwrap()}function uc(D){return dd(D)}function dd(D){const{_tokenResponse:f}=D instanceof I.ZR?D.customData:D;if(!f)return null;if(!(D instanceof I.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Hl.credentialFromResult(D);const y=f.providerId;if(!y||"password"===y)return null;let A;switch(y){case"google.com":A=Xo;break;case"facebook.com":A=To;break;case"github.com":A=mo;break;case"twitter.com":A=Ga;break;default:const{oauthIdToken:Y,oauthAccessToken:se,oauthTokenSecret:Ze,pendingToken:xt,nonce:pn}=f;return se||Ze||Y||xt?xt?y.startsWith("saml.")?Fs._create(y,xt):Xe._fromParams({providerId:y,signInMethod:y,pendingToken:xt,idToken:Y,accessToken:se}):new ks(y).credential({idToken:Y,accessToken:se,rawNonce:pn}):null}return D instanceof I.ZR?A.credentialFromError(D):A.credentialFromResult(D)}function Ka(D,f){return f.catch(y=>{throw y instanceof I.ZR&&function Kl(D,f){var y;const A=null===(y=f.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new uu(D,function es(D,f){var y;const A=(0,I.m9)(D),Y=f;return ae(f.customData.operationType,A,"argument-error"),ae(null===(y=Y.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,A,"argument-error"),Xa._fromError(A,Y)}(D,f));else if(A){const Y=dd(f),se=f;Y&&(se.credential=Y,se.tenantId=A.tenantId||void 0,se.email=A.email||void 0,se.phoneNumber=A.phoneNumber||void 0)}}(D,y),y}).then(y=>{const Y=y.user;return{operationType:y.operationType,credential:uc(y),additionalUserInfo:Zs(y),user:Ml.getOrCreate(Y)}})}function hd(D,f){return fd.apply(this,arguments)}function fd(){return(fd=(0,a.Z)(function*(D,f){const y=yield f;return{verificationId:y.verificationId,confirm:A=>Ka(D,y.confirm(A))}})).apply(this,arguments)}class uu{constructor(f,y){this.resolver=y,this.auth=function lc(D){return D.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ka(ac(this.auth),this.resolver.resolveSignIn(f))}}class Ml{constructor(f){this._delegate=f,this.multiFactor=function x(D){const f=(0,I.m9)(D);return ba.has(f)||ba.set(f,Fa._fromUser(f)),ba.get(f)}(f)}static getOrCreate(f){return Ml.USER_MAP.has(f)||Ml.USER_MAP.set(f,new Ml(f)),Ml.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var y=this;return(0,a.Z)(function*(){return Ka(y.auth,Vr(y._delegate,f))})()}linkWithPhoneNumber(f,y){var A=this;return(0,a.Z)(function*(){return hd(A.auth,function os(D,f,y){return bo.apply(this,arguments)}(A._delegate,f,y))})()}linkWithPopup(f){var y=this;return(0,a.Z)(function*(){return Ka(y.auth,function oe(D,f,y){return $e.apply(this,arguments)}(y._delegate,f,_l))})()}linkWithRedirect(f){var y=this;return(0,a.Z)(function*(){return yield sc(kr(y.auth)),function Je(D,f,y){return function vt(D,f,y){return Qt.apply(this,arguments)}(D,f,y)}(y._delegate,f,_l)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var y=this;return(0,a.Z)(function*(){return Ka(y.auth,zi(y._delegate,f))})()}reauthenticateWithPhoneNumber(f,y){return hd(this.auth,function qs(D,f,y){return Ba.apply(this,arguments)}(this._delegate,f,y))}reauthenticateWithPopup(f){return Ka(this.auth,function G(D,f,y){return X.apply(this,arguments)}(this._delegate,f,_l))}reauthenticateWithRedirect(f){var y=this;return(0,a.Z)(function*(){return yield sc(kr(y.auth)),function z(D,f,y){return function ee(D,f,y){return Ee.apply(this,arguments)}(D,f,y)}(y._delegate,f,_l)})()}sendEmailVerification(f){return function va(D,f){return Vs.apply(this,arguments)}(this._delegate,f)}unlink(f){var y=this;return(0,a.Z)(function*(){return yield function is(D,f){return Ls.apply(this,arguments)}(y._delegate,f),y})()}updateEmail(f){return function Go(D,f){return za((0,I.m9)(D),f,null)}(this._delegate,f)}updatePassword(f){return function zo(D,f){return za((0,I.m9)(D),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function nu(D,f){return Za.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Wi(D,f){return Es.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,y){return function Pa(D,f,y){return Pi.apply(this,arguments)}(this._delegate,f,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ml.USER_MAP=new WeakMap;const Vu=ae;let us=(()=>{class D{constructor(y,A){if(this.app=y,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=y.options;Vu(Y,"invalid-api-key",{appName:y.name}),Vu(Y,"invalid-api-key",{appName:y.name});const se=typeof window<"u"?_l:void 0;this._delegate=A.initialize({options:{persistence:Gd(Y,y.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap(St),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ml.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,A){!function Ps(D,f,y){const A=kr(D);ae(A._canInitEmulator,A,"emulator-config-failed"),ae(/^https?:\/\//.test(f),A,"invalid-emulator-scheme");const Y=!!y?.disableWarnings,se=cs(f),{host:Ze,port:xt}=function eo(D){const f=cs(D),y=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const se=Y[1];return{host:se,port:vr(A.substr(se.length+1))}}{const[se,Ze]=A.split(":");return{host:se,port:vr(Ze)}}}(f);A.config.emulator={url:`${se}//${Ze}${null===xt?"":`:${xt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ze,port:xt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function Mi(){function D(){const f=document.createElement("p"),y=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,y,A)}applyActionCode(y){return function $o(D,f){return uo.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Mo(this._delegate,y)}confirmPasswordReset(y,A){return function ia(D,f,y){return Yn.apply(this,arguments)}(this._delegate,y,A)}createUserWithEmailAndPassword(y,A){var Y=this;return(0,a.Z)(function*(){return Ka(Y._delegate,function ya(D,f,y){return No.apply(this,arguments)}(Y._delegate,y,A))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Bs(D,f){return Us.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function re(D,f){return"EMAIL_SIGNIN"===ro.parseLink(f)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,a.Z)(function*(){Vu(Wl(),y._delegate,"operation-not-supported-in-this-environment");const A=yield function Pn(D,f){return nr.apply(this,arguments)}(y._delegate,_l);return A?Ka(y._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Mh(D,f){kr(D)._logFramework(f)}(this._delegate,y)}onAuthStateChanged(y,A,Y){const{next:se,error:Ze,complete:xt}=Hu(y,A,Y);return this._delegate.onAuthStateChanged(se,Ze,xt)}onIdTokenChanged(y,A,Y){const{next:se,error:Ze,complete:xt}=Hu(y,A,Y);return this._delegate.onIdTokenChanged(se,Ze,xt)}sendSignInLinkToEmail(y,A){return function L(D,f,y){return F.apply(this,arguments)}(this._delegate,y,A)}sendPasswordResetEmail(y,A){return function bs(D,f,y){return As.apply(this,arguments)}(this._delegate,y,A||void 0)}setPersistence(y){var A=this;return(0,a.Z)(function*(){let Y;switch(function Bu(D,f){bu(Object.values(Ta).includes(f),D,"invalid-persistence-type"),(0,I.b$)()?bu(f!==Ta.SESSION,D,"unsupported-persistence-type"):(0,I.UG)()?bu(f===Ta.NONE,D,"unsupported-persistence-type"):Lu()?bu(f===Ta.NONE||f===Ta.LOCAL&&(0,I.hl)(),D,"unsupported-persistence-type"):bu(f===Ta.NONE||fa(),D,"unsupported-persistence-type")}(A._delegate,y),y){case Ta.SESSION:Y=Tr;break;case Ta.LOCAL:Y=(yield rn(br)._isAvailable())?br:Dn;break;case Ta.NONE:Y=_e;break;default:return Ye("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Ka(this._delegate,function ta(D){return Vo.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Ka(this._delegate,Ti(this._delegate,y))}signInWithCustomToken(y){return Ka(this._delegate,function lo(D,f){return Ri.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,A){return Ka(this._delegate,function k(D,f,y){return Ti((0,I.m9)(D),io.credential(f,y))}(this._delegate,y,A))}signInWithEmailLink(y,A){return Ka(this._delegate,function rt(D,f,y){return En.apply(this,arguments)}(this._delegate,y,A))}signInWithPhoneNumber(y,A){return hd(this._delegate,function Rr(D,f,y){return Vl.apply(this,arguments)}(this._delegate,y,A))}signInWithPopup(y){var A=this;return(0,a.Z)(function*(){return Vu(Wl(),A._delegate,"operation-not-supported-in-this-environment"),Ka(A._delegate,function w(D,f,y){return P.apply(this,arguments)}(A._delegate,y,_l))})()}signInWithRedirect(y){var A=this;return(0,a.Z)(function*(){return Vu(Wl(),A._delegate,"operation-not-supported-in-this-environment"),yield sc(A._delegate),function Mu(D,f,y){return function mu(D,f,y){return U.apply(this,arguments)}(D,f,y)}(A._delegate,y,_l)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function jo(D,f){return _a.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Ta,D})();function Hu(D,f,y){let A=D;"function"!=typeof D&&({next:A,error:f,complete:y}=D);const Y=A;return{next:Ze=>Y(Ze&&Ml.getOrCreate(Ze)),error:f,complete:y}}function Gd(D,f){const y=function oc(D,f){const y=Uu();if(!y)return[];const A=ke(Mr,D,f);switch(y.getItem(A)){case Ta.NONE:return[_e];case Ta.LOCAL:return[br,Tr];case Ta.SESSION:return[Tr];default:return[]}}(D,f);if(typeof self<"u"&&!y.includes(br)&&y.push(br),typeof window<"u")for(const A of[Dn,Tr])y.includes(A)||y.push(A);return y.includes(_e)||y.push(_e),y}class Eu{constructor(){this.providerId="phone",this._delegate=new Hl(ac(te.Z.auth()))}static credential(f,y){return Hl.credential(f,y)}verifyPhoneNumber(f,y){return this._delegate.verifyPhoneNumber(f,y)}unwrap(){return this._delegate}}Eu.PHONE_SIGN_IN_METHOD=Hl.PHONE_SIGN_IN_METHOD,Eu.PROVIDER_ID=Hl.PROVIDER_ID;const Nl=ae;class cu{constructor(f,y,A=te.Z.app()){var Y;Nl(null===(Y=A.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Ii(f,y,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $u(D){D.INTERNAL.registerComponent(new je.wA("auth-compat",f=>{const y=f.getProvider("app-compat").getImmediate(),A=f.getProvider("auth");return new us(y,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:io,FacebookAuthProvider:To,GithubAuthProvider:mo,GoogleAuthProvider:Xo,OAuthProvider:ks,SAMLAuthProvider:ds,PhoneAuthProvider:Eu,PhoneMultiFactorGenerator:wo,RecaptchaVerifier:cu,TwitterAuthProvider:Ga,Auth:us,AuthCredential:ui,Error:I.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.3.3")}(te.Z)},8766:(un,et,j)=>{j.d(et,{Lj:()=>Ye,X3:()=>Ft});var a=j(5861);let I,pe;const je=new WeakMap,Oe=new WeakMap,Ge=new WeakMap,ye=new WeakMap,he=new WeakMap;let ft={get(ae,at,pt){if(ae instanceof IDBTransaction){if("done"===at)return Oe.get(ae);if("objectStoreNames"===at)return ae.objectStoreNames||Ge.get(ae);if("store"===at)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return At(ae[at])},set:(ae,at,pt)=>(ae[at]=pt,!0),has:(ae,at)=>ae instanceof IDBTransaction&&("done"===at||"store"===at)||at in ae};function nt(ae){return"function"==typeof ae?function qt(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...at){return ae.apply(ve(this),at),At(je.get(this))}:function(...at){return At(ae.apply(ve(this),at))}:function(at,...pt){const Vt=ae.call(ve(this),at,...pt);return Ge.set(Vt,at.sort?at.sort():[at]),At(Vt)}}(ae):(ae instanceof IDBTransaction&&function Pt(ae){if(Oe.has(ae))return;const at=new Promise((pt,Vt)=>{const rn=()=>{ae.removeEventListener("complete",Kt),ae.removeEventListener("error",ct),ae.removeEventListener("abort",ct)},Kt=()=>{pt(),rn()},ct=()=>{Vt(ae.error||new DOMException("AbortError","AbortError")),rn()};ae.addEventListener("complete",Kt),ae.addEventListener("error",ct),ae.addEventListener("abort",ct)});Oe.set(ae,at)}(ae),((ae,at)=>at.some(pt=>ae instanceof pt))(ae,function we(){return I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,ft):ae)}function At(ae){if(ae instanceof IDBRequest)return function Me(ae){const at=new Promise((pt,Vt)=>{const rn=()=>{ae.removeEventListener("success",Kt),ae.removeEventListener("error",ct)},Kt=()=>{pt(At(ae.result)),rn()},ct=()=>{Vt(ae.error),rn()};ae.addEventListener("success",Kt),ae.addEventListener("error",ct)});return at.then(pt=>{pt instanceof IDBCursor&&je.set(pt,ae)}).catch(()=>{}),he.set(at,ae),at}(ae);if(ye.has(ae))return ye.get(ae);const at=nt(ae);return at!==ae&&(ye.set(ae,at),he.set(at,ae)),at}const ve=ae=>he.get(ae);function Ft(ae,at,{blocked:pt,upgrade:Vt,blocking:rn,terminated:Kt}={}){const ct=indexedDB.open(ae,at),bt=At(ct);return Vt&&ct.addEventListener("upgradeneeded",st=>{Vt(At(ct.result),st.oldVersion,st.newVersion,At(ct.transaction))}),pt&&ct.addEventListener("blocked",()=>pt()),bt.then(st=>{Kt&&st.addEventListener("close",()=>Kt()),rn&&st.addEventListener("versionchange",()=>rn())}).catch(()=>{}),bt}function Ye(ae,{blocked:at}={}){const pt=indexedDB.deleteDatabase(ae);return at&&pt.addEventListener("blocked",()=>at()),At(pt).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],yt=new Map;function Tt(ae,at){if(!(ae instanceof IDBDatabase)||at in ae||"string"!=typeof at)return;if(yt.get(at))return yt.get(at);const pt=at.replace(/FromIndex$/,""),Vt=at!==pt,rn=We.includes(pt);if(!(pt in(Vt?IDBIndex:IDBObjectStore).prototype)||!rn&&!ge.includes(pt))return;const Kt=function(){var ct=(0,a.Z)(function*(bt,...st){const Ct=this.transaction(bt,rn?"readwrite":"readonly");let kt=Ct.store;return Vt&&(kt=kt.index(st.shift())),(yield Promise.all([kt[pt](...st),rn&&Ct.done]))[0]});return function(st){return ct.apply(this,arguments)}}();return yt.set(at,Kt),Kt}!function St(ae){ft=ae(ft)}(ae=>({...ae,get:(at,pt,Vt)=>Tt(at,pt)||ae.get(at,pt,Vt),has:(at,pt)=>!!Tt(at,pt)||ae.has(at,pt)}))},7185:(un,et,j)=>{j.d(et,{Rh:()=>st,_W:()=>Kt});var a=j(4650),te=j(7340),I=j(7579),pe=j(6895),we=j(1481);const De=["toast-component",""];function je(Ue,Mt){if(1&Ue){const Te=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(Te);const Ke=a.oxw();return a.KtG(Ke.remove())}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function Oe(Ue,Mt){if(1&Ue&&(a.ynx(0),a._uU(1),a.BQk()),2&Ue){const Te=a.oxw(2);a.xp6(1),a.hij("[",Te.duplicatesCount+1,"]")}}function Ge(Ue,Mt){if(1&Ue&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,Oe,2,1,"ng-container",4),a.qZA()),2&Ue){const Te=a.oxw();a.Tol(Te.options.titleClass),a.uIk("aria-label",Te.title),a.xp6(1),a.hij(" ",Te.title," "),a.xp6(1),a.Q6J("ngIf",Te.duplicatesCount)}}function ye(Ue,Mt){if(1&Ue&&a._UZ(0,"div",7),2&Ue){const Te=a.oxw();a.Tol(Te.options.messageClass),a.Q6J("innerHTML",Te.message,a.oJD)}}function he(Ue,Mt){if(1&Ue&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&Ue){const Te=a.oxw();a.Tol(Te.options.messageClass),a.uIk("aria-label",Te.message),a.xp6(1),a.hij(" ",Te.message," ")}}function Me(Ue,Mt){if(1&Ue&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&Ue){const Te=a.oxw();a.xp6(1),a.Udp("width",Te.width+"%")}}class Ye{constructor(Mt,Te){this.component=Mt,this.injector=Te}attach(Mt,Te){return this._attachedHost=Mt,Mt.attach(this,Te)}detach(){const Mt=this._attachedHost;if(Mt)return this._attachedHost=void 0,Mt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Mt){this._attachedHost=Mt}}class ge{attach(Mt,Te){return this._attachedPortal=Mt,this.attachComponentPortal(Mt,Te)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Mt){this._disposeFn=Mt}}class We{constructor(Mt){this._overlayRef=Mt,this.duplicatesCount=0,this._afterClosed=new I.x,this._activate=new I.x,this._manualClose=new I.x,this._resetTimeout=new I.x,this._countDuplicate=new I.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Mt,Te){Mt&&this._resetTimeout.next(),Te&&this._countDuplicate.next(++this.duplicatesCount)}}class yt{constructor(Mt,Te,Ce,Ke,Jt,wn){this.toastId=Mt,this.config=Te,this.message=Ce,this.title=Ke,this.toastType=Jt,this.toastRef=wn,this._onTap=new I.x,this._onAction=new I.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Mt){this._onAction.next(Mt)}onAction(){return this._onAction.asObservable()}}const ae=new a.OlP("ToastConfig");class at extends ge{constructor(Mt,Te,Ce){super(),this._hostDomElement=Mt,this._componentFactoryResolver=Te,this._appRef=Ce}attachComponentPortal(Mt,Te){const Ce=this._componentFactoryResolver.resolveComponentFactory(Mt.component);let Ke;return Ke=Ce.create(Mt.injector),this._appRef.attachView(Ke.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ke.hostView),Ke.destroy()}),Te?this._hostDomElement.insertBefore(this._getComponentRootNode(Ke),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ke)),Ke}_getComponentRootNode(Mt){return Mt.hostView.rootNodes[0]}}class pt{constructor(Mt){this._portalHost=Mt}attach(Mt,Te=!0){return this._portalHost.attach(Mt,Te)}detach(){return this._portalHost.detach()}}let Vt=(()=>{class Ue{constructor(Te){this._document=Te}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Te=this._document.createElement("div");Te.classList.add("overlay-container"),Te.setAttribute("aria-live","polite"),this._document.body.appendChild(Te),this._containerElement=Te}}return Ue.\u0275fac=function(Te){return new(Te||Ue)(a.LFG(pe.K0))},Ue.\u0275prov=a.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})(),rn=(()=>{class Ue{constructor(Te,Ce,Ke,Jt){this._overlayContainer=Te,this._componentFactoryResolver=Ce,this._appRef=Ke,this._document=Jt,this._paneElements=new Map}create(Te,Ce){return this._createOverlayRef(this.getPaneElement(Te,Ce))}getPaneElement(Te="",Ce){return this._paneElements.get(Ce)||this._paneElements.set(Ce,{}),this._paneElements.get(Ce)[Te]||(this._paneElements.get(Ce)[Te]=this._createPaneElement(Te,Ce)),this._paneElements.get(Ce)[Te]}_createPaneElement(Te,Ce){const Ke=this._document.createElement("div");return Ke.id="toast-container",Ke.classList.add(Te),Ke.classList.add("toast-container"),Ce?Ce.getContainerElement().appendChild(Ke):this._overlayContainer.getContainerElement().appendChild(Ke),Ke}_createPortalHost(Te){return new at(Te,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Te){return new pt(this._createPortalHost(Te))}}return Ue.\u0275fac=function(Te){return new(Te||Ue)(a.LFG(Vt),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(pe.K0))},Ue.\u0275prov=a.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})(),Kt=(()=>{class Ue{constructor(Te,Ce,Ke,Jt,wn){this.overlay=Ce,this._injector=Ke,this.sanitizer=Jt,this.ngZone=wn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Te.default,...Te.config},Te.config.iconClasses&&(this.toastrConfig.iconClasses={...Te.default.iconClasses,...Te.config.iconClasses})}show(Te,Ce,Ke={},Jt=""){return this._preBuildNotification(Jt,Te,Ce,this.applyConfig(Ke))}success(Te,Ce,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Te,Ce,this.applyConfig(Ke))}error(Te,Ce,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Te,Ce,this.applyConfig(Ke))}info(Te,Ce,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Te,Ce,this.applyConfig(Ke))}warning(Te,Ce,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Te,Ce,this.applyConfig(Ke))}clear(Te){for(const Ce of this.toasts)if(void 0!==Te){if(Ce.toastId===Te)return void Ce.toastRef.manualClose()}else Ce.toastRef.manualClose()}remove(Te){const Ce=this._findToast(Te);if(!Ce||(Ce.activeToast.toastRef.close(),this.toasts.splice(Ce.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ke=this.toasts[this.currentlyActive].toastRef;Ke.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ke.activate())}return!0}findDuplicate(Te="",Ce="",Ke,Jt){const{includeTitleDuplicates:wn}=this.toastrConfig;for(const Qn of this.toasts)if((!wn||wn&&Qn.title===Te)&&Qn.message===Ce)return Qn.toastRef.onDuplicate(Ke,Jt),Qn;return null}applyConfig(Te={}){return{...this.toastrConfig,...Te}}_findToast(Te){for(let Ce=0;Ce<this.toasts.length;Ce++)if(this.toasts[Ce].toastId===Te)return{index:Ce,activeToast:this.toasts[Ce]};return null}_preBuildNotification(Te,Ce,Ke,Jt){return Jt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Te,Ce,Ke,Jt)):this._buildNotification(Te,Ce,Ke,Jt)}_buildNotification(Te,Ce,Ke,Jt){if(!Jt.toastComponent)throw new Error("toastComponent required");const wn=this.findDuplicate(Ke,Ce,this.toastrConfig.resetTimeoutOnDuplicate&&Jt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ke||Ce)&&this.toastrConfig.preventDuplicates&&null!==wn)return wn;this.previousToastMessage=Ce;let Qn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Qn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const fr=this.overlay.create(Jt.positionClass,this.overlayContainer);this.index=this.index+1;let wr=Ce;Ce&&Jt.enableHtml&&(wr=this.sanitizer.sanitize(a.q3G.HTML,Ce));const $n=new We(fr),Xn=new yt(this.index,Jt,wr,Ke,Te,$n),Ve=a.zs3.create({providers:[{provide:yt,useValue:Xn}],parent:this._injector}),He=new Ye(Jt.toastComponent,Ve),Le=fr.attach(He,Jt.newestOnTop);$n.componentInstance=Le.instance;const dt={toastId:this.index,title:Ke||"",message:Ce||"",toastRef:$n,onShown:$n.afterActivate(),onHidden:$n.afterClosed(),onTap:Xn.onTap(),onAction:Xn.onAction(),portal:Le};return Qn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{dt.toastRef.activate()})),this.toasts.push(dt),dt}}return Ue.\u0275fac=function(Te){return new(Te||Ue)(a.LFG(ae),a.LFG(rn),a.LFG(a.zs3),a.LFG(we.H7),a.LFG(a.R0b))},Ue.\u0275prov=a.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();const bt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Ue{constructor(Te,Ce,Ke){this.toastrService=Te,this.toastPackage=Ce,this.ngZone=Ke,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ce.message,this.title=Ce.title,this.options=Ce.config,this.originalTimeout=Ce.config.timeOut,this.toastClasses=`${Ce.toastType} ${Ce.config.toastClass}`,this.sub=Ce.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ce.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ce.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ce.toastRef.countDuplicate().subscribe(Jt=>{this.duplicatesCount=Jt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Te=(new Date).getTime();this.width=(this.hideTime-Te)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Te,Ce){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Te),Ce)):this.timeout=setTimeout(()=>Te(),Ce)}outsideInterval(Te,Ce){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Te),Ce)):this.intervalId=setInterval(()=>Te(),Ce)}runInsideAngular(Te){this.ngZone?this.ngZone.run(()=>Te()):Te()}}return Ue.\u0275fac=function(Te){return new(Te||Ue)(a.Y36(Kt),a.Y36(yt),a.Y36(a.R0b))},Ue.\u0275cmp=a.Xpm({type:Ue,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Te,Ce){1&Te&&a.NdJ("click",function(){return Ce.tapToast()})("mouseenter",function(){return Ce.stickAround()})("mouseleave",function(){return Ce.delayedHideToast()}),2&Te&&(a.d8E("@flyInOut",Ce.state),a.Tol(Ce.toastClasses),a.Udp("display",Ce.displayStyle))},attrs:De,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Te,Ce){1&Te&&(a.YNc(0,je,3,0,"button",0),a.YNc(1,Ge,3,5,"div",1),a.YNc(2,ye,1,3,"div",2),a.YNc(3,he,2,4,"div",3),a.YNc(4,Me,2,2,"div",4)),2&Te&&(a.Q6J("ngIf",Ce.options.closeButton),a.xp6(1),a.Q6J("ngIf",Ce.title),a.xp6(1),a.Q6J("ngIf",Ce.message&&Ce.options.enableHtml),a.xp6(1),a.Q6J("ngIf",Ce.message&&!Ce.options.enableHtml),a.xp6(1),a.Q6J("ngIf",Ce.options.progressBar))},dependencies:[pe.O5],encapsulation:2,data:{animation:[(0,te.X$)("flyInOut",[(0,te.SB)("inactive",(0,te.oB)({opacity:0})),(0,te.SB)("active",(0,te.oB)({opacity:1})),(0,te.SB)("removed",(0,te.oB)({opacity:0})),(0,te.eR)("inactive => active",(0,te.jt)("{{ easeTime }}ms {{ easing }}")),(0,te.eR)("active => removed",(0,te.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ue})()};let st=(()=>{class Ue{static forRoot(Te={}){return{ngModule:Ue,providers:[{provide:ae,useValue:{default:bt,config:Te}}]}}}return Ue.\u0275fac=function(Te){return new(Te||Ue)},Ue.\u0275mod=a.oAB({type:Ue}),Ue.\u0275inj=a.cJS({imports:[pe.ez]}),Ue})()},5861:(un,et,j)=>{function a(I,pe,we,De,je,Oe,Ge){try{var ye=I[Oe](Ge),he=ye.value}catch(Me){return void we(Me)}ye.done?pe(he):Promise.resolve(he).then(De,je)}function te(I){return function(){var pe=this,we=arguments;return new Promise(function(De,je){var Oe=I.apply(pe,we);function Ge(he){a(Oe,De,je,Ge,ye,"next",he)}function ye(he){a(Oe,De,je,Ge,ye,"throw",he)}Ge(void 0)})}}j.d(et,{Z:()=>te})}},un=>{var et=a=>un(un.s=a);et(1321),et(5739)}]);